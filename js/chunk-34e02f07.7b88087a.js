(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34e02f07"],{"0786":function(e,t,i){"use strict";var n=i("6062"),a=i.n(n);a.a},"07b2":function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"difficulty-mark"},[e.difficulty===e.Difficulty.VeryHard?i("div",{staticClass:"very-hard"}):e._e(),e.difficulty===e.Difficulty.Hard?i("div",{staticClass:"hard"}):e._e(),e.difficulty===e.Difficulty.Medium?i("div",{staticClass:"medium"}):e._e(),e.difficulty===e.Difficulty.Easy?i("div",{staticClass:"easy"}):e._e(),e.difficulty===e.Difficulty.VeryEasy?i("div",{staticClass:"very-easy"}):e._e(),e.difficulty===e.Difficulty.NoDifficulty||e.difficulty===e.Difficulty.NoLabel?i("div",{staticClass:"noDifficulty"}):e._e()])},r=[],s=i("2b0e");(function(e){e["VeryHard"]="VERY_HARD",e["Hard"]="HARD",e["Medium"]="MEDIUM",e["Easy"]="EASY",e["VeryEasy"]="VERY_EASY",e["NoDifficulty"]="",e["NoLabel"]="UN_LABEL"})(n||(n={}));var o=s["default"].extend({name:"QuizInstanceCard",components:{},props:{difficulty:{type:String,default:""}},data:function(){return{Difficulty:n}},methods:{}}),u=o,c=(i("86d8"),i("2877")),d=Object(c["a"])(u,a,r,!1,null,"56a8e818",null);t["a"]=d.exports},"193a":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"quiz-group-preview"},[e.quizGroup?i("div",{staticClass:"container"},[i("div",{staticClass:"info-preview"},[i("div",{staticClass:"title"},[i("h2",[e._v(" "+e._s(e.$t("題組總覽"))+" ")])]),e.editPermission?i("div",{staticClass:"btn-area top-edit-btn"},[i("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.toQuizGroupMaker(t)}}},[e._v(" "+e._s(e.$t("編輯"))+" ")])]):e._e(),i("div",{staticClass:"preview-area"},[i("form",[i("div",{staticClass:"input-group"},[i("label",[e._v(e._s(e.$t("題組名稱")))]),i("div",[e._v(e._s(e.quizGroup.metadata.name))])]),i("div",{staticClass:"input-group"},[i("label",[e._v(e._s(e.$t("題組擁有者")))]),i("div",[e._v(e._s(e.quizGroup.metadata.owner.username))])]),i("div",{staticClass:"input-group"},[i("label",[e._v(e._s(e.$t("單元影片數量")))]),i("div",[e._v(e._s(e.quizGroup.videoUrlList.length))])]),i("div",{staticClass:"input-group"},[i("label",[e._v(e._s(e.$t("題目數量")))]),i("div",[e._v(e._s(e.quizGroup.quizList.length))])])])]),i("div",{staticClass:"video-area"},[e.isLoading?i("div",[i("loading",{attrs:{active:e.isLoading,"is-full-page":!1,"background-color":"transparent",height:30,width:30},on:{"update:active":function(t){e.isLoading=t}}})],1):e._e(),i("div",{staticClass:"btn-area"},[i("div",{staticClass:"subtitle"},[i("h2",[e._v(e._s(e.$t("題組影片")))])]),e.editPermission?i("div",[e.isVideoEditing?e._e():i("button",{staticClass:"btn btn-primary",on:{click:function(t){t.preventDefault(),e.isVideoEditing=!e.isVideoEditing}}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),e.isVideoEditing?i("button",{staticClass:"btn btn-success",on:{click:function(t){return t.preventDefault(),e.updateQuizVideo(t)}}},[e._v(" "+e._s(e.$t("儲存"))+" ")]):e._e()]):e._e()]),e.isVideoEditing?i("div",{staticClass:"edit-area"},[i("div",{staticClass:"upload-link-btn"},[i("button",{staticClass:"btn btn-secondary",attrs:{disabled:12===e.videoLinkSelection.length},on:{click:function(t){return t.preventDefault(),e.handleUpdateVideo(t)}}},[12===e.videoLinkSelection.length?i("span",[e._v(e._s(e.$t("影片數量已達上限")))]):e.quizGroup.videoUrlList?i("span",[e._v(e._s(e.$t("新增題組影片")))]):e._e()])]),i("div",{staticClass:"upload-link-btn d-none"},[i("label",{staticClass:"btn btn-secondary",attrs:{for:"videoFile"}},[i("i",{staticClass:"fas fa-file-upload mr-2"}),e._v(e._s(e.$t("上傳影片"))+" ")]),i("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{id:"videoFile",type:"file",name:"videoFile",accept:"video/*"},on:{change:e.fileClick}})]),i("div",{staticClass:"check-list-area"},[i("checkedItems",{attrs:{"checked-list":e.videoLinkSelection,"group-type":"video"}})],1)]):e._e(),e.isVideoEditing?e._e():i("div",{staticClass:"video-content"},[e.videoLinkSelection.length>0?i("div",{staticClass:"video-list"},e._l(e.videoLinkSelection,(function(t,n){return i("div",{key:n,staticClass:"text-left col-sm-4 col-md-3 col-lg-2"},[i("div",{staticClass:"video-info"},[i("p",{staticClass:"url-btn btn",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:t},on:{click:function(i){return i.preventDefault(),e.openLink(t)}}},[e._v(" "+e._s(e.$t("影片連結"))+e._s(n+1)+" ")])])])})),0):i("div",{staticClass:"tip-area"},[i("p",[e._v(e._s(e.$t("目前尚無任何內容")))])])])]),i("div",{staticClass:"subtitle"},[i("h2",[e._v(" "+e._s(e.$t("題組內容"))+" "),e.editPermission?i("div",{staticClass:"print_pdf",on:{click:e.saveAsPdf}},[i("i",{staticClass:"fas fa-file mr-1"}),e._v(e._s(e.$t("輸出至PDF"))+" ")]):e._e()]),i("div",{staticClass:"total-score"},[i("div",{staticClass:"label"},[e._v(" "+e._s(e.$t("總分"))+"： "+e._s(e.totalScore)+" ")]),e.scoreEditor?i("div",{staticClass:"hidden-btn"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgHidden,expression:"imgHidden"}],attrs:{id:"img-hidden",type:"checkbox",name:"img-hidden"},domProps:{checked:Array.isArray(e.imgHidden)?e._i(e.imgHidden,null)>-1:e.imgHidden},on:{change:function(t){var i=e.imgHidden,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.imgHidden=i.concat([r])):s>-1&&(e.imgHidden=i.slice(0,s).concat(i.slice(s+1)))}else e.imgHidden=a}}}),i("label",{attrs:{for:"img-hidden"}},[e._v(e._s(e.$t("隱藏圖片")))])]):e._e(),i("div",[e.scoreEditor?e._e():i("button",{staticClass:"btn btn-primary",on:{click:function(t){t.preventDefault(),e.scoreEditor=!0}}},[e._v(" "+e._s(e.$t("編輯配分"))+" ")]),e.scoreEditor?i("button",{staticClass:"btn btn-secondary mr-1",on:{click:function(t){return t.preventDefault(),e.cencleEditedScore(t)}}},[e._v(" "+e._s(e.$t("取消"))+" ")]):e._e(),e.scoreEditor?i("button",{staticClass:"btn btn-success",on:{click:function(t){return t.preventDefault(),e.updateEditedScore(t)}}},[e._v(" "+e._s(e.$t("儲存"))+" ")]):e._e()])])]),i("div",{staticClass:"quiz-list"},[0===e.quizGroup.quizList.length?i("div",[e._v(" "+e._s(e.$t("尚無內容"))+" ")]):e._e(),e._l(e.quizGroup.quizList,(function(t,n){return i("div",{key:t.uuid,staticClass:"quiz"},[i("div",[i("DifficultyMark",{attrs:{difficulty:t.difficulty}}),i("div",{staticClass:"quiz-index"},[e._v(" "+e._s(e.$t("第n題",{n:n+1}))+" ")]),i("div",{staticClass:"quiz-img"},[e.imgHidden?e._e():i("img",{attrs:{src:t.previewImage.url,alt:n}})])],1),t.enableAudio&&t.audioUrl?i("div",{staticClass:"audio-btns"},[i("AudioPlayBtn",{attrs:{"audio-url":t.audioUrl}})],1):e._e(),i("div",[e.scoreEditor?e._e():i("div",{staticClass:"quiz-answer"},[t.answerSet&&0!==t.answerSet.length?i("div",[e._v(" "+e._s(e.$t("解答"))+"： "),e._l(t.answerSet,(function(t,n){return i("span",{key:n},[""!==t?i("span",[e._v(" "+e._s(t)+" ")]):e._e(),""===t?i("span",[e._v(" "+e._s(e.$t("本題無答案"))+" ")]):e._e()])}))],2):e._e(),t.answerSet&&0===t.answerSet.length?i("div",[e._v(" "+e._s(e.$t("解答"))+"： "),i("span",{},[e._v(e._s(e.$t("本題無解答")))])]):e._e(),i("div",[t.multipleSelect?i("span",{staticClass:"remind multiple"},[e._v("複")]):e._e(),t.multipleSelect||1!==t.answerSet.length?e._e():i("span",{staticClass:"remind oneSelect"},[e._v("單")]),t.multipleSelect||0!==t.answerSet.length?e._e():i("span",{staticClass:"remind noAnswer"},[e._v("無")])])]),e.scoreEditor?i("ScoreEditor",{attrs:{"score-editor":e.scoreEditor,score:t.score,quiz:t},on:{calculateTotal:e.calculateTotal}}):e._e()],1)])}))],2),i("div",{staticClass:"btn-area last-page"},[i("BackButton")],1)])]):e._e(),i("UpdateQuizVideoModal",{on:{submit:e.updateSelection}})],1)},a=[],r=(i("4160"),i("b0c0"),i("a9e3"),i("d3b7"),i("25f0"),i("3ca3"),i("159b"),i("ddb0"),i("96cf"),i("1da1")),s=i("2b0e"),o=i("aa73"),u=i("60c8"),c=i("74c9"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-btns"},[e.isAudioPlaying?e._e():i("button",{staticClass:"btn btn-light",on:{click:function(t){return t.preventDefault(),e.playAudio(e.audioUrl)}}},[i("i",{staticClass:"fas fa-play"})]),e.isAudioPlaying?i("button",{staticClass:"btn btn-light",on:{click:function(t){return t.preventDefault(),e.stopAudio(e.audioUrl)}}},[i("i",{staticClass:"fas fa-stop"})]):e._e()])},l=[],p=i("b47d"),f=s["default"].extend({components:{},props:{audioUrl:{type:String,required:!0}},data:function(){return{isAudioPlaying:!1,audioSource:new Audio}},computed:{},mounted:function(){p["a"].$on("stop-all-audios",this.stopAudio)},methods:{playAudio:function(e){p["a"].$emit("stop-all-audios"),this.audioSource=new Audio(e),this.audioSource.play(),this.isAudioPlaying=!0},stopAudio:function(){this.audioSource.pause(),this.isAudioPlaying=!1}}}),v=f,m=(i("4ba1"),i("2877")),h=Object(m["a"])(v,d,l,!1,null,"f50c8dca",null),_=h.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("modal",{attrs:{name:e.modalName,transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[i("div",{staticClass:"box"},[i("div",{staticClass:"partition"},[i("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("新增影片網址"))+" ")]),i("div",{staticClass:"partition-form"},[i("form",{attrs:{autocomplete:"false"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.videoLink,expression:"videoLink"}],attrs:{id:"link",type:"text",placeholder:"Video Link"},domProps:{value:e.videoLink},on:{input:function(t){t.target.composing||(e.videoLink=t.target.value)}}})]),i("div",{staticClass:"button-set"},[i("button",{attrs:{id:"cencel-btn"},on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("取消"))+" ")]),i("button",{attrs:{id:"create-btn"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("確定"))+" ")])])])])])])},b=[],y=656,C=s["default"].extend({data:function(){return{modalName:"update-quiz-vedio-modal",modalWidth:y,isLoading:!1,videoLink:"",videoLinks:[]}},computed:{},created:function(){this.modalWidth=window.innerWidth<y?y/2:y},methods:{beforeOpen:function(e){this.videoLink=""},handleCancel:function(){console.log("取消"),this.$modal.hide(this.modalName)},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$modal.hide(e.modalName),e.$emit("submit",e.videoLink);case 2:case"end":return t.stop()}}),t)})))()}}}),k=C,w=(i("f435"),i("2dd3"),Object(m["a"])(k,g,b,!1,null,null,null)),S=w.exports,x=i("20ca"),$=i("07b2"),q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"score-area"},[e._v(" "+e._s(e.$t("配分"))+"： "),e.scoreEditor?e._e():i("span",[e._v(" "+e._s(e.editedScore)+" ")]),e.scoreEditor?i("span",{staticClass:"score-edit"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.editedScore,expression:"editedScore"}],attrs:{type:"number",min:"0",max:"100"},domProps:{value:e.editedScore},on:{change:e.calculateTotal,input:function(t){t.target.composing||(e.editedScore=t.target.value)}}})]):e._e()])},z=[],E=s["default"].extend({name:"ScoreEditor",components:{},props:{score:{type:Number,required:!0},scoreEditor:{type:Boolean,required:!0},quiz:{type:Object,required:!0}},data:function(){return{editedScore:this.score}},computed:{},watch:{},methods:{calculateTotal:function(){this.quiz.score=Number(this.editedScore),this.$emit("calculateTotal")}}}),L=E,A=(i("a002"),Object(m["a"])(L,q,z,!1,null,"55af7565",null)),O=A.exports,G=i("fd0e"),N=i("f05a"),R=s["default"].extend({components:{BackButton:c["a"],AudioPlayBtn:_,UpdateQuizVideoModal:S,checkedItems:x["a"],DifficultyMark:$["a"],ScoreEditor:O},data:function(){return{isLoading:!1,quizGroup:null,isAudioPlaying:!1,theAudio:new Audio,totalScore:0,scoreEditor:!1,imgHidden:!1,isVideoEditing:!1,videoLinkSelection:[]}},computed:{workspaceId:function(){return this.$store.state.currentWorkspace.uuid},currentQuizGroup:function(){return this.$store.state.currentQuizGroup},quizGroupId:function(){return this.$store.state.currentQuizGroup.uuid},editPermission:function(){return this.$store.state.editPermission}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o["a"].loginCheck(),e.$store.commit("updateLoading",!0),t.prev=2,t.next=5,u["a"].retrieve(e.quizGroupId);case 5:e.quizGroup=t.sent,console.log(e.quizGroup.videoUrlList),e.quizGroup.videoUrlList||(e.quizGroup.videoUrlList=[],console.log("----undefine----")),e.videoLinkSelection=e.quizGroup.videoUrlList,console.log(e.quizGroup.videoUrlList),e.quizGroup.quizList.forEach((function(e){""===e.answerSet[0]&&(e.answerSet=[])})),e.totalScore=e.quizGroup.totalScore;case 12:return t.prev=12,e.$store.commit("updateLoading",!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,,12,15]])})))()},methods:{fileClick:function(e){var t=e.target.files;this.addVideoFile(t)},addVideoFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.length>0&&(n=e[0],console.log(n.name),t.uploadVideo(n,n.name));case 1:case"end":return i.stop()}}),i)})))()},uploadVideo:function(e,t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.isLoading=!0,n.prev=1,n.next=4,N["a"].uploadVideo(e,t);case 4:a=n.sent,console.log(a),i.videoLinkSelection.push(a),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error(n.t0),i.$notify({type:"error",title:i.$t("錯誤").toString(),text:i.$t("無法讀取檔案").toString()});case 13:return n.prev=13,i.isLoading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},toQuizGroupMaker:function(){this.$router.push("/manager/quizgroup-maker")},calculateTotal:function(){var e=0;this.quizGroup&&this.quizGroup.quizList.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e+=Number(i.score);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.totalScore=e},updateEditedScore:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("updateLoading",!0),e.scoreEditor=!1,e.imgHidden=!1,t.prev=3,!e.quizGroup){t.next=9;break}return i=[],e.quizGroup.quizList.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={quizGroupId:e.quizGroupId,quizId:n.uuid,score:n.score},r=G["a"].setScore(a),i.push(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(i);case 9:return t.prev=9,e.$store.commit("updateLoading",!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[3,,9,12]])})))()},cencleEditedScore:function(){this.scoreEditor=!1,this.imgHidden=!1,window.location.reload()},handleUpdateVideo:function(){this.$modal.show("update-quiz-vedio-modal",{quizGroup:this.quizGroup})},updateSelection:function(e){this.videoLinkSelection.push(e)},updateQuizVideo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updateLoading",!0),i={videoUrlList:e.videoLinkSelection},t.prev=2,e.quizGroup&&(e.quizGroup.videoUrlList=e.videoLinkSelection,console.log(e.quizGroup.videoUrlList)),t.next=6,u["a"].update(e.quizGroupId,i);case 6:console.log(e.quizGroupId),e.isVideoEditing=!e.isVideoEditing;case 8:return t.prev=8,e.$store.commit("updateLoading",!1),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[2,,8,11]])})))()},saveAsPdf:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("updateLoading",!0),t.prev=1,!e.quizGroup){t.next=5;break}return t.next=5,u["a"].saveAsPdf(e.quizGroupId,e.quizGroup.metadata.name);case 5:return t.prev=5,e.$store.commit("updateLoading",!1),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[1,,5,8]])})))()},openLink:function(e){window.open(e,"_blank")}}}),D=R,j=(i("ca35"),Object(m["a"])(D,n,a,!1,null,"20dc2a10",null));t["default"]=j.exports},"1cca":function(e,t,i){},"20ca":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"checked-items"},["video"===e.groupType?i("h2",[e._v(" "+e._s(e.$t("影片連結"))+" ")]):i("h2",[e._v(" "+e._s(e.$t("已選項目"))+" ")]),"member"===e.groupType?i("div",{staticClass:"content"},e._l(e.checkedList,(function(t){return i("div",{key:t.uuid,staticClass:"item"},["WorkspaceFolder"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(e._s(t.metadata.name))]),i("div",[e._v(e._s(e.$t("資料夾")))])]):e._e(),"WorkspaceMemberGroup"===t.metadata.type?i("div",{staticClass:"item-area"},[t.sourceObject?i("div",[e._v(" "+e._s(t.sourceObject.uniqueName)+" ")]):i("div",[e._v(" "+e._s(t.uniqueName)+" ")]),i("div",[e._v(e._s(e.$tc("n人",t.memberCount,{n:t.memberCount})))])]):e._e(),"WorkspaceSoftLink"===t.metadata.type?i("div",{staticClass:"item-area"},[i("div",[e._v(" "+e._s(t.sourceObject.uniqueName)+" "),i("i",{staticClass:"fas fa-user-friends shared-item"})]),"member"===e.groupType?i("div",[e._v(" "+e._s(e.$tc("n人",t.sourceObject.memberCount,{n:t.sourceObject.memberCount}))+" ")]):e._e()]):e._e()])})),0):e._e(),"quiz"===e.groupType?i("div",{staticClass:"content"},[i("div",[i("handle-draggable",{attrs:{"checked-list":e.checkedList,"group-type":e.groupType}})],1)]):e._e(),"video"===e.groupType?i("div",{staticClass:"content"},[i("div",[i("handle-draggable",{attrs:{"checked-list":e.checkedList}})],1)]):e._e()])},a=[],r=i("2b0e"),s=i("8198"),o=r["default"].extend({components:{HandleDraggable:s["a"]},props:{checkedList:{type:Array,default:function(){return[]}},groupType:{type:String,default:""}},data:function(){return{}},computed:{}}),u=o,c=(i("b771"),i("2877")),d=Object(c["a"])(u,n,a,!1,null,"7a835511",null);t["a"]=d.exports},"2dd3":function(e,t,i){"use strict";var n=i("a7c8"),a=i.n(n);a.a},"406b":function(e,t,i){},"414b":function(e,t,i){},"4ba1":function(e,t,i){"use strict";var n=i("414b"),a=i.n(n);a.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),a=i("5899"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),u=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(s,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:u(1),end:u(2),trim:u(3)}},6062:function(e,t,i){},7156:function(e,t,i){var n=i("861d"),a=i("d2bb");e.exports=function(e,t,i){var r,s;return a&&"function"==typeof(r=t.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&a(e,s),e}},"74c9":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{on:{click:function(t){return t.preventDefault(),e.$router.go(-1)}}},[i("i",{staticClass:"fas fa-arrow-left mr-1"}),e._v(" "+e._s(e.$t("上一頁"))+" ")])},a=[],r=(i("79b4"),i("2877")),s={},o=Object(r["a"])(s,n,a,!1,null,"40b0db68",null);t["a"]=o.exports},"79b4":function(e,t,i){"use strict";var n=i("406b"),a=i.n(n);a.a},8198:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.checkedList?i("div",[i("draggable",{staticClass:"list-group",class:{scheduled:"scheduled"===e.display},attrs:{tag:"ul",list:e.checkedList,handle:".handle"}},e._l(e.checkedList,(function(t,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"item-area",class:{"info-highlight":t.isExamMode}},[i("i",{staticClass:"fa fa-align-justify handle"}),i("div",{staticClass:"index"},[e._v(" "+e._s(n+1)+" ")]),t.metadata?i("div",{staticClass:"info"},["WorkspaceQuizGroup"===t.metadata.type?i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[e._v(" "+e._s(t.metadata.name)+" ")]),i("div",{staticClass:"number"},[e._v(" "+e._s(e.$tc("n題",t.quizNumber,{n:t.quizNumber}))+" ")])]):e._e(),"WorkspaceFolder"===t.metadata.type?i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[e._v(" "+e._s(t.metadata.name)+" ")]),i("div",{staticClass:"number"},[e._v(" "+e._s(e.$t("資料夾"))+" ")])]):e._e(),"WorkspaceSoftLink"===t.metadata.type?i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[e._v(" "+e._s(t.sourceObject.metadata.name)+" "),i("i",{staticClass:"fas fa-user-friends shared-item"})]),i("div",{staticClass:"number"},[e._v(" "+e._s(e.$tc("n題",t.sourceObject.quizNumber,{n:t.sourceObject.quizNumber}))+" ")])]):e._e()]):i("div",{staticClass:"info"},[i("div",{staticClass:"name"},[e._v(" "+e._s(t)+" ")])]),"scheduled"!==e.display?i("i",{staticClass:"fa fa-times close",on:{click:function(t){return e.removeCheckedList(n)}}}):e._e(),"scheduled"===e.display?i("div",{staticClass:"ui-btn-right icon-area"},[i("div",{staticClass:"action-icon"},[i("i",{staticClass:"fas fa-user-edit exam-icon d-none",class:{helpful:e.helpfulData,"icon-highlight":t.isExamMode},on:{click:function(i){return e.setExamMode(t)}}})]),i("div",{staticClass:"action-icon"},[i("b-dropdown",{staticClass:"action-menu",attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!0)},[!e.recordCodes[n]&&e.multipleDays.length>1?i("b-dropdown-item",[e._v(" "+e._s(e.$t("複製代碼請先儲存測驗"))+" ")]):e._e(),e.recordCodes[n]&&e.multipleDays.length>1?i("b-dropdown-item",{staticClass:"copyCode",on:{click:function(t){return e.copyEventCode(e.recordCodes[n])}}},[i("span",[e._v(e._s(e.$t("複製代碼"))+" "+e._s(e.shortId)+"."+e._s(e.recordCodes[n]))]),i("span",[i("i",{staticClass:"far fa-copy"})])]):e._e(),e.recordCodes[n]&&e.multipleDays.length>1?i("b-dropdown-divider"):e._e(),i("b-dropdown-item",{staticClass:"removeBtn",on:{click:function(t){return e.removeAt(n)}}},[i("p",[e._v(e._s(e.$t("移除"))),i("i",{staticClass:"fa fa-times"})])])],1)],1)]):e._e()])])})),0)],1):e._e()},a=[],r=(i("99af"),i("a434"),i("b76a")),s=i.n(r),o={name:"Handle",display:"Handle",components:{draggable:s.a},props:{checkedList:{type:Array,default:function(){return[]}},mapData:{type:Object,default:function(){return{}}},display:{type:String,default:"",required:!1},multipleDays:{type:Array,default:function(){return[]},required:!1},shortId:{type:String,default:"",required:!1},recordCodes:{type:Array,default:function(){return[]},required:!1}},data:function(){return{helpfulData:!1}},computed:{},methods:{setExamMode:function(e){e.isExamMode=!e.isExamMode,this.helpfulData=!this.helpfulData},removeCheckedList:function(e){this.checkedList.splice(e,1)},removeAt:function(e){this.$emit("removeDate",e),console.log(e)},copyEventCode:function(e){if(!this.shortId)throw new Error("quiz event not ready");var t="".concat(this.shortId,".").concat(e);this.$copyText(t).then((function(e){console.log(t)}),(function(e){console.error("複製失败",e.text)}))}}},u=o,c=(i("0786"),i("2877")),d=Object(c["a"])(u,n,a,!1,null,"4a05373c",null);t["a"]=d.exports},"86d8":function(e,t,i){"use strict";var n=i("1cca"),a=i.n(n);a.a},"93e1":function(e,t,i){},a002:function(e,t,i){"use strict";var n=i("ea32"),a=i.n(n);a.a},a434:function(e,t,i){"use strict";var n=i("23e7"),a=i("23cb"),r=i("a691"),s=i("50c4"),o=i("7b0b"),u=i("65f0"),c=i("8418"),d=i("1dde"),l=i("ae40"),p=d("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min,h=9007199254740991,_="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var i,n,d,l,p,f,g=o(this),b=s(g.length),y=a(e,b),C=arguments.length;if(0===C?i=n=0:1===C?(i=0,n=b-y):(i=C-2,n=m(v(r(t),0),b-y)),b+i-n>h)throw TypeError(_);for(d=u(g,n),l=0;l<n;l++)p=y+l,p in g&&c(d,l,g[p]);if(d.length=n,i<n){for(l=y;l<b-n;l++)p=l+n,f=l+i,p in g?g[f]=g[p]:delete g[f];for(l=b;l>b-n+i;l--)delete g[l-1]}else if(i>n)for(l=b-n;l>y;l--)p=l+n-1,f=l+i-1,p in g?g[f]=g[p]:delete g[f];for(l=0;l<i;l++)g[l+y]=arguments[l+2];return g.length=b-n+i,d}})},a7c8:function(e,t,i){},a9e3:function(e,t,i){"use strict";var n=i("83ab"),a=i("da84"),r=i("94ca"),s=i("6eeb"),o=i("5135"),u=i("c6b6"),c=i("7156"),d=i("c04e"),l=i("d039"),p=i("7c73"),f=i("241c").f,v=i("06cf").f,m=i("9bf2").f,h=i("58a8").trim,_="Number",g=a[_],b=g.prototype,y=u(p(b))==_,C=function(e){var t,i,n,a,r,s,o,u,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+c}for(r=c.slice(2),s=r.length,o=0;o<s;o++)if(u=r.charCodeAt(o),u<48||u>a)return NaN;return parseInt(r,n)}return+c};if(r(_,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof w&&(y?l((function(){b.valueOf.call(i)})):u(i)!=_)?c(new g(C(t)),i,w):C(t)},S=n?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;S.length>x;x++)o(g,k=S[x])&&!o(w,k)&&m(w,k,v(g,k));w.prototype=b,b.constructor=w,s(a,_,w)}},b47d:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return o}));var n=i("2b0e"),a=new n["default"],r=new n["default"],s=(new n["default"],new n["default"]),o=new n["default"]},b771:function(e,t,i){"use strict";var n=i("fa74"),a=i.n(n);a.a},c0bd:function(e,t,i){},ca35:function(e,t,i){"use strict";var n=i("93e1"),a=i.n(n);a.a},ea32:function(e,t,i){},f05a:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("96cf");var n=i("1da1"),a=i("d4ec"),r=i("bee2"),s=i("6ad1"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"uploadImage",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,r,o,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=u.length>1&&void 0!==u[1]?u[1]:"",n=u.length>2&&void 0!==u[2]&&u[2],a=new FormData,a.append("file",t,"screenshot.jpg"),i&&a.append("filename",i),r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,s["a"].post("storage/image?scale=".concat(n),a,r);case 8:return o=e.sent,e.abrupt("return",o.data.imageLink);case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadAudio",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:"",n=new FormData,n.append("file",t,"audio"),i&&n.append("filename",i),a={headers:{"Content-Type":"multipart/form-data"}},e.next=7,s["a"].post("storage/audio",n,a);case 7:return r=e.sent,e.abrupt("return",r.data.audioLink);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadVideo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,n,a,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o.length>1&&void 0!==o[1]?o[1]:"",n=new FormData,n.append("file",t,"video"),i&&n.append("filename",i),a={headers:{"Content-Type":"multipart/form-data"}},e.next=7,s["a"].post("storage/video",n,a);case 7:return r=e.sent,e.abrupt("return",r.data.videoLink);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},f435:function(e,t,i){"use strict";var n=i("c0bd"),a=i.n(n);a.a},fa74:function(e,t,i){},fd0e:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("96cf");var n=i("1da1"),a=i("d4ec"),r=i("bee2"),s=i("6ad1"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"create",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].post("quiz/",JSON.stringify(t));case 2:return i=e.sent,e.abrupt("return",i.data.quizInstance);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"retrieve",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].get("quiz/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].put("quiz/".concat(t),JSON.stringify(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}()},{key:"giveAway",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].post("quiz/giveaway",JSON.stringify(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setScore",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].post("quiz/set-score",JSON.stringify(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()}}]);
//# sourceMappingURL=chunk-34e02f07.7b88087a.js.map