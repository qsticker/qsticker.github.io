{"version":3,"sources":["webpack:///./src/components/test_maker/HandleDraggable.vue?3453","webpack:///./src/components/GuidedTourItem.vue?8672","webpack:///./src/components/GuidedTourItem.vue","webpack:///./src/components/GuidedTourItem.vue?1bda","webpack:///./src/components/GuidedTourItem.vue?08b8","webpack:///./src/components/test_maker/CheckedItems.vue?f7a6","webpack:///./src/components/test_maker/CheckedItems.vue","webpack:///./src/components/test_maker/CheckedItems.vue?a474","webpack:///./src/components/test_maker/CheckedItems.vue?69d6","webpack:///./src/views/GuidedTour.vue?aa84","webpack:///./src/views/QuizEventMaker.vue?07fd","webpack:///./src/components/OpenGuidedTourBtn.vue?d0ba","webpack:///./src/components/test_maker/RescheduleModal.vue?b53e","webpack:///./src/components/test_maker/SelectMemberGroupModal.vue?019a","webpack:///./src/components/test_maker/SelectMemberGroupModal.vue","webpack:///./src/components/test_maker/SelectMemberGroupModal.vue?7b95","webpack:///./src/components/test_maker/SelectMemberGroupModal.vue?190d","webpack:///./src/components/test_maker/ScheduleResult.vue?4380","webpack:///./src/views/GuidedTour.vue?6d80","webpack:///./src/views/GuidedTour.vue","webpack:///./src/views/GuidedTour.vue?d10f","webpack:///./src/views/GuidedTour.vue?0b7f","webpack:///./src/views/QuizEventMaker.vue?3ea0","webpack:///./src/components/test_maker/ValidTimeSetting.vue?31ef","webpack:///./src/components/test_maker/ValidTimeSetting.vue","webpack:///./src/components/test_maker/ValidTimeSetting.vue?4560","webpack:///./src/components/test_maker/ValidTimeSetting.vue?4b36","webpack:///./src/components/test_maker/SendModeSetting.vue?dc36","webpack:///./src/components/test_maker/ScheduleResult.vue?a224","webpack:///./src/components/test_maker/RescheduleModal.vue?2eec","webpack:///./src/components/test_maker/RescheduleModal.vue","webpack:///./src/components/test_maker/RescheduleModal.vue?264e","webpack:///./src/components/test_maker/RescheduleModal.vue?611e","webpack:///./src/components/Tooltip.vue?ed67","webpack:///./src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?8ea2","webpack:///./src/components/Tooltip.vue?9017","webpack:///./src/components/test_maker/ScheduleResult.vue","webpack:///./src/components/test_maker/ScheduleResult.vue?ada1","webpack:///./src/components/test_maker/ScheduleResult.vue?82d7","webpack:///./src/components/test_maker/SendModeSetting.vue","webpack:///./src/components/test_maker/SendModeSetting.vue?6fbe","webpack:///./src/components/test_maker/SendModeSetting.vue?bac6","webpack:///./src/views/QuizEventMaker.vue","webpack:///./src/views/QuizEventMaker.vue?adea","webpack:///./src/views/QuizEventMaker.vue?fc88","webpack:///./src/components/test_maker/ValidTimeSetting.vue?dc38","webpack:///./src/components/test_maker/RescheduleModal.vue?159e","webpack:///./src/components/BackButton.vue?32c8","webpack:///./src/components/BackButton.vue","webpack:///./src/components/BackButton.vue?eadb","webpack:///./src/components/test_maker/HandleDraggable.vue?0e69","webpack:///src/components/test_maker/HandleDraggable.vue","webpack:///./src/components/test_maker/HandleDraggable.vue?607e","webpack:///./src/components/test_maker/HandleDraggable.vue","webpack:///./src/components/GuidedTourItem.vue?2865","webpack:///./src/components/Tooltip.vue?0b6b","webpack:///./src/components/test_maker/SelectQuizGroupModal.vue?5946","webpack:///./src/components/test_maker/SelectQuizGroupModal.vue","webpack:///./src/components/test_maker/SelectQuizGroupModal.vue?af5b","webpack:///./src/components/test_maker/SelectQuizGroupModal.vue?4bd8","webpack:///./src/components/OpenGuidedTourBtn.vue?db62","webpack:///./src/components/OpenGuidedTourBtn.vue","webpack:///./src/components/OpenGuidedTourBtn.vue?3669","webpack:///./src/components/OpenGuidedTourBtn.vue?78b1","webpack:///./src/components/test_maker/CheckedItems.vue?6128","webpack:///./src/apis/models/QuizEventModel.ts","webpack:///./src/apis/QuizEventApi.ts","webpack:///./src/components/test_maker/SendModeSetting.vue?79e8","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","marginTop","class","marginAuto","useBorder","height","width","bottom","txtBottom","right","txtRight","left","txtLeft","_v","_s","label","title","content","staticRenderFns","extend","components","props","type","Boolean","required","default","Number","String","data","computed","methods","component","groupType","$t","_l","item","key","uuid","metadata","name","_e","sourceObject","uniqueName","$tc","memberCount","n","attrs","checkedList","HandleDraggable","Array","on","beforeOpen","memberLocalRootId","memberShareRootId","defaultSelection","rootName","displaySelectAllToggle","shareGroupHidden","handleSubmit","handleCancel","WorkspaceObjectSelector","$store","state","currentWorkspace","memberFolders","local","share","event","params","selection","$emit","$modal","hide","_m","closeGuidedTour","setShowGuidedTour","directives","rawName","value","quizEvent","expression","domProps","$event","target","composing","$set","model","callback","$$v","preventDefault","openSelectMemberGroupModal","updateSelectedMemberGroup","memberGroups","memberGroupsInfo","openSelectQuizGroupModal","updateSelectedQuizGroup","quizGroups","quizGroupsInfo","dateTime","scheduledTime","startValid","endValid","mapData","unsendDates","sentDataList","recordCodes","sentRecordCodes","scheduleSetting","showGuidedTourItem","manualModeUpdate","dateList","dates","validData","saveDateTime","updateEvent","_q","startValidTimeState","startTimeHour","startTimeMin","saveValidDateTime","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","multiple","changeValidTimeData","index","endValidTimeState","endTimeDay","endTimeHour","dateListDate","Object","startDate","startTime","endDate","endTime","scheduleSendDate","scheduleSendTime","workspaceId","quizEventId","currentQuizEvent","watch","initDefaultDate","getScheduleSendTime","mounted","timestamps","dateTimeStringToTimestamp","object","getDateStringObject","date","time","Error","timestamp","dateStringsToTimestamp","result","Date","toISOString","toString","console","log","allowSchedule","closeSchedule","allowRepeat","length","shortId","recordCode","copyEventCode","$i18n","locale","scopedSlots","_u","fn","ref","inputValue","inputEvents","_g","scheduledDateTime","setRule","repeatPeriod","repeatFrequency","isArray","weeklyScheduledDay","_i","$$a","$$el","$$c","checked","$$i","concat","slice","attributes","onDayClick","seletedQuizGroups","multipleDays","fromReschedule","saveScheduleDateTime","removeDate","displayDateFormat","displayTimeFormat","validDate","quiz","isExamMode","proxy","quizGroup","hasQuiz","openRescheduleModal","modalWidth","scheduleSend","cencelReschedule","reschedule","MODAL_WIDTH","created","window","innerWidth","push","id","getOnlyDateString","sort","a","b","indexOf","splice","icon","text","RescheduleModal","GuidedTourItem","Tooltip","correctSequence","showGuidedTour","$route","path","init","copyText","$copyText","then","e","error","idx","forEach","startTimestamps","endTimestamps","show","str","getTime","rescheduleDate","ScheduleResult","scheduledSendDate","scheduledSendTime","list","element","seletedDates","arr","day","highlight","color","fillMode","popover","setInitDateList","watchInitDatePosition","calendarQuantityRule","checkRepeatAllow","makeRuleList","newDate","dateString","toISODateTime","findIndex","d","initDay","scheduledTimestamp","getScheduleSendDateTime","isAllowRepeat","startDay","dateForWeek","dateForDay","formatDate","dateDay","getWeekDay","scheduleNum","timestampToDateStringFormat","newStartDay","secondDate","onlyDate","dateISO","onlyTime","latestDate","GuidedTour","OpenGuidedTourBtn","SendModeSetting","checkedItems","ValidTimeSetting","SelectQuizGroupModal","SelectMemberGroupModal","BackButton","nowTimestamp","Math","floor","now","expiredDates","pushedQuizGroups","timeMap","Map","monitorMap","saveSignalTimeoutId","isLoading","loginCheck","commit","QuizEventApi","getQuizEvent","getQuizEventData","getPushedRecord","getTimeMapData","btn","pushedQuizGroupList","record","request","groupId","promies","QuizGroupApi","retrieve","Promise","all","quizGroupsArray","scheduledTimeA","scheduledTimeB","QuizEventHandler","getSentExamData","onePush","period","weekdays","frequency","getMapData","getExamData","getValidDateTime","validTime","setTimeMap","quizList","$notify","set","duration","obj","create","iterator","keys","i","size","next","get","JSON","parse","stringify","setMonitorMap","noScreenshot","noSwitchApp","noPhoneCall","update","location","reload","catch","finally","SoftLink","QuizGroup","$router","go","script","scheduled","display","quizNumber","removeCheckedList","helpfulData","setExamMode","removeAt","draggable","quizLocalRootId","quizShareRootId","isQuizUnitOn","quizFolders","openGuidedTour","State","allowRetake","shuffle","eyeballDetect","quizGroupIdList","memberGroupIdList","parentFolderId","body","parentId","i18n","t","post","quizEventState","updatePayload","put","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-69c0dcf9.507f2fd8.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleDraggable.vue?vue&type=style&index=0&id=4a05373c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleDraggable.vue?vue&type=style&index=0&id=4a05373c&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"guided-tour-item\"},[_c('div',{staticClass:\"block\",style:({'margin-top': _vm.marginTop + 'px'})},[_c('div',{staticClass:\"area\",class:{'marginAuto': _vm.marginAuto, 'useBorder': _vm.useBorder},style:({height: _vm.height+ 'px', width: _vm.width+ '%'})}),_c('div',{staticClass:\"txt\",style:({bottom: _vm.txtBottom+ '%', right: _vm.txtRight+ '%', left: _vm.txtLeft+ '%'})},[_c('h4',[_vm._v(_vm._s(_vm.label)+\" \"+_vm._s(_vm.title))]),_c('p',[_vm._v(_vm._s(_vm.content))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n  },\r\n  props: {\r\n    useBorder: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: true,\r\n    },\r\n    marginTop: {\r\n      type: Number,\r\n      required: false,\r\n      default: 40,\r\n    },\r\n    marginAuto: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    height: {\r\n      type: Number,\r\n      required: false,\r\n      default: 100,\r\n    },\r\n    width: {\r\n      type: Number,\r\n      required: false,\r\n      default: 100,\r\n    },\r\n    txtBottom: {\r\n      type: Number,\r\n      required: false,\r\n      default: -80,\r\n    },\r\n    txtRight: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n    label: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    title: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    content: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    txtLeft: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTourItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTourItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GuidedTourItem.vue?vue&type=template&id=e6b3e420&scoped=true&\"\nimport script from \"./GuidedTourItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./GuidedTourItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GuidedTourItem.vue?vue&type=style&index=0&id=e6b3e420&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6b3e420\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checked-items\"},[(_vm.groupType === 'video')?_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('影片連結'))+\" \")]):_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('已選項目'))+\" \")]),(_vm.groupType === 'member')?_c('div',{staticClass:\"content\"},_vm._l((_vm.checkedList),function(item){return _c('div',{key:item.uuid,staticClass:\"item\"},[(item.metadata.type === 'WorkspaceFolder')?_c('div',{staticClass:\"item-area\"},[_c('div',[_vm._v(_vm._s(item.metadata.name))]),_c('div',[_vm._v(_vm._s(_vm.$t('資料夾')))])]):_vm._e(),(item.metadata.type === 'WorkspaceMemberGroup')?_c('div',{staticClass:\"item-area\"},[(item.sourceObject)?_c('div',[_vm._v(\" \"+_vm._s(item.sourceObject.uniqueName)+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(item.uniqueName)+\" \")]),_c('div',[_vm._v(_vm._s(_vm.$tc('n人', item.memberCount,{n: item.memberCount})))])]):_vm._e(),(item.metadata.type === 'WorkspaceSoftLink')?_c('div',{staticClass:\"item-area\"},[_c('div',[_vm._v(\" \"+_vm._s(item.sourceObject.uniqueName)+\" \"),_c('i',{staticClass:\"fas fa-user-friends shared-item\"})]),(_vm.groupType === 'member')?_c('div',[_vm._v(\" \"+_vm._s(_vm.$tc('n人', item.sourceObject.memberCount,{n: item.sourceObject.memberCount}))+\" \")]):_vm._e()]):_vm._e()])}),0):_vm._e(),(_vm.groupType === 'quiz')?_c('div',{staticClass:\"content\"},[_c('div',[_c('handle-draggable',{attrs:{\"checked-list\":_vm.checkedList,\"group-type\":_vm.groupType}})],1)]):_vm._e(),(_vm.groupType === 'video')?_c('div',{staticClass:\"content\"},[_c('div',[_c('handle-draggable',{attrs:{\"checked-list\":_vm.checkedList}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport HandleDraggable from '@/components/test_maker/HandleDraggable.vue';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    HandleDraggable,\r\n  },\r\n  props: {\r\n    checkedList: {\r\n      type: Array as () => Array<WorkspaceObjectModel>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    groupType: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckedItems.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckedItems.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CheckedItems.vue?vue&type=template&id=7a835511&scoped=true&\"\nimport script from \"./CheckedItems.vue?vue&type=script&lang=ts&\"\nexport * from \"./CheckedItems.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CheckedItems.vue?vue&type=style&index=0&id=7a835511&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a835511\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTour.vue?vue&type=style&index=0&id=f6943c30&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTour.vue?vue&type=style&index=0&id=f6943c30&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventMaker.vue?vue&type=style&index=0&id=3a7efb8a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventMaker.vue?vue&type=style&index=0&id=3a7efb8a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenGuidedTourBtn.vue?vue&type=style&index=0&id=6046357f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenGuidedTourBtn.vue?vue&type=style&index=0&id=6046357f&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{staticClass:\"modal-container\",attrs:{\"name\":\"select-member-group-modal\",\"transition\":\"pop-out\",\"width\":\"640\",\"focus-trap\":true,\"height\":\"640\"},on:{\"before-open\":_vm.beforeOpen}},[(_vm.memberLocalRootId && _vm.memberShareRootId)?_c('WorkspaceObjectSelector',{attrs:{\"local-root-id\":_vm.memberLocalRootId,\"share-root-id\":_vm.memberShareRootId,\"default-selection\":_vm.defaultSelection,\"local-root-name\":_vm.$t(_vm.rootName),\"allow-select-many\":true,\"display-select-all-toggle\":_vm.displaySelectAllToggle,\"share-group-hidden\":_vm.shareGroupHidden},on:{\"submit-selection\":_vm.handleSubmit,\"cancel\":_vm.handleCancel}}):_c('loading',{attrs:{\"active\":true,\"is-full-page\":false,\"background-color\":\"transparent\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport WorkspaceObjectSelector from '@/components/test_maker/WorkspaceObjectSelector.vue';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    WorkspaceObjectSelector,\r\n  },\r\n  props: {\r\n    shareGroupHidden: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      defaultSelection: [] as WorkspaceObjectModel[],\r\n      rootName: '我的班級',\r\n      displaySelectAllToggle: true,\r\n    };\r\n  },\r\n  computed: {\r\n    memberLocalRootId(): string | null {\r\n      if (this.$store.state.currentWorkspace) {\r\n        return this.$store.state.currentWorkspace.memberFolders.local;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    memberShareRootId(): string | null {\r\n      if (this.$store.state.currentWorkspace) {\r\n        return this.$store.state.currentWorkspace.memberFolders.share;\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n  methods: {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    beforeOpen(event: any) {\r\n      // import stuff that was selected before\r\n      if (event.params.defaultSelection) {\r\n        this.defaultSelection = event.params.defaultSelection;\r\n      }\r\n    },\r\n    handleSubmit(selection: WorkspaceObjectModel[]) {\r\n      this.$emit('submit-selection', selection);\r\n      this.$modal.hide('select-member-group-modal');\r\n    },\r\n    handleCancel() {\r\n      this.$modal.hide('select-member-group-modal');\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMemberGroupModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectMemberGroupModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectMemberGroupModal.vue?vue&type=template&id=7806c04c&\"\nimport script from \"./SelectMemberGroupModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectMemberGroupModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleResult.vue?vue&type=style&index=0&id=1d8451b7&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleResult.vue?vue&type=style&index=0&id=1d8451b7&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"guided-tour\"},[_c('div',{staticClass:\"background\"},[_vm._m(0),_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.closeGuidedTour}},[_c('i',{staticClass:\"far fa-times-circle\"})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title pt-3\"},[_c('h1',[_vm._v(\"使用導覽\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  computed: {\r\n  },\r\n  methods: {\r\n    closeGuidedTour() {\r\n      this.$emit('setShowGuidedTour', false);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTour.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTour.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GuidedTour.vue?vue&type=template&id=f6943c30&scoped=true&\"\nimport script from \"./GuidedTour.vue?vue&type=script&lang=ts&\"\nexport * from \"./GuidedTour.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GuidedTour.vue?vue&type=style&index=0&id=f6943c30&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6943c30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"event-maker\"},[(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTour',{on:{\"setShowGuidedTour\":_vm.setShowGuidedTour}})],1):_vm._e(),_c('div',{staticClass:\"open-guided-tour-btn\"},[_c('OpenGuidedTourBtn',{on:{\"setShowGuidedTour\":_vm.setShowGuidedTour}})],1),(_vm.quizEvent)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('編輯測驗'))+\" \")])]),_c('div',{staticClass:\"part basic\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t('基本設定'))+\" \")])]),_c('form',{staticClass:\"info pl-4\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"quizEvent_name\"}},[_vm._v(_vm._s(_vm.$t('測驗名稱')))]),_c('div',{staticClass:\"enter-area\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quizEvent.metadata.name),expression:\"quizEvent.metadata.name\"}],attrs:{\"id\":\"quizEvent_name\",\"type\":\"text\"},domProps:{\"value\":(_vm.quizEvent.metadata.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.quizEvent.metadata, \"name\", $event.target.value)}}}),_c('div',{staticClass:\"remind\"},[_vm._v(\" * \"+_vm._s(_vm.$t('此測驗名稱僅在此平台顯示，測驗邀請將會以題組名稱作為測驗名稱'))+\" \")])])]),_c('div',{staticClass:\"input-group\"},[_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('開啟題號與選項亂序')))]),_c('toggle-button',{staticClass:\"toggle w-80\",attrs:{\"color\":\"#82C7EB\",\"sync\":true,\"labels\":true},model:{value:(_vm.quizEvent.shuffle),callback:function ($$v) {_vm.$set(_vm.quizEvent, \"shuffle\", $$v)},expression:\"quizEvent.shuffle\"}})],1),_c('div',{staticClass:\"retake input-group\"},[_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('開啟再測一次')))]),_c('toggle-button',{staticClass:\"toggle w-80\",attrs:{\"color\":\"#82C7EB\",\"sync\":true,\"labels\":true},model:{value:(_vm.quizEvent.allowRetake),callback:function ($$v) {_vm.$set(_vm.quizEvent, \"allowRetake\", $$v)},expression:\"quizEvent.allowRetake\"}})],1),_c('div',{staticClass:\"retake input-group\"},[_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('開啟眼球追蹤')))]),_c('toggle-button',{staticClass:\"toggle w-80\",attrs:{\"color\":\"#82C7EB\",\"sync\":true,\"labels\":true},model:{value:(_vm.quizEvent.eyeballDetect),callback:function ($$v) {_vm.$set(_vm.quizEvent, \"eyeballDetect\", $$v)},expression:\"quizEvent.eyeballDetect\"}})],1)]),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"height\":110,\"label\":'',\"title\":'基本設定',\"content\":'首先填寫測驗名稱，此名稱僅顯示於此平台辨認之用，測驗邀請將會使用題組名稱顯示'}})],1):_vm._e()]),_c('div',{staticClass:\"part memberGroup\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t('選擇班級'))+\" \")])]),_c('div',{staticClass:\"forMembers\"},[_c('b-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.openSelectMemberGroupModal($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('選擇班級'))+\" \")]),_c('SelectMemberGroupModal',{on:{\"submit-selection\":_vm.updateSelectedMemberGroup}}),_c('div',{staticClass:\"checkfilterList\"},[_c('checkedItems',{attrs:{\"checked-list\":_vm.quizEvent.memberGroups,\"group-type\":_vm.memberGroupsInfo.name}})],1)],1),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":60,\"height\":60,\"width\":50,\"txt-bottom\":-120,\"label\":'',\"title\":'選擇班級',\"content\":'可多選，並於右邊確認選項'}})],1):_vm._e()]),_c('div',{staticClass:\"part quizGroup\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t('選擇題組'))+\" \")])]),_c('div',{staticClass:\"forQuestions\"},[_c('b-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.openSelectQuizGroupModal($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('選擇題組'))+\" \")]),_c('SelectQuizGroupModal',{on:{\"submit-selection\":_vm.updateSelectedQuizGroup}}),_c('div',{staticClass:\"checkfilterList\"},[_c('checkedItems',{attrs:{\"checked-list\":_vm.quizEvent.quizGroups,\"group-type\":_vm.quizGroupsInfo.name}})],1)],1),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":60,\"height\":60,\"width\":50,\"txt-bottom\":-120,\"label\":'',\"title\":'選擇題組',\"content\":'可多選，並於右邊確認選項'}})],1):_vm._e()]),_c('div',{staticClass:\"part sendMode\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t('測驗發送模式'))+\" \")])]),_c('div',{staticClass:\"send-mode-area\"},[_c('SendModeSetting',{attrs:{\"quiz-event\":_vm.quizEvent,\"seleted-quiz-groups\":_vm.quizEvent.quizGroups,\"date-time\":_vm.dateTime,\"scheduled-time\":_vm.dateTime.scheduledTime,\"start-valid\":_vm.dateTime.startValid,\"end-valid\":_vm.dateTime.endValid,\"map-dates\":_vm.mapData,\"unsend-dates\":_vm.mapData.unsendDates,\"sent-data-list\":_vm.mapData.sentDataList,\"record-codes\":_vm.mapData.recordCodes,\"sent-record-codes\":_vm.mapData.sentRecordCodes,\"schedule-setting\":_vm.scheduleSetting,\"show-guided-tour-item\":_vm.showGuidedTourItem},on:{\"manualModeUpdate\":function($event){return _vm.manualModeUpdate()}}})],1)]),_c('div',{staticClass:\"part validTime\"},[_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t('選擇測驗細節'))+\" \")])]),_c('div',{staticClass:\"valid-time-area\"},[_c('ValidTimeSetting',{attrs:{\"date-time\":_vm.dateTime,\"quiz-event\":_vm.quizEvent,\"date-list-date\":_vm.dateTime.dateList.dates[0],\"valid-data\":_vm.validData},on:{\"saveDateTime\":function($event){return _vm.saveDateTime()}}})],1),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":100,\"height\":150,\"txt-bottom\":-50,\"txt-right\":-70,\"title\":'選擇測驗有效時間',\"content\":'設定是否在限定的期間內才可以作答'}})],1):_vm._e()]),_c('div',{staticClass:\"part btn-area save-btn\"},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.updateEvent}},[_c('i',{staticClass:\"fas fa-save\"}),_c('span',[_vm._v(_vm._s(_vm.$t('儲存測驗')))])]),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":10,\"margin-auto\":true,\"width\":40,\"height\":70,\"txt-bottom\":-70,\"label\":'',\"title\":'儲存測驗'}})],1):_vm._e()]),_c('div',{staticClass:\"btn-area last-page\"},[_c('BackButton')],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"valid-time-setting\"},[_c('label',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.$t('測驗有效時間')))]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{staticClass:\"valid-time\",attrs:{\"for\":\"valid-time-start\"}},[_vm._v(_vm._s(_vm.$t('開始時間')))]),_c('div',{staticClass:\"valid-time-item\"},[_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startValidTimeState),expression:\"startValidTimeState\"}],attrs:{\"id\":\"start-unlimited\",\"type\":\"radio\",\"name\":\"start-valid-time\",\"value\":\"sameTimeSent\",\"checked\":\"\"},domProps:{\"checked\":_vm._q(_vm.startValidTimeState,\"sameTimeSent\")},on:{\"click\":function($event){_vm.startTimeHour = 0, _vm.startTimeMin = 0,_vm.saveValidDateTime()},\"change\":function($event){_vm.startValidTimeState=\"sameTimeSent\"}}}),(_vm.dateTime.scheduledTime)?_c('label',{attrs:{\"for\":\"start-unlimited\"}},[_vm._v(_vm._s(_vm.$t('同發送時間')))]):_vm._e(),(!_vm.dateTime.scheduledTime)?_c('label',{attrs:{\"for\":\"start-unlimited\"}},[_vm._v(_vm._s(_vm.$t('無限制')))]):_vm._e()]),_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startValidTimeState),expression:\"startValidTimeState\"}],attrs:{\"id\":\"start-after-sent\",\"type\":\"radio\",\"name\":\"start-valid-time\",\"value\":\"afterSent\"},domProps:{\"checked\":_vm._q(_vm.startValidTimeState,\"afterSent\")},on:{\"change\":function($event){_vm.startValidTimeState=\"afterSent\"}}}),(_vm.dateTime.scheduledTime)?_c('label',{attrs:{\"for\":\"start-after-sent\"}},[(_vm.startValidTimeState !== 'afterSent' )?_c('span',[_vm._v(_vm._s(_vm.$t('設定更多')))]):_vm._e(),(_vm.startValidTimeState === 'afterSent' )?_c('span',{staticClass:\"select-detail\"},[_vm._v(\" \"+_vm._s(_vm.$t('測驗發送後'))+\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startTimeHour),expression:\"startTimeHour\"}],attrs:{\"id\":\"start-after-hour\",\"name\":\"start-time\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.startTimeHour=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.changeValidTimeData()}]}},_vm._l((100),function(index){return _c('option',{key:index,domProps:{\"value\":index-1}},[_vm._v(\" \"+_vm._s(index-1)+\" \")])}),0),_vm._v(_vm._s(_vm.$t('小時'))+\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startTimeMin),expression:\"startTimeMin\"}],attrs:{\"id\":\"start-after-minute\",\"name\":\"start-time\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.startTimeMin=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.changeValidTimeData()}]}},_vm._l((60),function(index){return _c('option',{key:index,domProps:{\"value\":index-1}},[_vm._v(\" \"+_vm._s(index-1)+\" \")])}),0),_vm._v(_vm._s(_vm.$t('分鐘'))+\" \")]):_vm._e()]):_vm._e()])])]),_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{staticClass:\"valid-time\",attrs:{\"for\":\"valid-time-end\"}},[_vm._v(_vm._s(_vm.$t('結束時間')))]),_c('div',{staticClass:\"valid-time-item\"},[_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endValidTimeState),expression:\"endValidTimeState\"}],attrs:{\"id\":\"end-unlimited\",\"type\":\"radio\",\"name\":\"end-valid-time\",\"value\":\"sameTimeSent\",\"checked\":\"\"},domProps:{\"checked\":_vm._q(_vm.endValidTimeState,\"sameTimeSent\")},on:{\"click\":function($event){_vm.endTimeDay = 0, _vm.endTimeHour = 0,_vm.saveValidDateTime()},\"change\":function($event){_vm.endValidTimeState=\"sameTimeSent\"}}}),_c('label',{attrs:{\"for\":\"end-unlimited\"}},[_vm._v(_vm._s(_vm.$t('無限制')))])]),_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endValidTimeState),expression:\"endValidTimeState\"}],attrs:{\"id\":\"end-after-sent\",\"type\":\"radio\",\"name\":\"end-valid-time\",\"value\":\"afterSent\"},domProps:{\"checked\":_vm._q(_vm.endValidTimeState,\"afterSent\")},on:{\"change\":function($event){_vm.endValidTimeState=\"afterSent\"}}}),(_vm.dateTime.scheduledTime)?_c('label',{attrs:{\"for\":\"end-after-sent\"}},[(_vm.endValidTimeState !== 'afterSent' )?_c('span',[_vm._v(_vm._s(_vm.$t('設定更多')))]):_vm._e(),(_vm.endValidTimeState === 'afterSent' )?_c('span',{staticClass:\"select-detail\"},[_vm._v(\" \"+_vm._s(_vm.$t('測驗發送後'))+\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endTimeDay),expression:\"endTimeDay\"}],attrs:{\"id\":\"end-after-hour\",\"name\":\"end-time\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.endTimeDay=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.changeValidTimeData()}]}},_vm._l((61),function(index){return _c('option',{key:index,domProps:{\"value\":index-1}},[_vm._v(\" \"+_vm._s(index-1)+\" \")])}),0),_vm._v(_vm._s(_vm.$t('日'))+\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endTimeHour),expression:\"endTimeHour\"}],attrs:{\"id\":\"end-after-minute\",\"name\":\"end-time\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.endTimeHour=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.changeValidTimeData()}]}},_vm._l((24),function(index){return _c('option',{key:index,domProps:{\"value\":index-1}},[_vm._v(\" \"+_vm._s(index-1)+\" \")])}),0),_vm._v(_vm._s(_vm.$t('小時'))+\" \")]):_vm._e()]):_vm._e()])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { QuizEventModelv4 } from '@/apis/models/QuizEventModel';\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport Vue, { PropType } from 'vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n  },\r\n  props: {\r\n    dateListDate: { // this.dateList[0].dates[0]\r\n      type: String,\r\n      default: '',\r\n    },\r\n    quizEvent: {\r\n      type: Object as PropType<QuizEventModelv4 | null>,\r\n      required: true,\r\n    },\r\n    dateTime: {\r\n      type: Object,\r\n      default: () => ({\r\n        startValid: '',\r\n      }),\r\n    },\r\n    validData: {\r\n      type: Object,\r\n      default: () => ({\r\n      }),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      startValidTimeState: 'sameTimeSent', // 'afterSent'\r\n      endValidTimeState: 'sameTimeSent', // 'afterSent'\r\n\r\n      startDate: null as null | string,\r\n      startTime: null as null | string,\r\n      endDate: null as null | string,\r\n      endTime: null as null | string,\r\n\r\n      startTimeHour: 0,\r\n      startTimeMin: 0,\r\n      endTimeDay: 0,\r\n      endTimeHour: 0,\r\n\r\n      scheduleSendDate: null as null | string,\r\n      scheduleSendTime: null as null | string,\r\n    };\r\n  },\r\n  computed: {\r\n    workspaceId(): string {\r\n      return this.$store.state.currentWorkspace.uuid;\r\n    },\r\n    quizEventId(): string {\r\n      return this.$store.state.currentQuizEvent.uuid;\r\n    },\r\n  },\r\n  watch: {\r\n    quizEvent() {\r\n      this.initDefaultDate();\r\n    },\r\n    dateListDate() {\r\n      this.getScheduleSendTime();\r\n      this.saveValidDateTime();\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.initDefaultDate();\r\n\r\n    if (this.dateTime.scheduledTime) {\r\n      if (this.startTimeHour !== 0 || this.startTimeMin !== 0) {\r\n        this.startValidTimeState = 'afterSent';\r\n      }\r\n      if (this.endTimeDay !== 0 || this.endTimeHour !== 0) {\r\n        this.endValidTimeState = 'afterSent';\r\n      }\r\n    } else {\r\n      this.startValidTimeState = 'sameTimeSent';\r\n      this.endValidTimeState = 'sameTimeSent';\r\n    }\r\n  },\r\n  methods: {\r\n    changeValidTimeData() {\r\n      if (this.startTimeHour !== 0 || this.startTimeMin !== 0 || this.endTimeDay !== 0 || this.endTimeHour !== 0) {\r\n        this.saveValidDateTime();\r\n      }\r\n    },\r\n    getScheduleSendTime() { // 從scheduleSend 取出 scheduleSendTime\r\n      if (this.dateListDate) {\r\n        const timestamps = TimeFunction.dateTimeStringToTimestamp(this.dateListDate);\r\n        const object = TimeFunction.getDateStringObject(timestamps / 1000);\r\n        this.scheduleSendDate = object.date;\r\n        this.scheduleSendTime = object.time;\r\n      }\r\n    },\r\n    initDefaultDate() {\r\n      if (!this.quizEvent) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n      this.startTimeHour = this.validData.startTimeHour;\r\n      this.startTimeMin = this.validData.startTimeMin;\r\n      this.endTimeDay = this.validData.endTimeDay;\r\n      this.endTimeHour = this.validData.endTimeHour;\r\n    },\r\n\r\n    saveValidDateTime() {\r\n      if (this.scheduleSendDate && this.scheduleSendTime) {\r\n        if (this.startTimeHour !== 0 || this.startTimeMin !== 0) { // 有設定時分的話\r\n          let timestamp = TimeFunction.dateStringsToTimestamp(this.scheduleSendDate, this.scheduleSendTime);\r\n          timestamp += (3600000 * this.startTimeHour + 60000 * this.startTimeMin);\r\n          const result = new Date(timestamp).toISOString();\r\n          this.dateTime.startValid = result;\r\n        } else {\r\n          this.dateTime.startValid = null;\r\n        }\r\n        if (this.endTimeDay !== 0 || this.endTimeHour !== 0) { // 有設定時分的話\r\n          let timestamp = TimeFunction.dateStringsToTimestamp(this.scheduleSendDate, this.scheduleSendTime);\r\n          timestamp += (86400000 * this.endTimeDay + 3600000 * this.endTimeHour);\r\n          const result = new Date(timestamp).toISOString();\r\n          this.dateTime.endValid = result;\r\n        } else {\r\n          this.dateTime.endValid = null;\r\n        }\r\n      } else {\r\n        this.dateTime.startValid = null;\r\n        this.startDate = this.$t('同發送時間').toString();\r\n        this.startTime = '';\r\n        this.dateTime.endValid = null;\r\n        this.endDate = this.$t('無限制').toString();\r\n        this.endTime = '';\r\n        console.log('沒存到scheduleSendTime');\r\n      }\r\n      this.validData.startTimeHour = this.startTimeHour;\r\n      this.validData.startTimeMin = this.startTimeMin;\r\n      this.validData.endTimeDay = this.endTimeDay;\r\n      this.validData.endTimeHour = this.endTimeHour;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidTimeSetting.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidTimeSetting.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ValidTimeSetting.vue?vue&type=template&id=4bb9a782&scoped=true&\"\nimport script from \"./ValidTimeSetting.vue?vue&type=script&lang=ts&\"\nexport * from \"./ValidTimeSetting.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ValidTimeSetting.vue?vue&type=style&index=0&id=4bb9a782&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb9a782\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"send-mode-setting\"},[_c('div',{staticClass:\"schedule mt-3\"},[_c('div',{staticClass:\"part input-group mb-3 pl-4\"},[_c('div',{staticClass:\"toggle\",on:{\"click\":function($event){_vm.allowSchedule = !_vm.allowSchedule}}},[_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('開啟排程發送機制')))]),_c('toggle-button',{attrs:{\"color\":\"#82C7EB\",\"sync\":true,\"labels\":true},on:{\"change\":_vm.closeSchedule},model:{value:(_vm.allowSchedule),callback:function ($$v) {_vm.allowSchedule=$$v},expression:\"allowSchedule\"}})],1),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":-15,\"height\":50,\"width\":30,\"txt-bottom\":-70,\"label\":'',\"txt-right\":20,\"title\":'設定排程發送模式',\"content\":'開啟可以設定發送時間，關閉則不需設定發送時間'}})],1):_vm._e()]),(!_vm.allowRepeat)?_c('div',{staticClass:\"part input-group mb-3 pl-4\"},[_c('div',{staticClass:\"toggle code-area\"},[_c('label',{staticClass:\"mr-5 pr-2\"},[_vm._v(_vm._s(_vm.$t('發送代碼')))]),(_vm.quizEvent.quizGroups.length !== 0)?_c('div',{staticClass:\"code-group\"},[_vm._l((_vm.quizEvent.timeMap),function(item,key){return _c('div',{key:key,staticClass:\"code-item\"},[_vm._v(\" \"+_vm._s(_vm.quizEvent.shortId)+\".\"+_vm._s(item.recordCode)+\" \"),_c('span',{staticClass:\"copy-code\",on:{\"click\":function($event){return _vm.copyEventCode(_vm.quizEvent.shortId, item.recordCode)}}},[_c('i',{staticClass:\"far fa-copy\"})])])}),_c('span',{staticClass:\"remind\"},[_vm._v(\"(\"+_vm._s(_vm.$t('請確定儲存後再複製'))+\")\")])],2):_vm._e(),(_vm.quizEvent.quizGroups.length === 0)?_c('div',{staticClass:\"code-group\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.quizEvent.shortId)+\" \"),_c('span',{staticClass:\"remind\"},[_vm._v(\"(\"+_vm._s(_vm.$t('尚未選擇題組'))+\")\")])])]):_vm._e()])]):_vm._e(),(_vm.allowSchedule)?_c('div',[_c('div',{staticClass:\"send-time-setting part\"},[_c('div',{staticClass:\"schedule-date-time mt-3\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{attrs:{\"for\":\"send-date-start\"}},[(_vm.allowRepeat)?_c('span',[_vm._v(_vm._s(_vm.$t('最新')))]):_vm._e(),_vm._v(_vm._s(_vm.$t('發送日期')))]),_c('div',{staticClass:\"dateTimePicker\"},[_c('vc-date-picker',{attrs:{\"mode\":\"scheduledDateTime\",\"is24hr\":\"\",\"locale\":_vm.$i18n.locale},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",domProps:{\"value\":inputValue}},inputEvents))]}}],null,false,666616994),model:{value:(_vm.scheduledDateTime),callback:function ($$v) {_vm.scheduledDateTime=$$v},expression:\"scheduledDateTime\"}})],1)]),_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{attrs:{\"for\":\"send-time-start\"}},[_vm._v(_vm._s(_vm.$t('發送時間')))]),_c('div',{staticClass:\"dateTimePicker\"},[_c('vc-date-picker',{attrs:{\"mode\":\"time\",\"is24hr\":\"\",\"locale\":_vm.$i18n.locale,\"minute-increment\":5},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",domProps:{\"value\":inputValue}},inputEvents))]}}],null,false,666616994),model:{value:(_vm.scheduledDateTime),callback:function ($$v) {_vm.scheduledDateTime=$$v},expression:\"scheduledDateTime\"}})],1)])])]),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":20,\"height\":70,\"width\":90,\"txt-bottom\":-100,\"txt-right\":-70,\"title\":'設定起始日期',\"content\":'設定此測驗的起始日期，也是最新一個發送日的日期'}})],1):_vm._e()]),_c('div',{staticClass:\"repeat-mode part\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"toggle\",on:{\"click\":function($event){_vm.allowRepeat = !_vm.allowRepeat}}},[_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('週期性推送設定')))]),_c('toggle-button',{attrs:{\"color\":\"#82C7EB\",\"sync\":true,\"labels\":true},on:{\"change\":_vm.setRule},model:{value:(_vm.allowRepeat),callback:function ($$v) {_vm.allowRepeat=$$v},expression:\"allowRepeat\"}})],1),(_vm.allowRepeat && !_vm.scheduledDateTime)?_c('span',{staticClass:\"remind\"},[_vm._v(_vm._s(_vm.$t('請先設定發送日期')))]):_vm._e()]),(_vm.allowRepeat)?_c('div',{staticClass:\"repeat-form-area\"},[_c('div',[_c('div',{staticClass:\"input-group mt-4\"},[_c('label',[_vm._v(_vm._s(_vm.$t('週期設定')))]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatPeriod),expression:\"repeatPeriod\"}],attrs:{\"id\":\"repeat-week\",\"type\":\"radio\",\"name\":\"repeat-frequency\",\"value\":\"week\",\"checked\":\"\"},domProps:{\"checked\":_vm._q(_vm.repeatPeriod,\"week\")},on:{\"change\":[function($event){_vm.repeatPeriod=\"week\"},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"repeat-week\"}},[_vm._v(_vm._s(_vm.$t('週')))])]),_c('div',{staticClass:\"radio-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatPeriod),expression:\"repeatPeriod\"}],attrs:{\"id\":\"repeat-days\",\"type\":\"radio\",\"name\":\"repeat-frequency\",\"value\":\"days\"},domProps:{\"checked\":_vm._q(_vm.repeatPeriod,\"days\")},on:{\"change\":[function($event){_vm.repeatPeriod=\"days\"},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"repeat-days\"}},[_vm._v(_vm._s(_vm.$t('日')))])])])]),_c('div',{staticClass:\"input-group mt-2\"},[_c('label',[_vm._v(_vm._s(_vm.$t('週期細節')))]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"radio-input\"},[(_vm.repeatPeriod==='week')?_c('span',{staticClass:\"select-detail\"},[_c('select',{attrs:{\"id\":\"repeat-num\",\"name\":\"repeat-num\"}},_vm._l((1),function(index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(_vm.$t('每'))+\" \"+_vm._s(index)+\" \"+_vm._s(_vm.$t('週'))+\" \")])}),0)]):_vm._e(),(_vm.repeatPeriod==='days')?_c('span',{staticClass:\"select-detail\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatFrequency),expression:\"repeatFrequency\"}],attrs:{\"id\":\"repeat-num\",\"name\":\"repeat-num\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.repeatFrequency=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.setRule]}},_vm._l((6),function(index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(_vm.$t('每'))+\" \"+_vm._s(index)+\" \"),(_vm.repeatPeriod==='days')?_c('span',[_vm._v(_vm._s(_vm.$t('日')))]):_vm._e()])}),0)]):_vm._e()])])]),(_vm.repeatPeriod==='week')?_c('div',{staticClass:\"input-group mt-2\"},[_c('label',[_vm._v(_vm._s(_vm.$t('週間日期')))]),_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Monday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"1\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"1\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"1\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Monday\"}},[_vm._v(_vm._s(_vm.$t('一')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Tuesday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"2\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"2\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"2\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Tuesday\"}},[_vm._v(_vm._s(_vm.$t('二')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Wednesday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"3\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"3\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"3\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Wednesday\"}},[_vm._v(_vm._s(_vm.$t('三')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Thursday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"4\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"4\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"4\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Thursday\"}},[_vm._v(_vm._s(_vm.$t('四')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Friday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"5\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"5\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"5\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Friday\"}},[_vm._v(_vm._s(_vm.$t('五')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Saturday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"6\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"6\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"6\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Saturday\"}},[_vm._v(_vm._s(_vm.$t('六')))])]),_c('div',{staticClass:\"checkbox-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.weeklyScheduledDay),expression:\"weeklyScheduledDay\"}],attrs:{\"id\":\"Sunday\",\"type\":\"checkbox\",\"name\":\"day\",\"value\":\"0\"},domProps:{\"checked\":Array.isArray(_vm.weeklyScheduledDay)?_vm._i(_vm.weeklyScheduledDay,\"0\")>-1:(_vm.weeklyScheduledDay)},on:{\"change\":[function($event){var $$a=_vm.weeklyScheduledDay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"0\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.weeklyScheduledDay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.weeklyScheduledDay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.weeklyScheduledDay=$$c}},_vm.setRule]}}),_c('label',{attrs:{\"for\":\"Sunday\"}},[_vm._v(_vm._s(_vm.$t('星期日')))])])])]):_vm._e()]),_c('div',{staticClass:\"adjust-area input-group mt-4\"},[_c('label',[_vm._v(_vm._s(_vm.$t('日期調整')))]),_c('div',{staticClass:\"dateTimePicker\"},[_c('vc-calendar',{attrs:{\"attributes\":_vm.attributes,\"locale\":_vm.$i18n.locale},on:{\"dayclick\":_vm.onDayClick}})],1)])]):_vm._e(),(_vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":0,\"height\":60,\"width\":50,\"label\":'',\"txt-bottom\":-180,\"txt-right\":40,\"title\":'週期性推送設定',\"content\":'預設開啟週期性推送設定。若關閉週期性推送，當設定多個題組時會於同一日期一次推送。開啟後完成大方向設定，若有個別日期需要調整，再點擊右側日曆微調'}})],1):_vm._e()]),_c('div',{staticClass:\"scheduleResult\"},[_c('div',{staticClass:\"eventSettingArea\"},[_c('ScheduleResult',{attrs:{\"sent-data-list\":_vm.sentDataList,\"start-valid\":_vm.startValid,\"end-valid\":_vm.endValid,\"seleted-quiz-groups\":_vm.seletedQuizGroups,\"multiple-days\":_vm.multipleDays,\"from-reschedule\":_vm.fromReschedule,\"schedule-setting\":_vm.scheduleSetting,\"allow-repeat\":_vm.allowRepeat,\"short-id\":_vm.quizEvent.shortId,\"record-codes\":_vm.recordCodes,\"sent-record-codes\":_vm.sentRecordCodes},on:{\"saveScheduleDateTime\":function($event){return _vm.saveScheduleDateTime()},\"removeDate\":_vm.removeDate}})],1)])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule-result\"},[_c('div',{staticClass:\"next-infomation\"},[_c('div',{staticClass:\"info latest-event\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('最近發送測驗資訊'))+\"： \")]),(_vm.multipleDays[0] && _vm.seletedQuizGroups[0])?_c('div',{staticClass:\"content\"},[_c('div',[_c('p',{staticClass:\"schedule-send-date\"},[_c('span',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('最近發送時間'))+\"：\")]),_vm._v(\" \"+_vm._s(_vm.displayDateFormat(_vm.multipleDays[0].date))+\" \"+_vm._s(_vm.displayTimeFormat(_vm.multipleDays[0].date))+\" \")]),_c('p',[_c('span',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('有效時間(始)'))+\"：\")]),_vm._v(\" \"+_vm._s(_vm.validDate.startDate)+\" \"+_vm._s(_vm.validDate.startTime)+\" \")]),_c('p',[_c('span',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('有效時間(終)'))+\"：\")]),_vm._v(\" \"+_vm._s(_vm.validDate.endDate)+\" \"+_vm._s(_vm.validDate.endTime)+\" \")])]),(_vm.seletedQuizGroups)?_c('div',[_c('div',{staticClass:\"nextQuizName\"},[_c('p',{staticClass:\"subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('題組名稱'))+\" ： \")]),(_vm.scheduleSetting.allowRepeat)?_c('div',[_c('p',[_vm._v(_vm._s(_vm.seletedQuizGroups[0].metadata.name))])]):_vm._e(),(!_vm.scheduleSetting.allowRepeat)?_c('div',{staticClass:\"multipleName\"},_vm._l((_vm.seletedQuizGroups),function(quiz,index){return _c('p',{key:index},[_vm._v(\" \"+_vm._s(quiz.metadata.name)+\" \")])}),0):_vm._e()])]):_vm._e()]):_vm._e(),(!_vm.seletedQuizGroups[0] || !_vm.multipleDays[0])?_c('div',{staticClass:\"content remind text-dark\"}):_vm._e(),(!_vm.seletedQuizGroups[0] && _vm.sentDataList[0])?_c('div',{staticClass:\"content remind text-dark\"},[_c('p',[_vm._v(_vm._s(_vm.$t('已完成發送')))])]):_vm._e()])]),_c('div',{staticClass:\"infomation-check-area\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"group-inline\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('排程中的發送資訊'))+\"： \")]),_c('div',{staticClass:\"tooltip-area d-none\"},[_c('i',{staticClass:\"fas fa-user-edit exam-icon mr-1\"}),_c('label',{staticClass:\"toggle-label\"},[_vm._v(_vm._s(_vm.$t('考試模式')))]),_c('Tooltip',{attrs:{\"icon\":'?',\"text\":'開起考試模式將會在「互動貼圖APP」啟動測驗時使用線上監考機制以禁止視窗切換、螢幕錄影截圖及通話'}})],1)]),(_vm.multipleDays[0] && _vm.seletedQuizGroups[0])?_c('div',{staticClass:\"content edit-area\"},[_c('div',{staticClass:\"date\"},_vm._l((_vm.multipleDays),function(date,key){return _c('p',{key:key},[_vm._v(\" \"+_vm._s(_vm.displayDateFormat(date.date))+\" \"+_vm._s(_vm.displayTimeFormat(date.date))+\" \")])}),0),_c('div',{staticClass:\"quizName\"},[_c('handle-draggable',{attrs:{\"checked-list\":_vm.seletedQuizGroups,\"display\":'scheduled',\"multiple-days\":_vm.multipleDays,\"short-id\":_vm.shortId,\"record-codes\":_vm.recordCodes},on:{\"removeDate\":_vm.removeDate}})],1)]):_vm._e(),(!_vm.seletedQuizGroups[0] || !_vm.multipleDays[0])?_c('div',{staticClass:\"content remind text-dark\"}):_vm._e(),(!_vm.seletedQuizGroups[0] && _vm.sentDataList[0])?_c('div',{staticClass:\"content remind text-dark\"},[_c('p',[_vm._v(_vm._s(_vm.$t('已完成發送')))])]):_vm._e(),(_vm.multipleDays[0] && _vm.seletedQuizGroups[0] && _vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":40,\"margin-auto\":true,\"width\":95,\"height\":100,\"txt-bottom\":-50,\"label\":'',\"title\":'可拖曳、刪除題組及複製題組代碼'}})],1):_vm._e()]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('已完成的發送資訊'))+\"： \")]),_c('div',{staticClass:\"content sent-area\"},_vm._l((_vm.correctSequence),function(item,key){return _c('div',{key:key,staticClass:\"item\"},[_c('div',{staticClass:\"dateTime\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.displayDateFormat(item.scheduledTime))+\" \"+_vm._s(_vm.displayTimeFormat(item.scheduledTime))+\" \")])]),_c('div',{staticClass:\"quizName\"},_vm._l((item.quizGroup),function(quiz,index){return _c('p',{key:index},[(quiz.isExamMode === false)?_c('span',{staticClass:\"exam-mode-icon d-none\"},[_c('i',{staticClass:\"fas fa-user-edit exam-icon\"})]):_vm._e(),_vm._v(\" \"+_vm._s(quiz.metadata.name)+\" \")])}),0),_c('div',{staticClass:\"ui-btn-right more\"},[_c('div',[_c('b-dropdown',{staticClass:\"action-menu\",attrs:{\"variant\":\"none\",\"no-caret\":\"\",\"toggle-class\":\"text-decoration-none\",\"boundary\":\"window\",\"dropright\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('div',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"fas fa-ellipsis-v\"})])]},proxy:true}],null,true)},[(item.quizGroup.length === 1)?_c('b-dropdown-item',{staticClass:\"copyCode\",on:{\"click\":function($event){return _vm.copyEventCode(_vm.sentRecordCodes[key])}}},[_c('span',[_vm._v(_vm._s(_vm.$t('複製代碼'))+\" \"+_vm._s(_vm.shortId)+\".\"+_vm._s(_vm.sentRecordCodes[key]))]),_c('span',[_c('i',{staticClass:\"far fa-copy\"})])]):_vm._e(),(item.quizGroup.length === 1)?_c('b-dropdown-divider'):_vm._e(),(_vm.allowRepeat)?_c('b-dropdown-item',[(item.quizGroup.length === 1 && !_vm.hasQuiz(item.quizGroup[0].uuid))?_c('div',{staticClass:\"resend\",on:{\"click\":function($event){return _vm.openRescheduleModal(item.quizGroup)}}},[_c('span',[_vm._v(_vm._s(_vm.$t('重送')))]),_c('span',[_c('i',{staticClass:\"fas fa-undo\"})])]):_vm._e(),(item.quizGroup.length === 1 && _vm.hasQuiz(item.quizGroup[0].uuid))?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('已在排程中'))+\" \")]):_vm._e(),(item.quizGroup.length !== 1)?_c('div',{staticClass:\"remind\"},[_vm._v(\" * \"+_vm._s(_vm.$t('週期性推送不接受一次性重送'))+\" \")]):_vm._e()]):_vm._e(),(!_vm.allowRepeat)?_c('b-dropdown-item',[_c('div',{staticClass:\"remind\"},[_vm._v(\" * \"+_vm._s(_vm.$t('僅在週期性推送開啟時適用重送機制'))+\" \")])]):_vm._e()],1)],1)])])}),0),(_vm.sentDataList.length === 0)?_c('div',{staticClass:\"remind text-dark\"},[_c('p',[_vm._v(_vm._s(_vm.$t('尚未有已完成的發送資訊')))])]):_vm._e(),(_vm.sentDataList.length !== 0 && _vm.showGuidedTourItem)?_c('div',{staticClass:\"guided-tour\"},[_c('GuidedTourItem',{attrs:{\"margin-top\":40,\"margin-auto\":true,\"width\":95,\"height\":100,\"txt-bottom\":-50,\"label\":'*',\"title\":'可複製題組代碼、重送題組'}})],1):_vm._e()])]),_c('RescheduleModal')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"reschedule-modal\",\"transition\":\"pop-out\",\"width\":_vm.modalWidth,\"focus-trap\":true,\"height\":480},on:{\"before-open\":_vm.beforeOpen}},[_c('div',{staticClass:\"context\"},[_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('重新安排測驗'))+\" \")]),_c('div',{staticClass:\"send-time-setting\"},[_c('label',{},[_vm._v(_vm._s(_vm.$t('測驗發送時間'))+\"：\")]),_c('div',{staticClass:\"schedule-date-time\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{attrs:{\"for\":\"send-date-start\"}},[_vm._v(_vm._s(_vm.$t('發送日期')))]),_c('div',{staticClass:\"dateTimePicker\"},[_c('vc-date-picker',{attrs:{\"mode\":\"scheduleSend\",\"is24hr\":\"\",\"locale\":_vm.$i18n.locale},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",domProps:{\"value\":inputValue}},inputEvents))]}}]),model:{value:(_vm.scheduleSend),callback:function ($$v) {_vm.scheduleSend=$$v},expression:\"scheduleSend\"}})],1)]),_c('div',{staticClass:\"input-group mb-2\"},[_c('label',{attrs:{\"for\":\"send-time-start\"}},[_vm._v(_vm._s(_vm.$t('發送時間')))]),_c('div',{staticClass:\"dateTimePicker\"},[_c('vc-date-picker',{attrs:{\"mode\":\"time\",\"is24hr\":\"\",\"locale\":_vm.$i18n.locale,\"minute-increment\":5},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",domProps:{\"value\":inputValue}},inputEvents))]}}]),model:{value:(_vm.scheduleSend),callback:function ($$v) {_vm.scheduleSend=$$v},expression:\"scheduleSend\"}})],1)])])])]),_c('div',{staticClass:\"quizGroup\"},[_c('label',{},[_vm._v(\" \"+_vm._s(_vm.$t('題組名稱'))+\"：\")]),_c('div',{staticClass:\"quizGroupName\"},_vm._l((_vm.quizGroup),function(quiz,key){return _c('p',{key:key},[_vm._v(\" \"+_vm._s(quiz.metadata.name)+\" \")])}),0)]),_c('div',{staticClass:\"quizGroup\"},[_c('label',{staticClass:\"remind\"},[_vm._v(\"* \"+_vm._s(_vm.$t('確定重送後若要修改發送時間，請刪除排程中的發送資訊，再次重新安排測驗')))])])]),_c('div',{staticClass:\"button-set\"},[_c('button',{attrs:{\"id\":\"cencel-btn\"},on:{\"click\":_vm.cencelReschedule}},[_vm._v(\" \"+_vm._s(_vm.$t('取消'))+\" \")]),_c('button',{attrs:{\"id\":\"reschedule-btn\"},on:{\"click\":_vm.reschedule}},[_vm._v(\" \"+_vm._s(_vm.$t('確定'))+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { DayMapValue } from '@/apis/models/QuizEventModel';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport Vue from 'vue';\r\n\r\nconst MODAL_WIDTH = 656;\r\nexport default Vue.extend({\r\n  data() {\r\n    return {\r\n      modalWidth: MODAL_WIDTH,\r\n      scheduleSend: '',\r\n      quizGroup: [] as WorkspaceObjectModel[],\r\n      seletedQuizGroups: [] as WorkspaceObjectModel[],\r\n      multipleDays: [] as DayMapValue[],\r\n      fromReschedule: [] as boolean[],\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n  created() {\r\n    this.modalWidth = window.innerWidth < MODAL_WIDTH ? MODAL_WIDTH / 2 : MODAL_WIDTH;\r\n  },\r\n  methods: {\r\n    beforeOpen(event: any) {\r\n      this.quizGroup = event.params.quizGroup;\r\n      this.seletedQuizGroups = event.params.seletedQuizGroups;\r\n      this.multipleDays = event.params.multipleDays;\r\n      this.fromReschedule = event.params.fromReschedule;\r\n    },\r\n    cencelReschedule() {\r\n      console.log('取消重送');\r\n      this.$modal.hide('reschedule-modal');\r\n      this.scheduleSend = '';\r\n    },\r\n    reschedule() {\r\n      if (this.scheduleSend) {\r\n        const date = new Date(this.scheduleSend).toISOString();\r\n        this.multipleDays.push({\r\n          id: TimeFunction.getOnlyDateString(date),\r\n          date,\r\n        });\r\n        this.multipleDays.sort((a, b) => {\r\n          const result = TimeFunction.dateTimeStringToTimestamp(a.date) - TimeFunction.dateTimeStringToTimestamp(b.date);\r\n          return result;\r\n        });\r\n\r\n        this.fromReschedule[0] = true;\r\n        console.log('fromReschedule', this.fromReschedule[0]);\r\n\r\n        const index = this.multipleDays.map((item) => item.date).indexOf(date);\r\n\r\n        if (this.quizGroup && this.quizGroup[0]) {\r\n          this.seletedQuizGroups.splice(index, 0, this.quizGroup[0]); // 從index的位置開始，刪除0個元素並插入this.quizGroup\r\n        }\r\n\r\n        console.log('確定重送');\r\n        this.$modal.hide('reschedule-modal');\r\n        this.scheduleSend = '';\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RescheduleModal.vue?vue&type=template&id=566ba997&\"\nimport script from \"./RescheduleModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./RescheduleModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RescheduleModal.vue?vue&type=style&index=0&scope=true&lang=scss&\"\nimport style1 from \"./RescheduleModal.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip\"},[_c('span',{staticClass:\"tip-icon\"},[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")]),_c('span',{staticClass:\"tip-text\"},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n  },\r\n  props: {\r\n    icon: {\r\n      type: String,\r\n      required: true,\r\n      default: '',\r\n    },\r\n    text: {\r\n      type: String,\r\n      required: true,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tooltip.vue?vue&type=template&id=42418716&scoped=true&\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tooltip.vue?vue&type=style&index=0&id=42418716&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42418716\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport Vue from 'vue';\r\nimport RescheduleModal from '@/components/test_maker/RescheduleModal.vue';\r\nimport HandleDraggable from '@/components/test_maker/HandleDraggable.vue';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\nimport { DayMapValue, SentDataRecord } from '@/apis/models/QuizEventModel';\r\nimport GuidedTourItem from '@/components/GuidedTourItem.vue';\r\nimport Tooltip from '@/components/Tooltip.vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    HandleDraggable,\r\n    RescheduleModal,\r\n    GuidedTourItem,\r\n    Tooltip,\r\n  },\r\n  props: {\r\n    startValid: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    endValid: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    seletedQuizGroups: {\r\n      type: Array as () => Array<WorkspaceObjectModel>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    scheduleSetting: {\r\n      type: Object,\r\n      default: () => ({\r\n      }),\r\n    },\r\n    multipleDays: {\r\n      type: Array as () => Array<DayMapValue>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    fromReschedule: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    sentDataList: {\r\n      type: Array as () => Array<SentDataRecord>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    allowRepeat: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    shortId: {\r\n      type: String,\r\n      default: '',\r\n      required: false,\r\n    },\r\n    recordCodes: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n      required: false,\r\n    },\r\n    sentRecordCodes: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      validDate: {\r\n        startDate: this.$t('同發送時間').toString() as null | string,\r\n        startTime: null as null | string,\r\n        endDate: this.$t('無限制').toString() as null | string,\r\n        endTime: null as null | string,\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    correctSequence(): SentDataRecord[] {\r\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n      this.sentDataList.sort((a: SentDataRecord, b: SentDataRecord) => {\r\n        if (a.scheduledTime > b.scheduledTime) {\r\n          return 1;\r\n        }\r\n        return -1;\r\n      });\r\n      return this.sentDataList;\r\n    },\r\n    showGuidedTour(): boolean {\r\n      return this.$store.state.showGuidedTour;\r\n    },\r\n    showGuidedTourItem(): boolean {\r\n      if (this.showGuidedTour && this.$route.path === '/manager/quizevent-maker') {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  watch: {\r\n    startValid() {\r\n      this.init();\r\n    },\r\n    endValid() {\r\n      this.init();\r\n    },\r\n    seletedQuizGroups() {\r\n      this.$emit('saveScheduleDateTime');\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    copyEventCode(recordCode: string) {\r\n      if (!this.shortId) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n      let copyText = `${this.shortId}.${recordCode}`;\r\n      if (recordCode === 'none') {\r\n        copyText = `${this.shortId}`;\r\n      }\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      this.$copyText(copyText).then((e) => {\r\n        console.log(copyText);\r\n      }, (e) => {\r\n        console.error('複製失败', e.text);\r\n      });\r\n    },\r\n    removeDate(idx: number) {\r\n      this.$emit('removeDate', idx);\r\n    },\r\n    hasQuiz(uuid: string) {\r\n      let hasQuiz = false;\r\n      this.seletedQuizGroups.forEach((quiz: WorkspaceObjectModel) => {\r\n        if (uuid === quiz.uuid) {\r\n          hasQuiz = true;\r\n        }\r\n      });\r\n      return hasQuiz;\r\n    },\r\n    init() {\r\n      if (this.startValid || this.endValid) {\r\n        if (this.startValid) {\r\n          const startTimestamps = TimeFunction.dateTimeStringToTimestamp(this.startValid);\r\n          const object = TimeFunction.getDateStringObject(startTimestamps / 1000);\r\n          this.validDate.startDate = object.date;\r\n          this.validDate.startTime = object.time;\r\n        } else {\r\n          this.validDate.startDate = this.$t('同發送時間').toString();\r\n          this.validDate.startTime = null;\r\n        }\r\n        if (this.endValid) {\r\n          const endTimestamps = TimeFunction.dateTimeStringToTimestamp(this.endValid);\r\n          const object = TimeFunction.getDateStringObject(endTimestamps / 1000);\r\n          this.validDate.endDate = object.date;\r\n          this.validDate.endTime = object.time;\r\n        } else {\r\n          this.validDate.endDate = this.$t('無限制').toString();\r\n          this.validDate.endTime = null;\r\n        }\r\n      } else {\r\n        this.validDate.startDate = this.$t('同發送時間').toString();\r\n        this.validDate.startTime = null;\r\n        this.validDate.endDate = this.$t('無限制').toString();\r\n        this.validDate.endTime = null;\r\n      }\r\n    },\r\n    openRescheduleModal(quizGroup: WorkspaceObjectModel) {\r\n      this.$modal.show('reschedule-modal',\r\n        {\r\n          quizGroup, seletedQuizGroups: this.seletedQuizGroups, multipleDays: this.multipleDays, fromReschedule: this.fromReschedule,\r\n        });\r\n    },\r\n    // 轉換時間-----------------------------\r\n    displayDateFormat(date: string) {\r\n      const str = TimeFunction.getOnlyDateString(date);\r\n      return str;\r\n    },\r\n    displayTimeFormat(date: string) {\r\n      const timestamp = new Date(date).getTime();\r\n      const rescheduleDate = TimeFunction.getDateStringObject(timestamp / 1000);\r\n      return rescheduleDate.time;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleResult.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleResult.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScheduleResult.vue?vue&type=template&id=1d8451b7&scoped=true&\"\nimport script from \"./ScheduleResult.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScheduleResult.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ScheduleResult.vue?vue&type=style&index=0&id=1d8451b7&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d8451b7\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {\r\n  DayMapValue, HighlightCalendar, MultipleDatesAttributes, QuizEventModelv4, SentDataRecord,\r\n} from '@/apis/models/QuizEventModel';\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport ScheduleResult from '@/components/test_maker/ScheduleResult.vue';\r\nimport Vue, { PropType } from 'vue';\r\nimport GuidedTourItem from '@/components/GuidedTourItem.vue';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    ScheduleResult,\r\n    GuidedTourItem,\r\n  },\r\n  props: {\r\n    quizEvent: {\r\n      type: Object as PropType<QuizEventModelv4 | null>,\r\n      required: true,\r\n    },\r\n    dateTime: {\r\n      type: Object,\r\n      default: () => ({\r\n        scheduledTime: '',\r\n      }),\r\n    },\r\n    seletedQuizGroups: {\r\n      type: Array as () => Array<WorkspaceObjectModel>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    scheduleSetting: {\r\n      type: Object,\r\n      default: () => ({\r\n      }),\r\n    },\r\n    scheduledTime: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    startValid: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    endValid: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    unsendDates: {\r\n      type: Array as () => Array<string>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    sentDataList: {\r\n      type: Array as () => Array<SentDataRecord>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    showGuidedTourItem: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    recordCodes: {\r\n      type: Array as () => Array<string| null>,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    sentRecordCodes: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      multipleDays: [] as DayMapValue[],\r\n\r\n      allowSchedule: true,\r\n      allowRepeat: true,\r\n      repeatPeriod: 'week', // 'days'\r\n      repeatFrequency: 1,\r\n      weeklyScheduledDay: ['1'],\r\n\r\n      scheduledDateTime: null as null | string,\r\n\r\n      scheduledSendDate: null as null | string,\r\n      scheduledSendTime: null as null | string,\r\n\r\n      fromReschedule: [\r\n        false,\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    correctSequence(): SentDataRecord[] {\r\n      const list = [] as SentDataRecord[];\r\n      this.sentDataList.forEach((element) => {\r\n        list.push(element);\r\n      });\r\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n      list.sort((a: SentDataRecord, b: SentDataRecord) => {\r\n        if (a.scheduledTime > b.scheduledTime) {\r\n          return 1;\r\n        }\r\n        return -1;\r\n      });\r\n      return list;\r\n    },\r\n    seletedDates(): string[] { // 點點\r\n      const arr = [] as string[];\r\n      this.multipleDays.forEach((day) => {\r\n        arr.push(day.date);\r\n      });\r\n      return arr;\r\n    },\r\n    attributes(): MultipleDatesAttributes[] {\r\n      const arr = [] as MultipleDatesAttributes[];\r\n      for (let index = 0; index < this.seletedDates.length; index += 1) {\r\n        if (index === 0) {\r\n          let label = '';\r\n          if (this.seletedQuizGroups[index]) {\r\n            label = this.seletedQuizGroups[index].metadata.name;\r\n          } else {\r\n            label = '---';\r\n          }\r\n          arr.push({\r\n            highlight: {\r\n              color: 'red',\r\n              fillMode: 'solid',\r\n            },\r\n            dates: this.seletedDates[index],\r\n            popover: {\r\n              label,\r\n            },\r\n          });\r\n        } else {\r\n          let label = '';\r\n          let highlight = {} as HighlightCalendar;\r\n          if (this.seletedQuizGroups[index]) {\r\n            label = this.seletedQuizGroups[index].metadata.name;\r\n            highlight = {\r\n              color: 'blue',\r\n              fillMode: 'solid',\r\n            };\r\n          } else {\r\n            label = '---';\r\n            highlight = {\r\n              color: 'blue',\r\n              fillMode: 'outline',\r\n            };\r\n          }\r\n          arr.push({\r\n            highlight,\r\n            dates: this.seletedDates[index],\r\n            popover: {\r\n              label,\r\n            },\r\n          });\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n\r\n    workspaceId(): string {\r\n      return this.$store.state.currentWorkspace.uuid;\r\n    },\r\n    quizEventId(): string {\r\n      return this.$store.state.currentQuizEvent.uuid;\r\n    },\r\n  },\r\n  watch: {\r\n    seletedDates() {\r\n      this.saveScheduleDateTime();\r\n    },\r\n    scheduledDateTime() {\r\n      if (this.allowSchedule && !this.scheduledDateTime) {\r\n        this.allowRepeat = true;\r\n      }\r\n      this.setInitDateList();\r\n      this.watchInitDatePosition();\r\n      this.calendarQuantityRule(false);\r\n    },\r\n    quizEvent() {\r\n      this.initDefaultDate();\r\n    },\r\n    seletedQuizGroups() {\r\n      if (this.seletedQuizGroups.length === 0) {\r\n        this.allowRepeat = true;\r\n      }\r\n      this.calendarQuantityRule(false);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initDefaultDate();\r\n    this.checkRepeatAllow();\r\n\r\n    if (this.unsendDates) {\r\n      this.unsendDates.forEach((date: string) => {\r\n        this.multipleDays.push({\r\n          id: TimeFunction.getOnlyDateString(date),\r\n          date,\r\n        });\r\n      });\r\n    }\r\n\r\n    this.allowRepeat = this.scheduleSetting.allowRepeat;\r\n    this.repeatPeriod = this.scheduleSetting.repeatPeriod;\r\n    this.repeatFrequency = this.scheduleSetting.repeatFrequency;\r\n    this.weeklyScheduledDay = this.scheduleSetting.weeklyScheduledDay;\r\n\r\n    if (this.quizEvent?.quizGroups) {\r\n      if (this.quizEvent?.quizGroups?.length > 0 && !this.dateTime.scheduledTime) {\r\n        this.allowRepeat = false;\r\n        this.allowSchedule = false;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    copyEventCode(shortId: string, recordCode: string) {\r\n      if (!shortId) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n      let copyText = `${shortId}.${recordCode}`;\r\n      if (!recordCode) {\r\n        copyText = shortId;\r\n      }\r\n\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      this.$copyText(copyText).then((e) => {\r\n        console.log(copyText);\r\n      }, (e) => {\r\n        console.error('複製失败', e.text);\r\n      });\r\n    },\r\n    closeSchedule() {\r\n      if (this.allowRepeat) {\r\n        this.allowRepeat = false;\r\n      }\r\n      this.scheduledDateTime = '';\r\n    },\r\n    setRule() {\r\n      if (this.checkRepeatAllow()) {\r\n        this.makeRuleList('scheduledDateTime');\r\n      }\r\n    },\r\n    calendarQuantityRule(onDayClick: boolean) {\r\n      if (this.fromReschedule[0] === false) { // 依照正常程序加入的狀況(非重送)\r\n        if (this.allowRepeat && this.multipleDays.length > 0) { // 週期性發送且日期有1個以上(有起始日)才需要\r\n          if (this.seletedQuizGroups.length > this.multipleDays.length) { // 題組 > 日期\r\n            // console.log('題組比日期多項, 要從後面加日期');\r\n            if (this.checkRepeatAllow()) {\r\n              this.makeRuleList(this.multipleDays[this.multipleDays.length - 1].date); // 從最後一個日期開始算起補滿\r\n            }\r\n          } else { // 日期 > 題組\r\n            if (!onDayClick) { // 如果是用selecter刪除的 就從最後一個日期開始刪\r\n              let n = 0;\r\n              this.attributes.forEach((element) => {\r\n                if (element.popover.label === '---') {\r\n                  n += 1;\r\n                }\r\n              });\r\n              this.multipleDays.splice(this.multipleDays.length - n, n);\r\n            }\r\n            console.log('有多的日期 已刪掉');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    removeDate(idx: number) {\r\n      this.seletedQuizGroups.splice(idx, 1);\r\n      this.multipleDays.splice(idx, 1);\r\n      if (this.multipleDays[0]) {\r\n        this.scheduledDateTime = this.multipleDays[0].date;\r\n      } else {\r\n        this.scheduledDateTime = '';\r\n      }\r\n    },\r\n    onDayClick(day: DayMapValue) {\r\n      let newDate = day.date;\r\n      if (this.scheduledSendTime) {\r\n        const timestamp = TimeFunction.dateTimeStringToTimestamp(day.date);\r\n        const dateString = TimeFunction.getDateStringObject(timestamp / 1000).date;\r\n        newDate = TimeFunction.toISODateTime(dateString, this.scheduledSendTime);\r\n      }\r\n      const idx = this.multipleDays.findIndex((d) => d.id === day.id);\r\n      if (idx >= 0) {\r\n        this.multipleDays.splice(idx, 1);\r\n      } else {\r\n        this.multipleDays.push({\r\n          id: day.id,\r\n          date: newDate,\r\n        });\r\n      }\r\n      this.multipleDays.sort((a, b) => {\r\n        const result = TimeFunction.dateTimeStringToTimestamp(a.date) - TimeFunction.dateTimeStringToTimestamp(b.date);\r\n        return result;\r\n      });\r\n      if (this.scheduledDateTime) {\r\n        const dateTime = new Date(TimeFunction.dateTimeStringToTimestamp(this.scheduledDateTime)).toISOString();\r\n        if (dateTime !== this.seletedDates[0]) {\r\n          const initDay = this.seletedDates[0];\r\n          this.scheduledDateTime = initDay;\r\n        }\r\n      }\r\n\r\n      this.calendarQuantityRule(true);\r\n      this.saveScheduleDateTime();\r\n    },\r\n    initDefaultDate() {\r\n      if (!this.quizEvent) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n\r\n      if (this.dateTime.scheduledTime) {\r\n        const scheduledTimestamp = TimeFunction.dateTimeStringToTimestamp(this.dateTime.scheduledTime);\r\n        this.scheduledDateTime = new Date(scheduledTimestamp).toISOString(); // scheduleSend是配合input的格式\r\n        // this.getScheduleSendDateTime(); // 這行應該不必加\r\n      } else {\r\n        this.scheduledDateTime = '';\r\n      }\r\n    },\r\n    getScheduleSendDateTime() { // 從scheduledTimeISO 取出 scheduledSendDate scheduledSendTime\r\n      if (this.scheduledDateTime) {\r\n        const timestamps = TimeFunction.dateTimeStringToTimestamp(this.scheduledDateTime);\r\n        const object = TimeFunction.getDateStringObject(timestamps / 1000);\r\n        this.scheduledSendDate = object.date;\r\n        this.scheduledSendTime = object.time;\r\n      }\r\n    },\r\n    checkRepeatAllow() {\r\n      let isAllowRepeat = false;\r\n      if (this.allowRepeat && this.scheduledDateTime) {\r\n        if (!this.repeatPeriod) { // 查看是否有資料從後端來 沒有的話就給他初始值\r\n          this.repeatPeriod = 'week';\r\n          this.repeatFrequency = 1;\r\n          this.weeklyScheduledDay = ['1'];\r\n        }\r\n\r\n        if (this.repeatPeriod === 'week') {\r\n          this.repeatFrequency = 1;\r\n          if (!this.weeklyScheduledDay || this.weeklyScheduledDay.length === 0) {\r\n            this.weeklyScheduledDay = ['1'];\r\n          }\r\n          isAllowRepeat = true;\r\n        }\r\n\r\n        if (this.repeatPeriod === 'days') {\r\n          this.weeklyScheduledDay = ['1'];\r\n          isAllowRepeat = true;\r\n        }\r\n      } else { // 恢復原始設定\r\n        this.multipleDays = []; // 清空\r\n        this.setInitDateList(); // 放入起始日\r\n        this.repeatPeriod = 'week';\r\n        this.repeatFrequency = 1;\r\n        this.weeklyScheduledDay = ['1'];\r\n      }\r\n      return isAllowRepeat;\r\n    },\r\n    makeRuleList(startDate: string) {\r\n      if (this.scheduledDateTime) {\r\n        let startDay = 0;\r\n        if (startDate === 'scheduledDateTime') {\r\n          startDay = TimeFunction.dateTimeStringToTimestamp(this.scheduledDateTime) / 1000; // timestamp\r\n          this.multipleDays = []; // 清空\r\n          this.setInitDateList(); // 放入起始日\r\n        } else {\r\n          startDay = TimeFunction.dateTimeStringToTimestamp(startDate) / 1000; // timestamp\r\n        }\r\n\r\n        let dateForWeek = startDay;\r\n        let dateForDay = startDay;\r\n        let formatDate = '';\r\n\r\n        if (this.repeatPeriod === 'week') {\r\n          while (this.seletedQuizGroups.length > this.multipleDays.length) {\r\n            dateForWeek += 86400;\r\n            const dateDay = TimeFunction.getWeekDay(dateForWeek);\r\n            // eslint-disable-next-line no-loop-func\r\n            this.weeklyScheduledDay.forEach((scheduleNum) => {\r\n              if (dateDay === Number(scheduleNum)) {\r\n                formatDate = TimeFunction.getOnlyDateString(TimeFunction.timestampToDateStringFormat(dateForWeek)); // '2021-09-29'\r\n                if (this.scheduledSendTime) {\r\n                  const result = TimeFunction.toISODateTime(formatDate, this.scheduledSendTime);\r\n                  this.multipleDays.push({\r\n                    id: TimeFunction.getOnlyDateString(result),\r\n                    date: result,\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        if (this.repeatPeriod === 'days') {\r\n          while (this.seletedQuizGroups.length > this.multipleDays.length) {\r\n            dateForDay += this.repeatFrequency * 86400;\r\n            formatDate = TimeFunction.getOnlyDateString(TimeFunction.timestampToDateStringFormat(dateForDay)); // '2021-09-29'\r\n            if (this.scheduledSendTime) {\r\n              const result = TimeFunction.toISODateTime(formatDate, this.scheduledSendTime);\r\n              this.multipleDays.push({\r\n                id: TimeFunction.getOnlyDateString(result),\r\n                date: result,\r\n              });\r\n            }\r\n          }\r\n        }\r\n\r\n        this.saveScheduleDateTime();\r\n      }\r\n    },\r\n    watchInitDatePosition() {\r\n      if (this.scheduledDateTime && this.multipleDays[1]) {\r\n        const newStartDay = TimeFunction.dateTimeStringToTimestamp(this.scheduledDateTime); // 變動後的新日期\r\n        const secondDate = TimeFunction.dateTimeStringToTimestamp(this.multipleDays[1].date);// 原本數列中的第二個日期\r\n\r\n        if (secondDate <= newStartDay) {\r\n          console.log('會重整');\r\n\r\n          this.makeRuleList('scheduledDateTime');\r\n        }\r\n\r\n        if (this.fromReschedule[0] === false) { // 依照正常程序加入的狀況(非重送)\r\n          if (this.scheduledSendDate === TimeFunction.getOnlyDateString(this.scheduledDateTime) // 日期沒有變\r\n            && this.scheduledSendTime !== TimeFunction.getDateStringObject(newStartDay).time) { // 但時間變了\r\n            const arr = [] as DayMapValue[];\r\n            this.multipleDays.forEach((item) => {\r\n              if (this.scheduledSendTime) {\r\n                const onlyDate = TimeFunction.getOnlyDateString(item.date);\r\n                const result = TimeFunction.toISODateTime(onlyDate, this.scheduledSendTime);\r\n                arr.push({\r\n                  id: onlyDate,\r\n                  date: result,\r\n                });\r\n              }\r\n            });\r\n            this.multipleDays = [];\r\n            this.multipleDays = arr;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    setInitDateList() { // 把起始日加入DateList的做法\r\n      if (this.scheduledDateTime) {\r\n        this.getScheduleSendDateTime(); // 取得scheduledDateTime的 Date和Time\r\n\r\n        if (this.scheduledDateTime && this.scheduledSendTime) {\r\n          const scheduledSendDate = TimeFunction.getOnlyDateString(this.scheduledDateTime);\r\n          const dateISO = TimeFunction.toISODateTime(scheduledSendDate, this.scheduledSendTime);\r\n          const result = {\r\n            id: scheduledSendDate,\r\n            date: dateISO,\r\n          };\r\n\r\n          if (this.multipleDays[0]) {\r\n            this.multipleDays.forEach((day: DayMapValue) => {\r\n              const onlyDate = TimeFunction.getOnlyDateString(day.date);\r\n              const timestamp = TimeFunction.dateTimeStringToTimestamp(day.date);\r\n              const onlyTime = TimeFunction.getDateStringObject(timestamp).time;\r\n              if (onlyDate === scheduledSendDate) {\r\n                if (this.scheduledSendTime !== onlyTime) {\r\n                  this.multipleDays.splice(0, 1, result); // 取代第一個\r\n                }\r\n              } else {\r\n                this.multipleDays.splice(0, 1, result); // 取代第一個\r\n              }\r\n            });\r\n          } else {\r\n            this.multipleDays.push(result);\r\n          }\r\n        }\r\n      } else { // 沒有起始日期就沒有list\r\n        this.multipleDays = [];\r\n      }\r\n      this.saveScheduleDateTime();\r\n    },\r\n    saveScheduleDateTime() {\r\n      if (this.scheduledSendTime && this.seletedDates[0]) {\r\n        const latestDate = this.seletedDates[0];\r\n        this.dateTime.scheduledTime = latestDate;\r\n        this.dateTime.dateList.dates = this.seletedDates;\r\n\r\n        this.scheduleSetting.allowRepeat = this.allowRepeat;\r\n        this.scheduleSetting.repeatPeriod = this.repeatPeriod;\r\n        this.scheduleSetting.repeatFrequency = this.repeatFrequency;\r\n        this.scheduleSetting.weeklyScheduledDay = this.weeklyScheduledDay;\r\n      } else {\r\n        this.dateTime.scheduledTime = null;\r\n        this.dateTime.dateList.dates = [];\r\n        this.scheduleSetting.allowRepeat = true;\r\n        this.scheduleSetting.repeatPeriod = 'week';\r\n        this.scheduleSetting.repeatFrequency = 1;\r\n        this.scheduleSetting.weeklyScheduledDay = ['1'];\r\n      }\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendModeSetting.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendModeSetting.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SendModeSetting.vue?vue&type=template&id=24f10ffc&scoped=true&\"\nimport script from \"./SendModeSetting.vue?vue&type=script&lang=ts&\"\nexport * from \"./SendModeSetting.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SendModeSetting.vue?vue&type=style&index=0&id=24f10ffc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24f10ffc\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport QuizEventApi from '@/apis/QuizEventApi';\r\nimport {\r\n  MonitorMapValue, PushedQuizGroupRecord, QuizEventModelv4, SentDataRecord, TimeMapValue,\r\n} from '@/apis/models/QuizEventModel';\r\nimport checkedItems from '@/components/test_maker/CheckedItems.vue';\r\nimport ValidTimeSetting from '@/components/test_maker/ValidTimeSetting.vue';\r\nimport SendModeSetting from '@/components/test_maker/SendModeSetting.vue';\r\nimport GuidedTour from '@/views/GuidedTour.vue';\r\nimport OpenGuidedTourBtn from '@/components/OpenGuidedTourBtn.vue';\r\nimport GuidedTourItem from '@/components/GuidedTourItem.vue';\r\nimport Auth from '@/libs/auth';\r\nimport SelectQuizGroupModal from '@/components/test_maker/SelectQuizGroupModal.vue';\r\nimport SelectMemberGroupModal from '@/components/test_maker/SelectMemberGroupModal.vue';\r\nimport { WorkspaceObjectModel, WorkspaceObjectType } from '@/apis/models/WorkspaceObjectModel';\r\nimport { WorkspaceSoftLinkModel } from '@/apis/models/WorkspaceSoftLinkModel';\r\nimport BackButton from '@/components/BackButton.vue';\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport QuizGroupApi from '@/apis/QuizGroupApi';\r\nimport { QuizGroupModel } from '@/apis/models/QuizGroupModel';\r\nimport QuizEventHandler from '@/handlers/QuizEventHandler';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    GuidedTour,\r\n    OpenGuidedTourBtn,\r\n    GuidedTourItem,\r\n    SendModeSetting,\r\n    checkedItems,\r\n    ValidTimeSetting,\r\n    SelectQuizGroupModal,\r\n    SelectMemberGroupModal,\r\n    BackButton,\r\n  },\r\n  data() {\r\n    return {\r\n      quizEvent: null as QuizEventModelv4 | null, // 本[測驗]的資訊\r\n      nowTimestamp: Math.floor(new Date(Math.floor(Date.now())).getTime() / 1000), // 10位數\r\n      memberGroupsInfo: { // 目前props的時候傳入'member'，考慮要不要就乾脆拿掉了 [其實不能拿掉 還有地方在用 TODO:找找哪裡在用]\r\n        name: 'member',\r\n        checkedList: [] as WorkspaceObjectModel[], // 這是已選的[班級] 已被quizEvent.memberGroups代替\r\n      },\r\n      quizGroupsInfo: { // 目前props的時候傳入'quiz'，考慮要不要就乾脆拿掉了\r\n        name: 'quiz',\r\n        checkedList: [] as WorkspaceObjectModel[], // 這是已選的[題組] 已被quizEvent.quizGroups代替\r\n      },\r\n      dateTime: {\r\n        scheduledTime: '',\r\n        startValid: '',\r\n        endValid: '',\r\n        dateList: {\r\n          dates: [] as string[],\r\n        },\r\n      },\r\n      mapData: {\r\n        unsendDates: [] as string[] || null,\r\n        expiredDates: [] as string[],\r\n        sentDataList: [] as SentDataRecord[],\r\n        recordCodes: [] as string[],\r\n        sentRecordCodes: [] as string[],\r\n      },\r\n      scheduleSetting: {\r\n        allowRepeat: true,\r\n        repeatPeriod: 'week', // 'days'\r\n        repeatFrequency: 1,\r\n        weeklyScheduledDay: ['1'],\r\n      },\r\n      validData: {\r\n        startTimeHour: 0,\r\n        startTimeMin: 0,\r\n        endTimeDay: 0,\r\n        endTimeHour: 0,\r\n      },\r\n      pushedQuizGroups: [] as QuizGroupModel[],\r\n      timeMap: new Map<string, TimeMapValue>(),\r\n      monitorMap: new Map<string, MonitorMapValue>(),\r\n      saveSignalTimeoutId: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    isLoading(): boolean {\r\n      return this.$store.state.isLoading;\r\n    },\r\n    workspaceId(): string {\r\n      return this.$store.state.currentWorkspace.uuid;\r\n    },\r\n    quizEventId(): string {\r\n      return this.$store.state.currentQuizEvent.uuid;\r\n    },\r\n    showGuidedTour(): boolean {\r\n      return this.$store.state.showGuidedTour;\r\n    },\r\n    showGuidedTourItem(): boolean {\r\n      if (this.showGuidedTour && this.$route.path === '/manager/quizevent-maker') {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  async mounted() {\r\n    Auth.loginCheck();\r\n    this.$store.commit('updateLoading', true);\r\n    try {\r\n      await QuizEventApi.getQuizEvent(this.quizEventId).then(async (quizEvent) => {\r\n        this.quizEvent = quizEvent;\r\n        this.getQuizEventData();\r\n        console.log('quizEvent:', quizEvent);\r\n\r\n        this.getPushedRecord();\r\n\r\n        this.getTimeMapData();\r\n      });\r\n    } finally {\r\n      this.$store.commit('updateLoading', false);\r\n    }\r\n  },\r\n  methods: {\r\n    setShowGuidedTour(btn: boolean) {\r\n      // this.showGuidedTour = btn;\r\n      this.$store.commit('updateGuidedTour', btn);\r\n    },\r\n    getPushedRecord() {\r\n      if (this.quizEvent && this.quizEvent.pushedQuizGroupList[0]) {\r\n        this.quizEvent.pushedQuizGroupList.forEach(async (record: PushedQuizGroupRecord) => {\r\n          const request = [] as Promise<QuizGroupModel>[];\r\n          record.groupId.forEach((id) => {\r\n            const promies = QuizGroupApi.retrieve(id);\r\n            request.push(promies);\r\n          });\r\n\r\n          const quizGroupsArray = await Promise.all(request);\r\n          let object = {} as SentDataRecord;\r\n          object = {\r\n            quizGroup: quizGroupsArray,\r\n            scheduledTime: record.scheduledTime,\r\n            recordCode: record.recordCode,\r\n          };\r\n          this.mapData.sentDataList.push(object as SentDataRecord);\r\n          if (this.quizEvent && this.mapData.sentDataList.length === this.quizEvent.pushedQuizGroupList.length) {\r\n            this.mapData.sentDataList.sort((a, b) => { // 排好順序\r\n              const scheduledTimeA = a.scheduledTime;\r\n              const scheduledTimeB = b.scheduledTime;\r\n              if (scheduledTimeA < scheduledTimeB) {\r\n                return -1;\r\n              }\r\n              if (scheduledTimeA > scheduledTimeB) {\r\n                return 1;\r\n              }\r\n              return 0;\r\n            });\r\n            this.mapData.sentDataList.forEach((item) => {\r\n              this.mapData.sentRecordCodes.push(item.recordCode);\r\n            });\r\n          }\r\n          this.mapData.sentDataList = QuizEventHandler.getSentExamData(this.quizEvent, this.mapData);\r\n        });\r\n      }\r\n    },\r\n    getQuizEventData() {\r\n      if (this.quizEvent) {\r\n        this.scheduleSetting.allowRepeat = !this.quizEvent.onePush;\r\n        this.scheduleSetting.repeatPeriod = this.quizEvent.period;\r\n        this.scheduleSetting.weeklyScheduledDay = this.quizEvent.weekdays;\r\n\r\n        if (this.quizEvent.quizGroups\r\n            && this.quizEvent.memberGroups\r\n            && this.quizEvent.quizGroups.length === 0\r\n            && this.quizEvent.memberGroups.length === 0) {\r\n          this.scheduleSetting.allowRepeat = true;\r\n        }\r\n\r\n        if (this.quizEvent.validData) {\r\n          this.validData = this.quizEvent.validData;\r\n        }\r\n\r\n        if (this.quizEvent.frequency) {\r\n          this.scheduleSetting.repeatFrequency = this.quizEvent.frequency;\r\n        }\r\n\r\n        if (this.quizEvent.scheduledTime) {\r\n          this.dateTime.scheduledTime = this.quizEvent.scheduledTime;\r\n        }\r\n\r\n        if (this.quizEvent.startTime) {\r\n          this.dateTime.startValid = this.quizEvent.startTime;\r\n        }\r\n\r\n        if (this.quizEvent.endTime) {\r\n          this.dateTime.endValid = this.quizEvent.endTime;\r\n        }\r\n      }\r\n    },\r\n    getTimeMapData() {\r\n      this.$store.commit('updateLoading', true);\r\n      if (this.quizEvent && this.quizEvent.timeMap) {\r\n        const result = QuizEventHandler.getMapData(this.quizEvent);\r\n        this.mapData = result.mapData;\r\n        this.scheduleSetting = result.scheduleSetting;\r\n        this.quizEvent = QuizEventHandler.getExamData(this.quizEvent);\r\n      }\r\n      this.$store.commit('updateLoading', false);\r\n    },\r\n    getValidDateTime(scheduledTime: string) { // 工具\r\n      const validTime = {\r\n        startValid: '' as any,\r\n        endValid: '' as any,\r\n      };\r\n      if (this.validData.startTimeHour !== 0 || this.validData.startTimeMin !== 0) { // 有設定時分的話\r\n        let timestamp = TimeFunction.dateTimeStringToTimestamp(scheduledTime);\r\n        timestamp += (3600000 * this.validData.startTimeHour + 60000 * this.validData.startTimeMin);\r\n        const result = new Date(timestamp).toISOString();\r\n        validTime.startValid = result;\r\n      } else {\r\n        validTime.startValid = null;\r\n      }\r\n      if (this.validData.endTimeDay !== 0 || this.validData.endTimeHour !== 0) { // 有設定時分的話\r\n        let timestamp = TimeFunction.dateTimeStringToTimestamp(scheduledTime);\r\n        timestamp += (86400000 * this.validData.endTimeDay + 3600000 * this.validData.endTimeHour);\r\n        const result = new Date(timestamp).toISOString();\r\n        validTime.endValid = result;\r\n      } else {\r\n        validTime.endValid = null;\r\n      }\r\n      return validTime;\r\n    },\r\n    setTimeMap() {\r\n      if (this.quizEvent && this.quizEvent.quizGroups) {\r\n        const quizList = this.quizEvent.quizGroups; // 題組List\r\n        const dateList = this.dateTime.dateList.dates; // 時間日期List\r\n\r\n        if (dateList.length > 0 && quizList.length === 0) {\r\n          this.$notify({\r\n            type: 'error',\r\n            title: this.$t('錯誤').toString(),\r\n            text: this.$t('有選時間，尚未選擇題組').toString(),\r\n          });\r\n          this.$store.commit('updateLoading', false);\r\n          throw console.log('有選時間，尚未選擇題組');\r\n        }\r\n        if (quizList.length > 0 && dateList.length === 0) {\r\n          console.log('有選題組，尚未選擇日期，現在後端過不了不能存');\r\n\r\n        //   this.$notify({\r\n        //     type: 'error',\r\n        //     title: this.$t('錯誤').toString(),\r\n        //     text: this.$t('有選題組，尚未選擇日期').toString(),\r\n        //   });\r\n        //   this.$store.commit('updateLoading', false);\r\n        //   throw console.log('有選題組，尚未選擇日期');\r\n        }\r\n\r\n        // 創建js map\r\n        this.timeMap = new Map();\r\n        if (quizList.length === 0 && dateList.length === 0) {\r\n          console.log('沒有dateList也沒有quizList', dateList.length, quizList.length);\r\n          this.quizEvent.timeMap = null;\r\n        } else {\r\n          if (dateList.length > 1) { // 週期性推送的時候\r\n            for (let index = 0; index < quizList.length; index += 1) {\r\n              const startTime = this.getValidDateTime(dateList[index]).startValid;\r\n              const endTime = this.getValidDateTime(dateList[index]).endValid;\r\n\r\n              this.timeMap.set(quizList[index].uuid, {\r\n                startTime,\r\n                endTime,\r\n                scheduledTime: dateList[index],\r\n                duration: 0,\r\n                recordCode: null,\r\n              });\r\n            }\r\n          // } else if (dateList.length === 0) {\r\n          //   const startTime = null;\r\n          //   const endTime = null;\r\n          //   this.timeMap.set(quizList[0].uuid, {\r\n          //     startTime,\r\n          //     endTime,\r\n          //     scheduledTime: null,\r\n          //     duration: 0,\r\n          //     recordCode: null,\r\n          //   });\r\n          } else { // onePush的時候 dateList.length === 1\r\n            const startTime = this.getValidDateTime(dateList[0]).startValid;\r\n            const endTime = this.getValidDateTime(dateList[0]).endValid;\r\n            this.timeMap.set(quizList[0].uuid, {\r\n              startTime,\r\n              endTime,\r\n              scheduledTime: dateList[0],\r\n              duration: 0,\r\n              recordCode: null,\r\n            });\r\n          }\r\n\r\n          // 轉成後端所需map格式並存進quizEvent\r\n          const obj = Object.create(null);\r\n          const iterator = this.timeMap.keys();\r\n          for (let i = 0; i < this.timeMap.size; i += 1) {\r\n            const key = iterator.next().value;\r\n            obj[key] = this.timeMap.get(key);\r\n          }\r\n          this.quizEvent.timeMap = JSON.parse(JSON.stringify(obj));\r\n        }\r\n        console.log('timeMap:', this.quizEvent.timeMap);\r\n      }\r\n    },\r\n    setMonitorMap() {\r\n      if (this.quizEvent && this.quizEvent.quizGroups) {\r\n        this.monitorMap = new Map();\r\n\r\n        this.quizEvent.quizGroups.forEach((item) => {\r\n          if (item.isExamMode === true) {\r\n            this.monitorMap.set(item.uuid, {\r\n              noScreenshot: true,\r\n              noSwitchApp: true,\r\n              noPhoneCall: true,\r\n            });\r\n          } else {\r\n            this.monitorMap.set(item.uuid, {\r\n              noScreenshot: false,\r\n              noSwitchApp: false,\r\n              noPhoneCall: false,\r\n            });\r\n          }\r\n        });\r\n\r\n        // 轉成後端所需map格式並存進quizEvent\r\n        const obj = Object.create(null);\r\n        const iterator = this.monitorMap.keys();\r\n        for (let i = 0; i < this.monitorMap.size; i += 1) {\r\n          const key = iterator.next().value;\r\n          obj[key] = this.monitorMap.get(key);\r\n        }\r\n        this.quizEvent.monitorMap = JSON.parse(JSON.stringify(obj));\r\n        console.log('monitorMap:', this.quizEvent.monitorMap);\r\n      }\r\n    },\r\n    updateEvent() {\r\n      if (!this.quizEvent) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n      this.$store.commit('updateLoading', true);\r\n      if (this.quizEvent.quizGroups && this.quizEvent.memberGroups) {\r\n        this.setTimeMap();\r\n      } else {\r\n        this.$store.commit('updateLoading', false);\r\n        throw console.log('TimeMap is not ready');\r\n      }\r\n      if (this.quizEvent.quizGroups && this.quizEvent.memberGroups) {\r\n        this.setMonitorMap();\r\n      } else {\r\n        this.$store.commit('updateLoading', false);\r\n        throw console.log('MonitorMap is not ready');\r\n      }\r\n\r\n      // 以下是需要上傳到後端儲存的內容\r\n      this.quizEvent.validData = this.validData;\r\n      if (this.quizEvent.quizGroups.length === 1 && this.dateTime.scheduledTime) {\r\n        this.quizEvent.onePush = true;\r\n      } else if (this.quizEvent.quizGroups.length > 0 && !this.dateTime.scheduledTime) {\r\n        this.quizEvent.onePush = true;\r\n        console.log('有題目但無發送時間，就將onePush開啟');\r\n      } else {\r\n        this.quizEvent.onePush = !this.scheduleSetting.allowRepeat;\r\n      }\r\n      this.quizEvent.period = this.scheduleSetting.repeatPeriod;\r\n      this.quizEvent.frequency = this.scheduleSetting.repeatFrequency;\r\n      this.quizEvent.weekdays = this.scheduleSetting.weeklyScheduledDay;\r\n      // ---------------------------------------\r\n\r\n      if (this.quizEvent.memberGroups.length === 0) {\r\n        this.$notify({\r\n          type: 'error',\r\n          title: this.$t('錯誤').toString(),\r\n          text: this.$t('未選擇班級').toString(),\r\n        });\r\n        this.$store.commit('updateLoading', false);\r\n        throw console.log('未選擇班級');\r\n      }\r\n      if (this.quizEvent.onePush === false && this.quizEvent.period === 'week' && this.quizEvent.weekdays.length === 0) {\r\n        this.$notify({\r\n          type: 'error',\r\n          title: this.$t('錯誤').toString(),\r\n          text: this.$t('週間日期不得不選').toString(),\r\n        });\r\n        this.$store.commit('updateLoading', false);\r\n        throw console.log('this.quizEvent.weekdays不得為0');\r\n      }\r\n      if (TimeFunction.dateTimeStringToTimestamp(this.dateTime.scheduledTime) / 1000 < this.nowTimestamp) {\r\n        this.$notify({\r\n          type: 'error',\r\n          title: this.$t('錯誤').toString(),\r\n          text: this.$t('發送時間小於現在').toString(),\r\n        });\r\n        this.$store.commit('updateLoading', false);\r\n        throw console.log('發送時間小於現在');\r\n      }\r\n\r\n      console.log('請檢查:', this.quizEvent);\r\n\r\n      QuizEventApi.update(this.quizEventId, this.quizEvent)\r\n        .then(() => {\r\n          console.log('儲存成功');\r\n          this.$notify({\r\n            type: 'success',\r\n            title: this.$t('成功').toString(),\r\n            text: this.$t('儲存成功').toString(),\r\n          });\r\n          window.location.reload(); // 重整頁面\r\n          this.$store.commit('updateLoading', false);\r\n        })\r\n        .catch(\r\n          (error) => {\r\n            console.error('update儲存出錯囉', error);\r\n          },\r\n        )\r\n        .finally(() => {\r\n          this.$store.commit('updateLoading', false);\r\n        });\r\n    },\r\n    openSelectMemberGroupModal() {\r\n      this.$modal.show('select-member-group-modal', {\r\n        defaultSelection: this.quizEvent?.memberGroups,\r\n      });\r\n    },\r\n    updateSelectedMemberGroup(selection: WorkspaceObjectModel[]) {\r\n      if (!this.quizEvent) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n\r\n      this.quizEvent.memberGroups = selection;\r\n    },\r\n    openSelectQuizGroupModal() {\r\n      this.$modal.show('select-quiz-group-modal', {\r\n        defaultSelection: this.quizEvent?.quizGroups, displaySelectAllToggle: true,\r\n      });\r\n    },\r\n    updateSelectedQuizGroup(selection: WorkspaceObjectModel[]) {\r\n      if (!this.quizEvent) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n\r\n      if (selection.length > 1) {\r\n        // TODO: quiz group only accept single selection, handle many selection\r\n        // 已經可以接受複選了\r\n      }\r\n\r\n      if (selection.length === 1) {\r\n        if (selection[0].metadata.type === WorkspaceObjectType.SoftLink\r\n          && (selection[0] as WorkspaceSoftLinkModel).sourceObject.metadata.type !== WorkspaceObjectType.QuizGroup) {\r\n          // TODO: handle wrong selection type\r\n          console.log('selection等於1');\r\n        } else if (selection[0].metadata.type !== WorkspaceObjectType.QuizGroup) {\r\n          // TODO: handle wrong selection type\r\n          console.log('selection等於1，是SoftLink');\r\n        }\r\n      }\r\n\r\n      this.quizEvent.quizGroups = selection;\r\n      // this.quizGroupsInfo.checkedList = selection;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventMaker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventMaker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QuizEventMaker.vue?vue&type=template&id=3a7efb8a&scoped=true&\"\nimport script from \"./QuizEventMaker.vue?vue&type=script&lang=ts&\"\nexport * from \"./QuizEventMaker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./QuizEventMaker.vue?vue&type=style&index=0&id=3a7efb8a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a7efb8a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidTimeSetting.vue?vue&type=style&index=0&id=4bb9a782&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidTimeSetting.vue?vue&type=style&index=0&id=4bb9a782&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=style&index=0&scope=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RescheduleModal.vue?vue&type=style&index=0&scope=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"fas fa-arrow-left mr-1\"}),_vm._v(\" \"+_vm._s(_vm.$t('上一頁'))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BackButton.vue?vue&type=template&id=40b0db68&scoped=true&\"\nvar script = {}\nimport style0 from \"./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40b0db68\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.checkedList)?_c('div',[_c('draggable',{staticClass:\"list-group\",class:{scheduled: _vm.display === 'scheduled'},attrs:{\"tag\":\"ul\",\"list\":_vm.checkedList,\"handle\":\".handle\"}},_vm._l((_vm.checkedList),function(item,idx){return _c('div',{key:idx,staticClass:\"item\"},[_c('div',{staticClass:\"item-area\",class:{'info-highlight': item.isExamMode}},[_c('i',{staticClass:\"fa fa-align-justify handle\"}),_c('div',{staticClass:\"index\"},[_vm._v(\" \"+_vm._s(idx+1)+\" \")]),(item.metadata)?_c('div',{staticClass:\"info\"},[(item.metadata.type === 'WorkspaceQuizGroup')?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.metadata.name)+\" \")]),_c('div',{staticClass:\"number\"},[_vm._v(\" \"+_vm._s(_vm.$tc('n題', item.quizNumber, {n: item.quizNumber}))+\" \")])]):_vm._e(),(item.metadata.type === 'WorkspaceFolder')?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.metadata.name)+\" \")]),_c('div',{staticClass:\"number\"},[_vm._v(\" \"+_vm._s(_vm.$t('資料夾'))+\" \")])]):_vm._e(),(item.metadata.type === 'WorkspaceSoftLink')?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.sourceObject.metadata.name)+\" \"),_c('i',{staticClass:\"fas fa-user-friends shared-item\"})]),_c('div',{staticClass:\"number\"},[_vm._v(\" \"+_vm._s(_vm.$tc('n題', item.sourceObject.quizNumber,{n: item.sourceObject.quizNumber}))+\" \")])]):_vm._e()]):_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item)+\" \")])]),(_vm.display !== 'scheduled')?_c('i',{staticClass:\"fa fa-times close\",on:{\"click\":function($event){return _vm.removeCheckedList(idx)}}}):_vm._e(),(_vm.display === 'scheduled')?_c('div',{staticClass:\"ui-btn-right icon-area\"},[_c('div',{staticClass:\"action-icon\"},[_c('i',{staticClass:\"fas fa-user-edit exam-icon d-none\",class:{'helpful': _vm.helpfulData, 'icon-highlight': item.isExamMode},on:{\"click\":function($event){return _vm.setExamMode(item)}}})]),_c('div',{staticClass:\"action-icon\"},[_c('b-dropdown',{staticClass:\"action-menu\",attrs:{\"variant\":\"none\",\"no-caret\":\"\",\"toggle-class\":\"text-decoration-none\",\"boundary\":\"window\",\"dropright\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('div',{staticClass:\"icon-btn\"},[_c('i',{staticClass:\"fas fa-ellipsis-v\"})])]},proxy:true}],null,true)},[(!_vm.recordCodes[idx] && _vm.multipleDays.length > 1)?_c('b-dropdown-item',[_vm._v(\" \"+_vm._s(_vm.$t('複製代碼請先儲存測驗'))+\" \")]):_vm._e(),(_vm.recordCodes[idx] && _vm.multipleDays.length > 1)?_c('b-dropdown-item',{staticClass:\"copyCode\",on:{\"click\":function($event){return _vm.copyEventCode(_vm.recordCodes[idx])}}},[_c('span',[_vm._v(_vm._s(_vm.$t('複製代碼'))+\" \"+_vm._s(_vm.shortId)+\".\"+_vm._s(_vm.recordCodes[idx]))]),_c('span',[_c('i',{staticClass:\"far fa-copy\"})])]):_vm._e(),(_vm.recordCodes[idx] && _vm.multipleDays.length > 1)?_c('b-dropdown-divider'):_vm._e(),_c('b-dropdown-item',{staticClass:\"removeBtn\",on:{\"click\":function($event){return _vm.removeAt(idx)}}},[_c('p',[_vm._v(_vm._s(_vm.$t('移除'))),_c('i',{staticClass:\"fa fa-times\"})])])],1)],1)]):_vm._e()])])}),0)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"checkedList\">\r\n    <draggable tag=\"ul\" :list=\"checkedList\" class=\"list-group\" handle=\".handle\" :class=\"{scheduled: display === 'scheduled'}\">\r\n      <div\r\n        v-for=\"(item, idx) in checkedList\"\r\n        :key=\"idx\"\r\n        class=\"item\"\r\n      >\r\n        <div class=\"item-area\" :class=\"{'info-highlight': item.isExamMode}\">\r\n          <i class=\"fa fa-align-justify handle\" />\r\n          <div class=\"index\">\r\n            {{ idx+1 }}\r\n          </div>\r\n          <div v-if=\"item.metadata\" class=\"info\">\r\n            <!-- 一般題組 -->\r\n            <div v-if=\"item.metadata.type === 'WorkspaceQuizGroup'\" class=\"info\">\r\n              <div class=\"name\">\r\n                {{ item.metadata.name }}\r\n              </div>\r\n              <div class=\"number\">\r\n                {{ $tc('n題', item.quizNumber, {n: item.quizNumber}) }}\r\n              </div>\r\n            </div>\r\n            <!-- 資料夾題組 -->\r\n            <div v-if=\"item.metadata.type === 'WorkspaceFolder'\" class=\"info\">\r\n              <div class=\"name\">\r\n                {{ item.metadata.name }}\r\n              </div>\r\n              <div class=\"number\">\r\n                {{ $t('資料夾') }}\r\n              </div>\r\n            </div>\r\n            <!-- 共享題組 -->\r\n            <div v-if=\"item.metadata.type === 'WorkspaceSoftLink'\" class=\"info\">\r\n              <div class=\"name\">\r\n                {{ item.sourceObject.metadata.name }}\r\n                <i class=\"fas fa-user-friends shared-item\" />\r\n              </div>\r\n              <div class=\"number\">\r\n                {{ $tc('n題', item.sourceObject.quizNumber,{n: item.sourceObject.quizNumber}) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"info\">\r\n            <div class=\"name\">\r\n              {{ item }}\r\n            </div>\r\n          </div>\r\n          <i v-if=\"display !== 'scheduled'\" class=\"fa fa-times close\" @click=\"removeCheckedList(idx)\" />\r\n\r\n          <div v-if=\"display === 'scheduled'\" class=\"ui-btn-right icon-area\">\r\n            <div class=\"action-icon\">\r\n              <i class=\"fas fa-user-edit exam-icon d-none\"\r\n                 :class=\"{'helpful': helpfulData, 'icon-highlight': item.isExamMode}\"\r\n                 @click=\"setExamMode(item)\"\r\n              />\r\n            </div>\r\n            <div class=\"action-icon\">\r\n              <b-dropdown class=\"action-menu\" variant=\"none\" no-caret toggle-class=\"text-decoration-none\" boundary=\"window\" dropright>\r\n                <template #button-content>\r\n                  <div class=\"icon-btn\">\r\n                    <i class=\"fas fa-ellipsis-v\" />\r\n                  </div>\r\n                </template>\r\n\r\n                <b-dropdown-item v-if=\"!recordCodes[idx] && multipleDays.length > 1\">\r\n                  {{ $t('複製代碼請先儲存測驗') }}\r\n                </b-dropdown-item>\r\n                <b-dropdown-item v-if=\"recordCodes[idx] && multipleDays.length > 1\" class=\"copyCode\" @click=\"copyEventCode(recordCodes[idx])\">\r\n                  <span>{{ $t('複製代碼') }} {{ shortId }}.{{ recordCodes[idx] }}</span>\r\n                  <span><i class=\"far fa-copy\" /></span>\r\n                </b-dropdown-item>\r\n                <b-dropdown-divider v-if=\"recordCodes[idx] && multipleDays.length > 1\" />\r\n                <b-dropdown-item class=\"removeBtn\" @click=\"removeAt(idx)\">\r\n                  <p>{{ $t('移除') }}<i class=\"fa fa-times\" /></p>\r\n                </b-dropdown-item>\r\n              </b-dropdown>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </draggable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from 'vuedraggable';\r\n\r\nexport default {\r\n  name: 'Handle',\r\n  display: 'Handle',\r\n  components: {\r\n    draggable,\r\n  },\r\n  props: {\r\n    checkedList: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n    },\r\n    mapData: {\r\n      type: Object,\r\n      default: () => ({\r\n      }),\r\n    },\r\n    display: {\r\n      type: String,\r\n      default: '',\r\n      required: false,\r\n    },\r\n    multipleDays: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n      required: false,\r\n    },\r\n    shortId: {\r\n      type: String,\r\n      default: '',\r\n      required: false,\r\n    },\r\n    recordCodes: {\r\n      type: Array,\r\n      default: () => ([\r\n      ]),\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      helpfulData: false, // for class=\"helpful\" I don't know the reason but it works.\r\n    };\r\n  },\r\n  computed: {\r\n    // recordCodes() {\r\n    //   let list = [];\r\n    //   console.log(this.checkedList.length, this.recordCodes);\r\n    //   // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n    //   // list = this.recordCodes.splice(0, this.recordCodes.length - this.checkedList.length);\r\n    //   list = this.recordCodes;\r\n    //   console.log(list, this.recordCodes.length, this.checkedList.length);\r\n    //   return list;\r\n    // },\r\n  },\r\n  methods: {\r\n    setExamMode(item) {\r\n      item.isExamMode = !item.isExamMode;\r\n      this.helpfulData = !this.helpfulData; // for class=\"helpful\" I don't know the reason but it works.\r\n    },\r\n    removeCheckedList(idx) {\r\n      this.checkedList.splice(idx, 1);\r\n    },\r\n    removeAt(idx) {\r\n      // this.checkedList.splice(idx, 1); // 多的 會影響\r\n      this.$emit('removeDate', idx);\r\n      console.log(idx);\r\n    },\r\n\r\n    // copycode---------\r\n    copyEventCode(recordCode) {\r\n      if (!this.shortId) {\r\n        throw new Error('quiz event not ready');\r\n      }\r\n      const copyText = `${this.shortId}.${recordCode}`;\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      this.$copyText(copyText).then((e) => {\r\n        console.log(copyText);\r\n      }, (e) => {\r\n        console.error('複製失败', e.text);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.item{\r\n  width: 100%;\r\n  background-color: whitesmoke;\r\n  .item-area {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 20px;\r\n    i, .index{\r\n      width: 5%;\r\n      font-size: 1rem;\r\n    }\r\n    .handle, .close{\r\n      opacity: 0.5;\r\n      &:hover{\r\n        opacity: 1;\r\n      }\r\n      &.handle:hover{\r\n        cursor: grab;\r\n      }\r\n      &.close:hover{\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .info{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      width: 80%;\r\n      .name{\r\n        min-width: 80%;\r\n        text-align: left;\r\n        overflow : hidden;\r\n        text-overflow : ellipsis;\r\n        white-space : nowrap;\r\n        .shared-item{\r\n          font-size: 0.5rem;\r\n          padding: 0 10px;\r\n          color: #555;\r\n        }\r\n      }\r\n      .number{\r\n        width: 30%;\r\n      }\r\n    }\r\n  }\r\n}\r\n.item + .item{\r\n  margin-top: 5px;\r\n}\r\n\r\n.scheduled{\r\n  .item{\r\n    margin: 8px 0;\r\n    .item-area {\r\n      padding: 0 10px;\r\n      margin-right: 3px;\r\n      i, .index{\r\n        width: auto;\r\n        font-size: 1rem;\r\n      }\r\n      .index{\r\n        display: none;\r\n      }\r\n      .handle{\r\n        order: 0;\r\n      }\r\n      .icon-area{\r\n        display: flex;\r\n        justify-content: space-around;\r\n        order: 2;\r\n        width: 20%;\r\n        .action-icon{\r\n          display: flex;\r\n          i{\r\n            opacity: 0.3;\r\n            line-height: 23px;\r\n            &:hover{\r\n              opacity: 1;\r\n              cursor: pointer;\r\n            }\r\n          }\r\n          .exam-icon{\r\n            padding: 0 5px;\r\n          }\r\n          .icon-highlight{\r\n            opacity: 0.8;\r\n          }\r\n          .removeBtn, .copyCode{\r\n            width: 100%;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            i{\r\n              padding-left: 10px;\r\n              opacity: 1;\r\n            }\r\n            p{\r\n              margin: 0;\r\n              display: flex;\r\n              justify-content: space-between;\r\n              align-items: center;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .info{\r\n        order: 1;\r\n        margin: 0 10px;\r\n        flex-grow: 1;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .file-name{\r\n          width: 100%;\r\n          .shared-item{\r\n            display: none;\r\n          }\r\n        }\r\n        .number{\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n    .info-highlight {\r\n      background: rgba(0, 0, 0, 0.134) ;\r\n      border-radius: 3px;\r\n    }\r\n\r\n  }\r\n  .item + .item{\r\n    margin-top: 0px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleDraggable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleDraggable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HandleDraggable.vue?vue&type=template&id=4a05373c&scoped=true&\"\nimport script from \"./HandleDraggable.vue?vue&type=script&lang=js&\"\nexport * from \"./HandleDraggable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HandleDraggable.vue?vue&type=style&index=0&id=4a05373c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a05373c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTourItem.vue?vue&type=style&index=0&id=e6b3e420&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuidedTourItem.vue?vue&type=style&index=0&id=e6b3e420&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=42418716&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=42418716&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{staticClass:\"modal-container\",attrs:{\"name\":\"select-quiz-group-modal\",\"transition\":\"pop-out\",\"width\":\"640\",\"focus-trap\":true,\"height\":\"640\"},on:{\"before-open\":_vm.beforeOpen}},[(_vm.quizLocalRootId && _vm.quizShareRootId)?_c('WorkspaceObjectSelector',{attrs:{\"local-root-id\":_vm.quizLocalRootId,\"share-root-id\":_vm.quizShareRootId,\"default-selection\":_vm.defaultSelection,\"local-root-name\":_vm.$t(_vm.rootName),\"allow-select-many\":true,\"is-quiz-unit-on\":_vm.isQuizUnitOn,\"display-select-all-toggle\":_vm.displaySelectAllToggle},on:{\"submit-selection\":_vm.handleSubmit,\"cancel\":_vm.handleCancel}}):_c('loading',{attrs:{\"active\":true,\"is-full-page\":false,\"background-color\":\"transparent\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport WorkspaceObjectSelector from '@/components/test_maker/WorkspaceObjectSelector.vue';\r\nimport { WorkspaceObjectModel } from '@/apis/models/WorkspaceObjectModel';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    WorkspaceObjectSelector,\r\n  },\r\n  data() {\r\n    return {\r\n      defaultSelection: [] as WorkspaceObjectModel[],\r\n      rootName: '我的題庫',\r\n      isQuizUnitOn: false,\r\n      displaySelectAllToggle: false,\r\n    };\r\n  },\r\n  computed: {\r\n    quizLocalRootId(): string | null {\r\n      if (this.$store.state.currentWorkspace) {\r\n        return this.$store.state.currentWorkspace.quizFolders.local;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    quizShareRootId(): string | null {\r\n      if (this.$store.state.currentWorkspace) {\r\n        return this.$store.state.currentWorkspace.quizFolders.share;\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n  methods: {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    beforeOpen(event: any) {\r\n      // import stuff that was selected before\r\n      if (event.params.isQuizUnitOn) {\r\n        this.isQuizUnitOn = event.params.isQuizUnitOn;\r\n      }\r\n      if (event.params.displaySelectAllToggle) {\r\n        this.displaySelectAllToggle = event.params.displaySelectAllToggle;\r\n      }\r\n      if (event.params.defaultSelection && !this.isQuizUnitOn) {\r\n        this.defaultSelection = event.params.defaultSelection;\r\n      }\r\n    },\r\n    handleSubmit(selection: WorkspaceObjectModel[]) {\r\n      this.$emit('submit-selection', selection);\r\n      this.$modal.hide('select-quiz-group-modal');\r\n    },\r\n    handleCancel() {\r\n      this.$modal.hide('select-quiz-group-modal');\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectQuizGroupModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectQuizGroupModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectQuizGroupModal.vue?vue&type=template&id=6a34dbfa&\"\nimport script from \"./SelectQuizGroupModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectQuizGroupModal.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"open-guided-tour-btn\",on:{\"click\":_vm.openGuidedTour}},[_c('i',{staticClass:\"far fa-lightbulb\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n  },\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    openGuidedTour() {\r\n      this.$emit('setShowGuidedTour', true);\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenGuidedTourBtn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenGuidedTourBtn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OpenGuidedTourBtn.vue?vue&type=template&id=6046357f&scoped=true&\"\nimport script from \"./OpenGuidedTourBtn.vue?vue&type=script&lang=ts&\"\nexport * from \"./OpenGuidedTourBtn.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OpenGuidedTourBtn.vue?vue&type=style&index=0&id=6046357f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6046357f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckedItems.vue?vue&type=style&index=0&id=7a835511&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckedItems.vue?vue&type=style&index=0&id=7a835511&scoped=true&lang=scss&\"","/* eslint-disable max-classes-per-file */\r\n// import Utils from '@/libs/utils';\r\nimport { WorkspaceObjectModel } from './WorkspaceObjectModel';\r\n\r\nexport enum State {\r\n  INIT = 'INIT',\r\n  SCHEDULED = 'SCHEDULED',\r\n  RUNNING = 'RUNNING',\r\n  DONE = 'DONE',\r\n  CANCELED = 'CANCELED',\r\n  TERMINATED = 'TERMINATED',\r\n  ERROR = 'ERROR'\r\n}\r\n\r\nexport interface StateRecord {\r\n  state: State;\r\n  datetime: string;\r\n}\r\n\r\nexport interface ValidData {\r\n  startTimeHour: number;\r\n  startTimeMin: number;\r\n  endTimeDay: number;\r\n  endTimeHour: number;\r\n}\r\n\r\nexport interface TimeMapValue {\r\n  startTime: string | null;\r\n  endTime: string | null;\r\n  scheduledTime: string | null;\r\n  duration: number;\r\n  recordCode: string | null;\r\n}\r\n\r\nexport interface MonitorMapValue {\r\n  noScreenshot: boolean;\r\n  noSwitchApp: boolean;\r\n  noPhoneCall: boolean;\r\n}\r\nexport interface PushedQuizGroupRecord{\r\n  groupId: string[];\r\n  scheduledTime: string;\r\n  recordCode: string;\r\n}\r\n\r\nexport interface SentDataRecord {\r\n  quizGroup: WorkspaceObjectModel[];\r\n  scheduledTime: string;\r\n  recordCode: string;\r\n}\r\n\r\nexport interface DayMapValue {\r\n  id: string;\r\n  date: string;\r\n}\r\n\r\nexport interface MultipleDatesAttributes {\r\n  highlight: HighlightCalendar;\r\n  dates: string;\r\n  popover: {\r\n    label: string;\r\n  };\r\n}\r\n\r\nexport interface HighlightCalendar {\r\n  color: string;\r\n  fillMode: string;\r\n}\r\n\r\nexport interface QuizEventStateModel {\r\n  stateHistory: StateRecord[] | null; // under development\r\n}\r\n\r\nexport interface UpdateQuizEventPayloadModel {\r\n  name?: string;\r\n  // startTime?: string;\r\n  // endTime?: string;\r\n  // scheduledTime?: string;\r\n  allowRetake?: boolean;\r\n  shuffle?: boolean;\r\n  quizGroupIdList?: string[];\r\n  memberGroupIdList?: string[];\r\n\r\n  timeMap?: object;\r\n\r\n  monitorMap?: object;\r\n\r\n  onePush?: boolean;\r\n\r\n  period?: string;\r\n\r\n  frequency?: number;\r\n\r\n  weekdays?: string[];\r\n\r\n  validData?: ValidData;\r\n\r\n  eyeballDetect?: boolean;\r\n}\r\n\r\nexport class UpdateQuizEventPayload implements UpdateQuizEventPayloadModel {\r\n  // startTime?: string; // 不使用了\r\n\r\n  // endTime?: string; // 不使用了\r\n\r\n  // scheduledTime?: string; // 不使用了\r\n\r\n  allowRetake?: boolean;\r\n\r\n  shuffle?: boolean;\r\n\r\n  name?: string;\r\n\r\n  quizGroupIdList?: string[];\r\n\r\n  memberGroupIdList?: string[];\r\n\r\n  timeMap?: Map<string, TimeMapValue>;\r\n\r\n  monitorMap?: Map<string, MonitorMapValue>;\r\n\r\n  onePush?: boolean;\r\n\r\n  period?: string;\r\n\r\n  frequency?: number;\r\n\r\n  weekdays?: string[];\r\n\r\n  validData?: ValidData;\r\n\r\n  eyeballDetect?: boolean;\r\n\r\n  constructor(name: string | null,\r\n    // startTime: string | null,\r\n    // endTime: string | null,\r\n    // scheduledTime: string | null,\r\n    allowRetake: boolean | null,\r\n    shuffle: boolean | null,\r\n\r\n    quizGroups: WorkspaceObjectModel[] | null,\r\n    memberGroups: WorkspaceObjectModel[] | null,\r\n    timeMap: Map<string, TimeMapValue>| null,\r\n    monitorMap: Map<string, MonitorMapValue>| null,\r\n    onePush: boolean,\r\n    eyeballDetect: boolean,\r\n    period: string,\r\n    validData: ValidData,\r\n    frequency: number,\r\n    weekdays: string[]) {\r\n    if (name) {\r\n      this.name = name;\r\n    }\r\n\r\n    if (timeMap !== null) {\r\n      this.timeMap = timeMap;\r\n    }\r\n    if (monitorMap !== null) {\r\n      this.monitorMap = monitorMap;\r\n    }\r\n    if (onePush !== null) {\r\n      this.onePush = onePush;\r\n    }\r\n    if (period !== null) {\r\n      this.period = period;\r\n    }\r\n\r\n    // if (startTime) {\r\n    //   this.startTime = startTime;\r\n    // }\r\n\r\n    // if (endTime) {\r\n    //   this.endTime = endTime;\r\n    // }\r\n\r\n    // if (scheduledTime) {\r\n    //   this.scheduledTime = scheduledTime;\r\n    // }\r\n\r\n    if (quizGroups) {\r\n      this.quizGroupIdList = [];\r\n      for (let i = 0; i < quizGroups.length; i += 1) {\r\n        this.quizGroupIdList.push(quizGroups[i].uuid);\r\n      }\r\n    }\r\n\r\n    if (memberGroups) {\r\n      this.memberGroupIdList = [];\r\n      for (let i = 0; i < memberGroups.length; i += 1) {\r\n        this.memberGroupIdList.push(memberGroups[i].uuid);\r\n      }\r\n    }\r\n    if (validData !== null) {\r\n      this.validData = validData;\r\n    }\r\n    if (frequency !== null) {\r\n      this.frequency = frequency;\r\n    }\r\n    if (weekdays !== null) {\r\n      this.weekdays = weekdays;\r\n    }\r\n\r\n    if (allowRetake !== null) {\r\n      this.allowRetake = allowRetake;\r\n    }\r\n\r\n    if (shuffle !== null) {\r\n      this.shuffle = shuffle;\r\n    }\r\n    if (eyeballDetect !== null) {\r\n      this.eyeballDetect = eyeballDetect;\r\n    }\r\n  }\r\n}\r\n\r\n// === new models for v0.4 === //\r\nexport interface QuizEventPreviewModel extends WorkspaceObjectModel {\r\n  allowRetake: boolean;\r\n  shuffle: boolean;\r\n  onePush: boolean;\r\n  eyeballDetect: boolean;\r\n\r\n  shortId: string;\r\n  scheduledTime: string;\r\n  PushedQuizGroupList: PushedQuizGroupRecord[];\r\n  TimeMap: Map<string, TimeMapValue>;\r\n  monitorMap: Map<string, MonitorMapValue>;\r\n}\r\n\r\n// TODO: rename to QuizEventModel after deleting current QuizEventModel\r\nexport interface QuizEventModelv4 extends WorkspaceObjectModel {\r\n  startTime: string | null;\r\n  endTime: string | null;\r\n  shortId: string;\r\n  scheduledTime: string | null;\r\n  stateHistory: StateRecord[] | null;\r\n  // 以上可能用不到了\r\n\r\n  allowRetake: boolean;\r\n  shuffle: boolean;\r\n  quizGroups: WorkspaceObjectModel[] | null; // cloud be quizgroup, folder, shared object\r\n  memberGroups: WorkspaceObjectModel[] | null; // cloud be membergroup, folder, shared object\r\n  timeMap: Map<string, TimeMapValue> | null;\r\n  monitorMap: Map<string, MonitorMapValue> | null;\r\n  onePush: boolean;\r\n  eyeballDetect: boolean;\r\n  period: string;\r\n  frequency: number;\r\n  weekdays: string[];\r\n  validData: ValidData;\r\n  pushedQuizGroupList: PushedQuizGroupRecord[];\r\n}\r\n","import api from '@/apis/BaseApi';\r\nimport {\r\n  QuizEventModelv4, QuizEventStateModel, UpdateQuizEventPayload,\r\n} from '@/apis/models/QuizEventModel';\r\nimport i18n from '@/i18n';\r\n\r\nexport default class QuizEventApi {\r\n  /**\r\n   * Create a new QuizEvent for a workspace\r\n   */\r\n  static async create(parentFolderId: string): Promise<QuizEventModelv4> {\r\n    const body = {\r\n      parentId: parentFolderId,\r\n      name: i18n.t('未命名測驗'),\r\n    };\r\n    const result = await api.post('workspace/quiz-events/', body);\r\n    return result.data.quizEvent;\r\n  }\r\n\r\n  /**\r\n   * Get a specific QuizEvent in a workspace\r\n   *\r\n   * @param quizEventId\r\n   */\r\n  static async getQuizEvent(quizEventId: string): Promise<QuizEventModelv4> {\r\n    const result = await api.get(`workspace/quiz-events/${quizEventId}`);\r\n    return result.data.quizEvent;\r\n  }\r\n\r\n  /**\r\n   * Get current state of a QuizEvent\r\n   *\r\n   * @param workspaceId\r\n   * @param quizEventId\r\n   */\r\n  static async getQuizEventState(quizEventId: string): Promise<QuizEventStateModel> {\r\n    const result = await api.get(`workspace/quiz-events/${quizEventId}/state`);\r\n    return result.data.quizEventState;\r\n  }\r\n\r\n  /**\r\n   * Update the data of a QuizEvent by a quizEvent object\r\n   * if some values in quizEvent are not set (null or undefined), these null values will not be updated (remind the same in backend database)\r\n   *\r\n   * When the QuizEvent is locked, only startTime, endTime and name could be updated.\r\n   * If you try to update other properties when QuizEvent is locked, you will receive \"409 Conflict\" error.\r\n   *\r\n   * @param workspaceId\r\n   * @param quizEventId\r\n   * @param quizEvent the data used to update QuizEvent specified by quizEventId\r\n   */\r\n  static async update(quizEventId: string, quizEvent: QuizEventModelv4): Promise<void> {\r\n    const {\r\n      metadata, quizGroups, allowRetake, shuffle, memberGroups, timeMap, onePush, eyeballDetect, period, validData, frequency, weekdays, monitorMap,\r\n    } = quizEvent;\r\n    const updatePayload = new UpdateQuizEventPayload(metadata.name, allowRetake, shuffle, quizGroups, memberGroups, timeMap, monitorMap, onePush, eyeballDetect, period, validData, frequency, weekdays);\r\n    const body = {\r\n      ...updatePayload,\r\n    };\r\n    await api.put(`workspace/quiz-events/${quizEventId}`, body);\r\n  }\r\n\r\n  static async sendNow(quizEventId: string): Promise<void> {\r\n    await api.post(`workspace/quiz-events/${quizEventId}/send`, {});\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendModeSetting.vue?vue&type=style&index=0&id=24f10ffc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendModeSetting.vue?vue&type=style&index=0&id=24f10ffc&scoped=true&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}