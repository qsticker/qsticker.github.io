(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b50ad92e"],{"021b":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r("99af"),r("b0c0");var n=r("5530"),a=(r("96cf"),r("1da1")),s=r("d4ec"),o=r("bee2"),i=r("6ad1"),c=r("f52b"),u=function(){function e(){Object(s["a"])(this,e)}return Object(o["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={name:r,parentId:t},e.next=3,i["a"].post("workspace/member-groups",JSON.stringify(n));case 3:return a=e.sent,e.abrupt("return",a.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,o,u,l,p,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("workspace/member-groups/".concat(t));case 2:for(r=e.sent,n=r.data.memberGroup.members,a=0;a<n.length;a+=1)s=n[a],o=s.uuid,u=s.name,l=s.businessDefinedId,p=s.confirmed,d=s.role,m=s.belongsTo,n[a]=new c["a"](o,u,l,p,d,m);return e.abrupt("return",r.data.memberGroup);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(n["a"])({},r),e.next=3,i["a"].put("workspace/member-groups/".concat(t),a);case 3:return s=e.sent,e.abrupt("return",s.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].delete("workspace/member-groups/".concat(t,"/members/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Object(n["a"])({},a),e.next=3,i["a"].put("workspace/member-groups/".concat(t,"/members/").concat(r),s);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateMemberRoleInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Object(n["a"])({},a),e.next=3,i["a"].put("workspace/member-groups/".concat(t,"/set-member-role/").concat(r),s);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateAutoConfirm",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(n["a"])({},r),e.next=3,i["a"].put("workspace/member-groups/updateAutoConfirm/".concat(t),a);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateBelongsTo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].put("workspace/member-groups/".concat(t,"/set-member-belongsTo/").concat(r,"/").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"deleteBelongsTo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].put("workspace/member-groups/".concat(t,"/set-member-belongsTo/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSentCount",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("workspace/member-groups/send-count/".concat(t,"?start-time=").concat(r,"&end-time=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),e}()},"051e":function(e,t,r){"use strict";var n=r("4185"),a=r.n(n);a.a},"0c18":function(e,t,r){"use strict";var n=r("6756"),a=r.n(n);a.a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14ef":function(e,t,r){},"20b0":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"group"},[r("SideNav",{staticClass:"ui-side-nav"}),r("div",{staticClass:"ui-content"},[r("div",{staticClass:"content"},[r("router-view")],1)]),r("CreateMemberGroupModal"),r("CopyMemberGroupModal"),r("CreateFolderGroupModal"),r("ManageShareMappingModal")],1)},a=[],s=(r("96cf"),r("1da1")),o=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"side-nav-inner"},[r("div",{staticClass:"workspace"},[r("div",{staticClass:"label"},[r("i",{staticClass:"fa fa-inbox"}),e._v(" "+e._s(e.context.title)+" ")])]),r("div",{staticClass:"click-group"},[r("div",{staticClass:"button-group addBtn"},e._l(e.context.buttons,(function(t,n){return r("b-button",{key:n,staticClass:"py-2",attrs:{block:"",disabled:t.disabled||t.disabledShare,variant:t.disabled?"secondary":"success"},on:{click:t.action}},[r("span",{staticClass:"icon",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "+e._s(t.label)+" ")])})),1)]),r("hr",{staticStyle:{"border-color":"#555"}}),r("div",{staticClass:"click-group"},[r("div",{staticClass:"button-group subBtn"},e._l(e.context.subpages,(function(t,n){return r("b-button",{key:n,staticClass:"py-2",class:{stayShare:e.$route.path.includes("share")&&t.location.name.includes("SoftLinks"),stayLocal:e.$route.path.includes("local")&&!t.location.name.includes("SoftLinks")},attrs:{block:"",disabled:!t.location,variant:t.location?"dark":"secondary",to:t.location}},[r("div",[r("span",{staticClass:"icon",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "+e._s(t.label)+" ")])])})),1)]),e.context.pages?r("hr",{staticStyle:{"border-color":"#555"}}):e._e(),r("div",{staticClass:"click-group"},[r("div",{staticClass:"button-group subBtn"},e._l(e.context.pages,(function(t,n){return r("b-button",{key:n,staticClass:"py-2",attrs:{block:"",disabled:!t.location,variant:t.location?"dark":"secondary"},on:{click:e.toMemberGroupStatistics}},[r("div",[r("span",{staticClass:"icon",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "+e._s(t.label)+" ")])])})),1)])])},c=[],u=(r("caad"),r("b0c0"),r("d3b7"),r("25f0"),r("2532"),r("60c8")),l=r("cb92"),p=r("749c"),d=o["default"].extend({name:"SideNav",data:function(){return{contents:{}}},computed:{accountRoles:function(){return this.$store.state.profile?this.$store.state.profile.roles:[]},currentFolder:function(){return this.$store.state.currentFolder},quizFolders:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.quizFolders:{local:"",share:"",trash:""}},memberFolders:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.memberFolders:{local:"",share:"",trash:""}},eventFolders:function(){return this.$store.state.currentWorkspace?this.$store.state.currentWorkspace.eventFolders:{local:"",share:"",trash:""}},context:function(){return this.$route.path.includes("quizgroups")?{title:this.$t("我的題庫").toString(),buttons:[{icon:'<i class="fa fa-plus" />',label:this.$t("創建新題組").toString(),disabled:!this.accountRoles.includes(p["a"].QUIZ_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.createNewQuizGroup},{icon:'<i class="fas fa-folder" />',label:this.$t("建立新資料夾").toString(),disabled:!this.accountRoles.includes(p["a"].QUIZ_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.creatNewFolder}],subpages:[{icon:'<i class="fas fa-folder" />',label:this.$t("我的題庫").toString(),location:{name:"QuizGroups",params:{folderId:this.quizFolders.local}}},{icon:'<i class="fas fa-user-friends" />',label:this.$t("與我共用").toString(),location:{name:"QuizGroupSoftLinks",params:{folderId:this.quizFolders.share}}}]}:this.$route.path.includes("membergroups")?{title:this.$t("我的班級").toString(),buttons:[{icon:'<i class="fa fa-plus" />',label:this.$t("創建新班級").toString(),disabled:!this.accountRoles.includes(p["a"].MEMBER_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.createNewMemberGroup},{icon:'<i class="fas fa-folder" />',label:this.$t("建立新資料夾").toString(),disabled:!this.accountRoles.includes(p["a"].MEMBER_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.creatNewFolder}],subpages:[{icon:'<i class="fas fa-folder" />',label:this.$t("我的班級").toString(),location:{name:"MemberGroups",params:{folderId:this.memberFolders.local}}},{icon:'<i class="fas fa-user-friends" />',label:this.$t("與我共用").toString(),location:{name:"MemberGroupSoftLinks",params:{folderId:this.memberFolders.share}}}],pages:[{icon:'<i class="fas fa-desktop" />',label:this.$t("班級報表").toString(),location:{name:"memberGroupStatistics",path:"/manager/membergroup-statistics"}}]}:this.$route.path.includes("quizevents")?{title:this.$t("我的測驗").toString(),buttons:[{icon:'<i class="fa fa-plus" />',label:this.$t("創建新測驗").toString(),disabled:!this.accountRoles.includes(p["a"].EVENT_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.createNewQuizEvent},{icon:'<i class="fas fa-folder" />',label:this.$t("建立新資料夾").toString(),disabled:!this.accountRoles.includes(p["a"].EVENT_EDITOR)&&!this.accountRoles.includes(p["a"].ADMIN),disabledShare:this.$route.path.includes("share"),action:this.creatNewFolder}],subpages:[{icon:'<i class="fas fa-folder" />',label:this.$t("我的測驗").toString(),location:{name:"QuizEvents",params:{folderId:this.eventFolders.local}}},{icon:'<i class="fas fa-user-friends" />',label:this.$t("與我共用").toString(),location:{name:"QuizEventSoftLinks",params:{folderId:this.eventFolders.share}}}]}:{title:"Workspace",buttons:[],subpages:[],pages:[]}}},methods:{creatNewFolder:function(){console.log("creatNewFolder"),this.$modal.show("create-folder-modal")},createNewQuizGroup:function(){var e=this,t=this.$store.state.currentFolder;u["a"].create(t.uuid).then((function(t){e.$store.commit("changeQuizGroup",t),e.$router.push("/manager/quizgroup-maker")}))},createNewMemberGroup:function(){"MemberGroups"===this.$route.name||this.$router.push("/manager/workspace/membergroups"),this.$modal.show("create-memberGroup-modal")},createNewQuizEvent:function(){var e=this,t=this.$store.state.currentFolder;l["a"].create(t.uuid).then((function(t){e.$store.commit("changeQuizEvent",t),e.$router.push("/manager/quizevent-maker")}))},toMemberGroupStatistics:function(){this.$router.push("/manager/membergroup-statistics")}}}),m=d,f=(r("d741"),r("2877")),h=Object(f["a"])(m,i,c,!1,null,"eee10d36",null),b=h.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{attrs:{name:"create-memberGroup-modal",transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"box"},[r("div",{staticClass:"partition"},[r("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("創建班級"))+" ")]),r("div",{staticClass:"partition-form"},[r("form",{attrs:{autocomplete:"false"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.memberGroupName,expression:"memberGroupName"}],attrs:{id:"memberGroup-name",type:"text",placeholder:e.$t("班級名稱")},domProps:{value:e.memberGroupName},on:{input:function(t){t.target.composing||(e.memberGroupName=t.target.value)}}})]),r("p",{staticClass:"remind"},[e._v(" "+e._s(e.remind)+" ")]),r("div",{staticClass:"button-set"},[r("button",{attrs:{id:"cencel-btn"},on:{click:e.cencelCreateMemberGroup}},[e._v(" "+e._s(e.$t("取消"))+" ")]),r("button",{attrs:{id:"create-btn"},on:{click:e.createMemberGroup}},[e._v(" "+e._s(e.$t("創建"))+" ")])])])])])])},w=[],g=(r("ac1f"),r("841c"),r("021b")),k=656,R=o["default"].extend({data:function(){return{modalWidth:k,memberGroupName:"",remind:""}},computed:{currentFolder:function(){return this.$store.state.currentFolder}},created:function(){this.modalWidth=window.innerWidth<k?k/2:k},methods:{beforeOpen:function(){this.memberGroupName="",this.remind=""},cencelCreateMemberGroup:function(){console.log("取消創建班級"),this.$modal.hide("create-memberGroup-modal")},createMemberGroup:function(){var e=this,t=/^[^\s_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,}$/g;console.log(this.memberGroupName.search(t)),0===this.memberGroupName.search(t)?(this.remind="",g["a"].create(this.currentFolder.uuid,this.memberGroupName).then((function(t){e.$modal.hide("create-memberGroup-modal"),e.currentFolder.children.push(t),console.log(t)}))):this.remind=this.$t("只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。").toString()}}}),x=R,O=(r("ffa3"),r("a2f2"),Object(f["a"])(x,v,w,!1,null,null,null)),y=O.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{attrs:{name:"copy-memberGroup-modal",transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"box"},[r("div",{staticClass:"partition"},[r("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("修改班級名稱"))+" ")]),r("div",{staticClass:"partition-form"},[r("form",{attrs:{autocomplete:"false"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.memberGroupName,expression:"memberGroupName"}],attrs:{id:"memberGroup-name",type:"text",placeholder:e.$t("班級名稱")},domProps:{value:e.memberGroupName},on:{input:function(t){t.target.composing||(e.memberGroupName=t.target.value)}}})]),r("p",{staticClass:"remind"},[e._v(" "+e._s(e.remind)+" ")]),r("div",{staticClass:"button-set"},[r("button",{attrs:{id:"cencel-btn"},on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("取消"))+" ")]),r("button",{attrs:{id:"check-btn"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("送出"))+" ")])])])])])])},I=[],_=r("f410"),$=656,j=o["default"].extend({data:function(){return{modalWidth:$,remind:"",memberGroupName:"",workspaceObject:null}},computed:{currentFolder:function(){return this.$store.state.currentFolder}},created:function(){this.modalWidth=window.innerWidth<$?$/2:$},methods:{beforeOpen:function(e){this.remind="",e.params.workspaceObject&&(this.workspaceObject=e.params.workspaceObject,this.memberGroupName=this.workspaceObject.metadata.name)},handleCancel:function(){console.log("取消複製班級"),this.$modal.hide("copy-memberGroup-modal")},handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=/^[^\s_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,}$/g,0!==e.memberGroupName.search(r)){t.next=11;break}if(e.remind="",!e.workspaceObject||!e.workspaceObject.metadata.parentId){t.next=9;break}return t.next=6,_["a"].copyMemberGroup(e.workspaceObject.uuid,e.workspaceObject.metadata.parentId,e.memberGroupName);case 6:n=t.sent,e.$modal.hide("copy-memberGroup-modal"),e.currentFolder&&e.currentFolder.children.push(n);case 9:t.next=12;break;case 11:e.remind=e.$t("只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。").toString();case 12:case"end":return t.stop()}}),t)})))()}}}),C=j,S=(r("5b55"),r("b5753"),Object(f["a"])(C,E,I,!1,null,null,null)),N=S.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{attrs:{name:"create-folder-modal",transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"box"},[r("div",{staticClass:"partition"},[r("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("新資料夾"))+" ")]),r("div",{staticClass:"partition-form"},[r("form",{attrs:{autocomplete:"false"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.folderName,expression:"folderName"}],attrs:{id:"folder-name",type:"text"},domProps:{value:e.folderName},on:{input:function(t){t.target.composing||(e.folderName=t.target.value)}}})]),r("p",{staticClass:"remind"},[e._v(" "+e._s(e.remind)+" ")]),r("div",{staticClass:"button-set"},[r("button",{attrs:{id:"cencel-btn"},on:{click:e.cencelCreateFolder}},[e._v(" "+e._s(e.$t("取消"))+" ")]),r("button",{attrs:{id:"create-btn"},on:{click:e.createFolder}},[e._v(" "+e._s(e.$t("建立"))+" ")])])])])])])},M=[],D=r("3bb2"),T=656,F=o["default"].extend({data:function(){return{modalWidth:T,folderName:"未命名資料夾",remind:""}},computed:{currentFolderId:function(){return this.$store.state.currentFolder.uuid},currentFolder:function(){return this.$store.state.currentFolder}},created:function(){this.modalWidth=window.innerWidth<T?T/2:T},methods:{beforeOpen:function(){this.folderName=this.$t("未命名資料夾").toString(),this.remind=""},cencelCreateFolder:function(){console.log("取消建立資料夾"),this.$modal.hide("create-folder-modal")},createFolder:function(){var e=this;D["a"].create(this.folderName,this.currentFolderId).then((function(t){e.currentFolder.children.push(t),e.$modal.hide("create-folder-modal")}))}}}),L=F,W=(r("051e"),r("fb22"),Object(f["a"])(L,G,M,!1,null,null,null)),A=W.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{staticClass:"modal-container",attrs:{name:"manage-share-mapping-modal",transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:"auto"},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"row-layout"},[r("b-container",[r("div",{staticClass:"title-row-container my-3 mx-1"},[r("b-row",{attrs:{"align-content":"start"}},[r("b-col",{attrs:{cols:"auto"}},[r("span",{staticClass:"fa-stack fa-2x title-icon"},[r("i",{staticClass:"fas fa-circle fa-stack-2x"}),r("i",{staticClass:"fas fa-user-friends fa-stack-1x fa-inverse"})]),r("span",{staticClass:"title-text"},[e._v(" "+e._s(e.$t("與使用者共用"))+" ")])])],1)],1),r("div",{staticClass:"search-row-container my-2 mx-1"},[r("b-row",[r("b-col",[r("b-form-group",{attrs:{"invalid-feedback":e.$t("不存在的使用者"),"valid-feedback":e.$t("已新增使用者"),state:e.userInput.searchState}},[r("b-input-group",{scopedSlots:e._u([{key:"append",fn:function(){return[r("b-dropdown",{attrs:{text:e.translatePermission(e.userInput.permission),variant:"outline-primary"}},e._l(e.permissionOptions,(function(t,n){return r("b-dropdown-item",{key:n,on:{click:function(r){r.preventDefault(),e.userInput.permission=t}}},[e._v(" "+e._s(e.translatePermission(t))+" ")])})),1)]},proxy:!0}])},[r("b-form-input",{attrs:{placeholder:e.$t("輸入使用者名稱")},model:{value:e.userInput.search,callback:function(t){e.$set(e.userInput,"search",t)},expression:"userInput.search"}})],1)],1)],1),r("b-col",{attrs:{cols:"2"}},[r("b-button",{staticClass:"px-3",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.createSoftLink(t)}}},[e._v(" "+e._s(e.$t("新增"))+" ")])],1)],1)],1),r("div",{staticClass:"list-sharing-row-container my-2 mx-1"},[r("b-list-group",{staticClass:"list-sharing"},e._l(e.softLinks,(function(t,n){return r("b-list-group-item",{key:n},[r("b-row",{staticClass:"align-items-center"},[r("b-col",{attrs:{cols:"auto"}},[r("b-avatar")],1),r("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[r("div",{staticClass:"username"},[e._v(" "+e._s(t.metadata.owner.username)+" ")]),r("div",{staticClass:"email"},[e._v(" "+e._s(t.metadata.owner.email)+" ")])]),r("b-col",{attrs:{cols:"auto"}},[r("b-dropdown",{attrs:{text:e.translatePermission(t.permission),variant:"light"}},[e._l(e.permissionOptions,(function(n,a){return r("b-dropdown-item",{key:a,on:{click:function(r){return r.preventDefault(),e.updateSoftLink(t,n)}}},[r("b-row",{attrs:{"no-gutters":""}},[r("b-col",[t.permission===n?r("i",{staticClass:"fas fa-check",staticStyle:{color:"#83baf7"}}):e._e()]),r("b-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.translatePermission(n))+" ")])],1)],1)})),r("b-dropdown-divider"),r("b-dropdown-item",{on:{click:function(t){return t.preventDefault(),e.deleteSoftLink(n)}}},[e._v(" "+e._s(e.$t("移除"))+" ")])],2)],1)],1)],1)})),1)],1),r("div",{staticClass:"footer-row-container my-3 mx-1"},[r("b-row",{attrs:{"align-content":"end"}},[r("b-col",{staticClass:"ml-auto",attrs:{cols:"2"}},[r("b-button",{staticClass:"px-3",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.handleFinish(t)}}},[e._v(" "+e._s(e.$t("完成"))+" ")])],1)],1)],1)])],1)])},q=[],Q=(r("a434"),r("b64b"),r("5530")),P=r("d4ec"),V=r("bee2"),U=r("6ad1"),B=function(){function e(t){Object(P["a"])(this,e),this.baseUrl=t}return Object(V["a"])(e,null,[{key:"list",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U["a"].get("workspace/soft-links?source-object-id=".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.softLinks);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={sourceObjectId:t,receiverUsername:r,permission:n},e.next=3,U["a"].post("workspace/soft-links",a);case 3:return s=e.sent,e.abrupt("return",s.data.softLink);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(Q["a"])({},r),e.next=3,U["a"].put("workspace/soft-links/".concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data.softLink);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U["a"].delete("workspace/soft-links/".concat(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"retrieveSource",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",U["a"].get("workspace/soft-links/".concat(t)));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),H=r("bb3b"),Z=640,J=o["default"].extend({data:function(){return{modalWidth:Z,softLinks:[],userInput:{search:"",searchState:null,permission:H["a"].DETAIL_VIEWER},permissionOptions:Object.keys(H["a"]),sourceObjectId:""}},created:function(){this.modalWidth=window.innerWidth<Z?window.innerWidth:Z},methods:{beforeOpen:function(e){this.softLinks=[],this.userInput={search:"",searchState:null,permission:H["a"].DETAIL_VIEWER},this.sourceObjectId=e.params.sourceObjectId,this.loadSoftLinks()},loadSoftLinks:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.list(e.sourceObjectId);case 2:e.softLinks=t.sent;case 3:case"end":return t.stop()}}),t)})))()},createSoftLink:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.create(e.sourceObjectId,e.userInput.search,e.userInput.permission);case 3:r=t.sent,e.softLinks.push(r),e.userInput.searchState=!0,e.userInput.search="",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response&&t.t0.response.status&&404===t.t0.response.status&&(e.userInput.searchState=!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},updateSoftLink:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=new H["b"](t),r.next=3,B.update(e.uuid,n);case 3:a=r.sent,e.permission=a.permission;case 5:case"end":return r.stop()}}),r)})))()},deleteSoftLink:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,B.destroy(t.softLinks[e].uuid);case 2:t.softLinks.splice(e,1);case 3:case"end":return r.stop()}}),r)})))()},handleFinish:function(){this.$modal.hide("manage-share-mapping-modal")},translatePermission:function(e){switch(e){case H["a"].EDITOR:return this.$t("編輯者").toString();case H["a"].DETAIL_VIEWER:return this.$t("檢視者").toString();case H["a"].GENERAL_VIEWER:return this.$t("使用者").toString();default:return this.$t("無權限").toString()}}}}),K=J,X=(r("3fb7"),r("79ac"),Object(f["a"])(K,z,q,!1,null,null,null)),Y=X.exports,ee=r("aa73"),te=o["default"].extend({components:{SideNav:b,CreateMemberGroupModal:y,CopyMemberGroupModal:N,CreateFolderGroupModal:A,ManageShareMappingModal:Y},data:function(){return{}},computed:{currentWorkspace:function(){return this.$store.state.currentWorkspace}},watch:{},mounted:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ee["a"].loginCheck();case 1:case"end":return e.stop()}}),e)})))()},methods:{}}),re=te,ne=(r("0c18"),Object(f["a"])(re,n,a,!1,null,"57b5293a",null));t["default"]=ne.exports},2532:function(e,t,r){"use strict";var n=r("23e7"),a=r("5a34"),s=r("1d80"),o=r("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(s(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},2957:function(e,t,r){},"2a18":function(e,t,r){},"3bb2":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("bee2"),o=r("6ad1"),i=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"retrieve",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/folders/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={name:t,parentId:r},e.next=3,o["a"].post("workspace/folders",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].post("workspace/folders/".concat(t),r));case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}()},"3fb7":function(e,t,r){"use strict";var n=r("2a18"),a=r.n(n);a.a},4185:function(e,t,r){},"44e7":function(e,t,r){var n=r("861d"),a=r("c6b6"),s=r("b622"),o=s("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},5568:function(e,t,r){},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5b55":function(e,t,r){"use strict";var n=r("5568"),a=r.n(n);a.a},6756:function(e,t,r){},"749c":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e[e["QUIZ_EDITOR"]="QUIZ_EDITOR"]="QUIZ_EDITOR",e[e["MEMBER_EDITOR"]="MEMBER_EDITOR"]="MEMBER_EDITOR",e[e["EVENT_EDITOR"]="EVENT_EDITOR"]="EVENT_EDITOR",e[e["MANAGER"]="MANAGER"]="MANAGER",e[e["ADMIN"]="ADMIN"]="ADMIN"}(n||(n={}))},"79ac":function(e,t,r){"use strict";var n=r("cdc3"),a=r.n(n);a.a},"841c":function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),s=r("1d80"),o=r("129f"),i=r("14c3");n("search",1,(function(e,t,r){return[function(t){var r=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var s=a(e),c=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var l=i(s,c);return o(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},a2f2:function(e,t,r){"use strict";var n=r("e29d"),a=r.n(n);a.a},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),s=r("a691"),o=r("50c4"),i=r("7b0b"),c=r("65f0"),u=r("8418"),l=r("1dde"),p=r("ae40"),d=l("splice"),m=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!m},{splice:function(e,t){var r,n,l,p,d,m,w=i(this),g=o(w.length),k=a(e,g),R=arguments.length;if(0===R?r=n=0:1===R?(r=0,n=g-k):(r=R-2,n=h(f(s(t),0),g-k)),g+r-n>b)throw TypeError(v);for(l=c(w,n),p=0;p<n;p++)d=k+p,d in w&&u(l,p,w[d]);if(l.length=n,r<n){for(p=k;p<g-n;p++)d=p+n,m=p+r,d in w?w[m]=w[d]:delete w[m];for(p=g;p>g-n+r;p--)delete w[p-1]}else if(r>n)for(p=g-n;p>k;p--)d=p+n-1,m=p+r-1,d in w?w[m]=w[d]:delete w[m];for(p=0;p<r;p++)w[p+k]=arguments[p+2];return w.length=g-n+r,l}})},ab13:function(e,t,r){var n=r("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b5753:function(e,t,r){"use strict";var n=r("c4a2"),a=r.n(n);a.a},bb3b:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var n,a=r("d4ec");(function(e){e["EDITOR"]="EDITOR",e["DETAIL_VIEWER"]="DETAIL_VIEWER",e["GENERAL_VIEWER"]="GENERAL_VIEWER"})(n||(n={}));var s=function e(t){Object(a["a"])(this,e),this.permission=t}},c4a2:function(e,t,r){},caad:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").includes,s=r("44d2"),o=r("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!i},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb92:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));r("b0c0");var n,a=r("5530"),s=(r("96cf"),r("1da1")),o=r("d4ec"),i=r("bee2"),c=r("6ad1");(function(e){e["INIT"]="INIT",e["SCHEDULED"]="SCHEDULED",e["RUNNING"]="RUNNING",e["DONE"]="DONE",e["CANCELED"]="CANCELED",e["TERMINATED"]="TERMINATED",e["ERROR"]="ERROR"})(n||(n={}));var u=function e(t,r,n,a,s,i,c,u,l,p,d,m,f){if(Object(o["a"])(this,e),t&&(this.name=t),null!==i&&(this.timeMap=i),null!==c&&(this.monitorMap=c),null!==u&&(this.onePush=u),null!==p&&(this.period=p),a){this.quizGroupIdList=[];for(var h=0;h<a.length;h+=1)this.quizGroupIdList.push(a[h].uuid)}if(s){this.memberGroupIdList=[];for(var b=0;b<s.length;b+=1)this.memberGroupIdList.push(s[b].uuid)}null!==d&&(this.validData=d),null!==m&&(this.frequency=m),null!==f&&(this.weekdays=f),null!==r&&(this.allowRetake=r),null!==n&&(this.shuffle=n),null!==l&&(this.eyeballDetect=l)},l=r("88c3"),p=function(){function e(){Object(o["a"])(this,e)}return Object(i["a"])(e,null,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={parentId:t,name:l["a"].t("未命名測驗")},e.next=3,c["a"].post("workspace/quiz-events/",r);case 3:return n=e.sent,e.abrupt("return",n.data.quizEvent);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEvent",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get("workspace/quiz-events/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.quizEvent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuizEventState",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get("workspace/quiz-events/".concat(t,"/state"));case 2:return r=e.sent,e.abrupt("return",r.data.quizEventState);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,o,i,l,p,d,m,f,h,b,v,w,g,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.metadata,s=r.quizGroups,o=r.allowRetake,i=r.shuffle,l=r.memberGroups,p=r.timeMap,d=r.onePush,m=r.eyeballDetect,f=r.period,h=r.validData,b=r.frequency,v=r.weekdays,w=r.monitorMap,g=new u(n.name,o,i,s,l,p,w,d,m,f,h,b,v),k=Object(a["a"])({},g),e.next=5,c["a"].put("workspace/quiz-events/".concat(t),k);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"sendNow",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].post("workspace/quiz-events/".concat(t,"/send"),{});case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},cdc3:function(e,t,r){},d741:function(e,t,r){"use strict";var n=r("14ef"),a=r.n(n);a.a},e29d:function(e,t,r){},f410:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("bee2"),o=r("6ad1"),i=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"retrieve",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("workspace/object/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={destinationId:r},e.abrupt("return",o["a"].post("workspace/object/".concat(t,"/move"),n));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"copyQuizGroup",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.next=3,o["a"].post("workspace/object/".concat(t,"/copy"),r);case 3:return n=e.sent,e.abrupt("return",n.data.copiedObject);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"copyMemberGroup",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={parentId:r,name:n},e.next=3,o["a"].post("workspace/member-groups/".concat(t,"/copy"),a);case 3:return s=e.sent,e.abrupt("return",s.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].delete("workspace/object/".concat(t)));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].delete("workspace/object/".concat(t,"?permanent=true")));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},f464:function(e,t,r){},f52b:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return c}));r("b0c0");var n=r("d4ec"),a=function e(t,r,a,s,o,i){Object(n["a"])(this,e),this.openEdit=!1,this.uuid=t,this.name=r,this.businessDefinedId=a,this.confirmed=s,this.role=o,this.belongsTo=i||t},s=function e(t){Object(n["a"])(this,e),this.confirmed=t},o=function e(t){Object(n["a"])(this,e),this.role=t},i=function e(t){Object(n["a"])(this,e),this.name=t},c=function e(t){Object(n["a"])(this,e),this.autoConfirm=t}},fb22:function(e,t,r){"use strict";var n=r("f464"),a=r.n(n);a.a},ffa3:function(e,t,r){"use strict";var n=r("2957"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-b50ad92e.e3cd0f86.js.map