{"version":3,"sources":["webpack:///./src/components/BackButton.vue?32c8","webpack:///./src/components/BackButton.vue","webpack:///./src/views/QuizEventPreview.vue?94a4","webpack:///./src/components/BackButton.vue?eadb","webpack:///./src/views/QuizEventPreview.vue?10f3","webpack:///./src/views/QuizEventPreview.vue","webpack:///./src/views/QuizEventPreview.vue?9ffa","webpack:///./src/views/QuizEventPreview.vue?69fa","webpack:///./src/apis/models/QuizEventModel.ts","webpack:///./src/apis/QuizEventApi.ts","webpack:///./src/apis/WorkspaceObjectApi.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","$router","go","staticClass","_v","_s","$t","staticRenderFns","script","component","removeGroup","toEventMaker","quizEvent","metadata","name","scheduleSetting","allowRepeat","scheduledTime","_e","quizGroups","length","_l","item","key","shortId","recordCode","shuffle","allowRetake","eyeballDetect","quizGroupsLength","mapData","sentDataList","staticStyle","class","showMemberGroups","memberGroupsLength","index","sourceObject","showUnsend","style","unsendAreaHeight","date","k","displayDateFormat","displayTimeFormat","unsendDates","showSent","sentAreaHeight","quiz","i","isExamMode","validData","startTimeHour","startTimeMin","endTimeDay","endTimeHour","extend","components","BackButton","data","nowTimestamp","Math","floor","Date","now","getTime","expiredDates","repeatPeriod","repeatFrequency","weeklyScheduledDay","timeMap","Map","monitorMap","computed","isLoading","$store","state","workspaceId","currentWorkspace","uuid","quizEventId","currentQuizEvent","memberGroups","correctSequence","sort","a","b","num","quizGroup","mounted","loginCheck","commit","QuizEventApi","getQuizEvent","then","getQuizEventData","console","log","getPushedRecord","getTimeMapData","methods","pushedQuizGroupList","forEach","record","request","groupId","id","promies","QuizGroupApi","retrieve","push","Promise","all","quizGroupsArray","object","QuizEventHandler","getSentExamData","onePush","period","weekdays","frequency","result","getMapData","getExamData","openRemoveModal","$modal","show","title","text","buttons","handler","hide","removeGroupCard","WorkspaceObjectApi","remove","changeFormat","dateTime","timestamp","parse","timestampToDateStringFormat","str","getOnlyDateString","rescheduleDate","getDateStringObject","time","State","quizGroupIdList","memberGroupIdList","parentFolderId","body","parentId","i18n","t","post","get","quizEventState","updatePayload","put","objectId","destinationId","copiedObject","memberGroup","delete"],"mappings":"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","file":"js/chunk-5e5c435d.0a33cf91.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"fas fa-arrow-left mr-1\"}),_vm._v(\" \"+_vm._s(_vm.$t('上一頁'))+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BackButton.vue?vue&type=template&id=40b0db68&scoped=true&\"\nvar script = {}\nimport style0 from \"./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40b0db68\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventPreview.vue?vue&type=style&index=0&id=30418278&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventPreview.vue?vue&type=style&index=0&id=30418278&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackButton.vue?vue&type=style&index=0&id=40b0db68&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"event-preview\"},[(_vm.quizEvent)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"info-preview\"},[_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.$t('測驗總覽'))+\" \")])]),_c('div',{staticClass:\"btn-area\"},[_c('button',{staticClass:\"btn btn-secondary\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeGroup($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('刪除'))+\" \")]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.toEventMaker($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t('編輯'))+\" \")])]),_c('div',{staticClass:\"preview-form\"},[_c('form',[_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('測驗名稱')))]),_c('div',{staticClass:\"group-sticker\"},[_vm._v(\" \"+_vm._s(_vm.quizEvent.metadata.name)+\" \")])]),(!_vm.scheduleSetting.allowRepeat || !_vm.quizEvent.scheduledTime)?_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('測驗代碼')))]),(_vm.quizEvent.quizGroups.length === 0)?_c('div',{staticClass:\"group-sticker\"},[_vm._v(\" --- \")]):_vm._e(),(_vm.quizEvent.quizGroups.length !== 0)?_c('div',{staticClass:\"group-sticker\"},_vm._l((_vm.quizEvent.timeMap),function(item,key){return _c('div',{key:key},[_vm._v(\" \"+_vm._s(_vm.quizEvent.shortId)+\".\"+_vm._s(item.recordCode)+\" \")])}),0):_vm._e()]):_vm._e(),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('題號與選項亂序')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizEvent.shuffle)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('開啟'))+\" \")]):_vm._e(),(!_vm.quizEvent.shuffle)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('關閉'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('再測一次')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizEvent.allowRetake)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('開啟'))+\" \")]):_vm._e(),(!_vm.quizEvent.allowRetake)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('關閉'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('眼球追蹤')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizEvent.eyeballDetect)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('開啟'))+\" \")]):_vm._e(),(!_vm.quizEvent.eyeballDetect)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('關閉'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('發送狀態')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizGroupsLength === 0 && _vm.mapData.sentDataList.length !== 0)?_c('div',{staticStyle:{\"color\":\"rgb(206, 0, 0)\"}},[_vm._v(\" \"+_vm._s(_vm.$t('已發送完畢'))+\" \")]):_vm._e(),(_vm.quizGroupsLength === 0 && _vm.mapData.sentDataList.length === 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('尚未安排'))+\" \")]):_vm._e(),(_vm.quizGroupsLength !== 0 && !_vm.quizEvent.scheduledTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('尚未安排'))+\" \")]):_vm._e(),(_vm.quizGroupsLength !== 0 && _vm.quizEvent.scheduledTime)?_c('div',{staticStyle:{\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(_vm.$t('排程發送中'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"input-group\",class:{'showAll': _vm.showMemberGroups}},[_c('label',[_vm._v(_vm._s(_vm.$t('選擇班級')))]),_c('div',{staticClass:\"group-sticker group-table p-0\"},[_c('div',{staticClass:\"content\"},[(_vm.memberGroupsLength > 0)?_c('div',_vm._l((_vm.quizEvent.memberGroups),function(item,index){return _c('div',{key:index},[_c('div',{staticClass:\"name-area\"},[(item.sourceObject)?_c('p',[_vm._v(\" \"+_vm._s(item.sourceObject.metadata.name)+\" \")]):_c('p',[_vm._v(\" \"+_vm._s(item.metadata.name)+\" \")])])])}),0):_vm._e(),(_vm.memberGroupsLength === 0)?_c('div',[_c('div',{staticClass:\"name-area\"},[_c('p',[_vm._v(_vm._s(_vm.$t('尚未選擇')))])])]):_vm._e()])]),_c('div',{staticClass:\"number-length\",class:{'canClickCursor': _vm.memberGroupsLength > 1},on:{\"click\":function($event){_vm.showMemberGroups = !_vm.showMemberGroups}}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.memberGroupsLength)+\" \"),(_vm.memberGroupsLength > 1 && _vm.showMemberGroups)?_c('i',{staticClass:\"fas fa-angle-up\"}):_vm._e(),(_vm.memberGroupsLength > 1 && !_vm.showMemberGroups)?_c('i',{staticClass:\"fas fa-angle-down\"}):_vm._e()])])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('推送方式')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.scheduleSetting.allowRepeat && _vm.quizEvent.scheduledTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('週期性推送'))+\" \")]):_vm._e(),(!_vm.scheduleSetting.allowRepeat)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('一次性推送'))+\" \")]):_vm._e(),(_vm.scheduleSetting.allowRepeat && !_vm.quizEvent.scheduledTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('未使用排程發送功能'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"input-group unsend-area\",class:{'showAll': _vm.showUnsend}},[_c('label',[_vm._v(_vm._s(_vm.$t('待發送題組')))]),_c('div',{staticClass:\"group-table\",style:({'min-height': _vm.unsendAreaHeight})},[(_vm.quizGroupsLength !== 0)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"date-area\"},_vm._l((_vm.mapData.unsendDates),function(date,k){return _c('div',{key:k,staticClass:\"date\"},[_c('p',[_vm._v(_vm._s(_vm.displayDateFormat(date))+\" \"+_vm._s(_vm.displayTimeFormat(date)))])])}),0),_c('div',{staticClass:\"name-area\"},_vm._l((_vm.quizEvent.quizGroups),function(item,index){return _c('div',{key:index,staticClass:\"name\"},[_c('p',[(item.isExamMode)?_c('span',{staticClass:\"exam-mode-icon d-none\"},[_c('i',{staticClass:\"fas fa-user-edit exam-icon\"})]):_vm._e(),_vm._v(\" \"+_vm._s(item.metadata.name)+\" \")])])}),0)]):_vm._e(),(_vm.quizGroupsLength === 0)?_c('div',{staticClass:\"remind\"},[(_vm.quizGroupsLength === 0 && _vm.mapData.sentDataList.length === 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('尚未選擇'))+\" \")]):_vm._e(),(_vm.quizGroupsLength === 0 && _vm.mapData.sentDataList.length !== 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('已發送完畢'))+\" \")]):_vm._e()]):_vm._e()]),_c('div',{staticClass:\"number-length\",class:{'canClickCursor': _vm.mapData.unsendDates.length > 1},on:{\"click\":function($event){_vm.showUnsend = !_vm.showUnsend}}},[(_vm.scheduleSetting.allowRepeat && !_vm.quizEvent.scheduledTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.quizGroupsLength)+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.mapData.unsendDates.length)+\" \"),(_vm.mapData.unsendDates.length > 1 && _vm.showUnsend)?_c('i',{staticClass:\"fas fa-angle-up\"}):_vm._e(),(_vm.mapData.unsendDates.length > 1 && !_vm.showUnsend)?_c('i',{staticClass:\"fas fa-angle-down\"}):_vm._e()])])]),_c('div',{staticClass:\"input-group sent-area\",class:{'showAll': _vm.showSent}},[_c('label',[_vm._v(_vm._s(_vm.$t('已發送題組')))]),_c('div',{staticClass:\"group-table\",style:({'min-height': _vm.sentAreaHeight})},[(_vm.mapData.sentDataList.length !== 0)?_c('div',{staticClass:\"item-area\"},_vm._l((_vm.correctSequence),function(item,key){return _c('div',{key:key,staticClass:\"item\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"date-area\"},[(item.scheduledTime)?_c('div',[_vm._v(\" \"+_vm._s(_vm.displayDateFormat(item.scheduledTime))+\" \"+_vm._s(_vm.displayTimeFormat(item.scheduledTime))+\" \")]):_c('div',[_vm._v(\" no scheduledTime \")])]),_c('div',{staticClass:\"name-area\"},_vm._l((item.quizGroup),function(quiz,i){return _c('div',{key:i},[_c('p',[(quiz.isExamMode === false)?_c('span',{staticClass:\"exam-mode-icon d-none\"},[_c('i',{staticClass:\"fas fa-user-edit exam-icon\"})]):_vm._e(),_vm._v(\" \"+_vm._s(quiz.metadata.name)+\" \")])])}),0)])])}),0):_vm._e(),(_vm.mapData.sentDataList.length === 0)?_c('div',[_c('div',{staticClass:\"remind\"},[_vm._v(\" \"+_vm._s(_vm.$t('尚未有發送紀錄'))+\" \")])]):_vm._e()]),_c('div',{staticClass:\"number-length\",class:{'canClickCursor': _vm.mapData.sentDataList.length > 1},on:{\"click\":function($event){_vm.showSent = !_vm.showSent}}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.mapData.sentDataList.length)+\" \"),(_vm.mapData.sentDataList.length > 1 && _vm.showSent)?_c('i',{staticClass:\"fas fa-angle-up\"}):_vm._e(),(_vm.mapData.sentDataList.length > 1 && !_vm.showSent)?_c('i',{staticClass:\"fas fa-angle-down\"}):_vm._e()])])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('開始時間')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizEvent.validData)?_c('div',[(_vm.quizEvent.validData.startTimeHour !== 0 || _vm.quizEvent.validData.startTimeMin !== 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('發送後'))),_c('span',[_vm._v(_vm._s(_vm.quizEvent.validData.startTimeHour))]),_vm._v(_vm._s(_vm.$t('小時'))),_c('span',[_vm._v(_vm._s(_vm.quizEvent.validData.startTimeMin))]),_vm._v(_vm._s(_vm.$t('分鐘'))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('同發送時間'))+\" \")])]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('同發送時間'))+\" \")])])]),_c('div',{staticClass:\"input-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t('結束時間')))]),_c('div',{staticClass:\"group-sticker\"},[(_vm.quizEvent.validData)?_c('div',[(_vm.quizEvent.validData.endTimeDay !== 0 || _vm.quizEvent.validData.endTimeHour !== 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('發送後'))),_c('span',[_vm._v(_vm._s(_vm.quizEvent.validData.endTimeDay))]),_vm._v(_vm._s(_vm.$t('日'))),_c('span',[_vm._v(_vm._s(_vm.quizEvent.validData.endTimeHour))]),_vm._v(_vm._s(_vm.$t('小時'))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('無限制'))+\" \")])]):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('無限制'))+\" \")])])])])]),_c('div',{staticClass:\"btn-area last-page\"},[_c('BackButton')],1)])]):_vm._e(),_c('v-dialog')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport QuizEventApi from '@/apis/QuizEventApi';\r\nimport {\r\n  MonitorMapValue,\r\n  PushedQuizGroupRecord,\r\n  QuizEventModelv4, SentDataRecord, TimeMapValue,\r\n} from '@/apis/models/QuizEventModel';\r\nimport Auth from '@/libs/auth';\r\nimport BackButton from '@/components/BackButton.vue';\r\nimport TimeFunction from '@/libs/timeFunctions';\r\nimport { QuizGroupModel } from '@/apis/models/QuizGroupModel';\r\nimport QuizGroupApi from '@/apis/QuizGroupApi';\r\nimport WorkspaceObjectApi from '@/apis/WorkspaceObjectApi';\r\nimport QuizEventHandler from '@/handlers/QuizEventHandler';\r\n\r\nexport default Vue.extend({\r\n  components: {\r\n    BackButton,\r\n  },\r\n  data() {\r\n    return {\r\n      quizEvent: null as QuizEventModelv4 | null, // 本[測驗]的資訊\r\n      nowTimestamp: Math.floor(new Date(Math.floor(Date.now())).getTime() / 1000), // 10位數\r\n      mapData: {\r\n        unsendDates: [] as string[],\r\n        expiredDates: [] as string[],\r\n        sentDataList: [] as SentDataRecord[],\r\n      },\r\n      scheduleSetting: {\r\n        allowRepeat: true,\r\n        repeatPeriod: 'week', // 'days'\r\n        repeatFrequency: 1,\r\n        weeklyScheduledDay: ['1'],\r\n      },\r\n      validData: {\r\n        startTimeHour: 0,\r\n        startTimeMin: 0,\r\n        endTimeDay: 0,\r\n        endTimeHour: 0,\r\n      },\r\n      timeMap: new Map<string, TimeMapValue>(),\r\n      monitorMap: new Map<string, MonitorMapValue>(),\r\n\r\n      showMemberGroups: false,\r\n      showUnsend: false,\r\n      showSent: false,\r\n    };\r\n  },\r\n  computed: {\r\n    isLoading(): boolean {\r\n      return this.$store.state.isLoading;\r\n    },\r\n    workspaceId(): string {\r\n      return this.$store.state.currentWorkspace.uuid;\r\n    },\r\n    quizEventId(): string {\r\n      return this.$store.state.currentQuizEvent.uuid;\r\n    },\r\n    memberGroupsLength(): number {\r\n      if (this.quizEvent && this.quizEvent.memberGroups) {\r\n        return this.quizEvent.memberGroups.length;\r\n      }\r\n      return 0;\r\n    },\r\n    quizGroupsLength(): number {\r\n      if (this.quizEvent && this.quizEvent.quizGroups) {\r\n        return this.quizEvent.quizGroups.length;\r\n      }\r\n      return 0;\r\n    },\r\n    correctSequence(): SentDataRecord[] {\r\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\r\n      this.mapData.sentDataList.sort((a: SentDataRecord, b: SentDataRecord) => {\r\n        if (a.scheduledTime < b.scheduledTime) {\r\n          return 1;\r\n        }\r\n        return -1;\r\n      });\r\n      return this.mapData.sentDataList;\r\n    },\r\n    unsendAreaHeight(): string {\r\n      let num = 0;\r\n      if (this.quizEvent && this.quizEvent.quizGroups) {\r\n        if (this.mapData.unsendDates.length > 1) {\r\n          num = 34;\r\n        } else {\r\n          num = this.quizEvent.quizGroups.length * 34;\r\n        }\r\n      }\r\n      return `${num}px`;\r\n    },\r\n    sentAreaHeight(): string {\r\n      let num = 34;\r\n      if (this.mapData.sentDataList.length > 0) {\r\n        if (this.correctSequence[0].quizGroup.length > 1) {\r\n          num = this.correctSequence[0].quizGroup.length * 34;\r\n        } else {\r\n          num = 34;\r\n        }\r\n      }\r\n      return `${num}px`;\r\n    },\r\n  },\r\n  async mounted() {\r\n    Auth.loginCheck();\r\n    this.$store.commit('updateLoading', true);\r\n    try {\r\n      await QuizEventApi.getQuizEvent(this.quizEventId).then(async (quizEvent) => {\r\n        this.quizEvent = quizEvent;\r\n        this.getQuizEventData();\r\n        console.log('Preview quizEvent:', quizEvent);\r\n      });\r\n    } finally {\r\n      this.$store.commit('updateLoading', false);\r\n    }\r\n\r\n    this.getPushedRecord();\r\n\r\n    this.getTimeMapData();\r\n  },\r\n  methods: {\r\n    getPushedRecord() {\r\n      this.$store.commit('updateLoading', true);\r\n      if (this.quizEvent && this.quizEvent.pushedQuizGroupList[0]) {\r\n        this.quizEvent.pushedQuizGroupList.forEach(async (record: PushedQuizGroupRecord) => {\r\n          const request = [] as Promise<QuizGroupModel>[];\r\n          record.groupId.forEach((id) => {\r\n            const promies = QuizGroupApi.retrieve(id);\r\n            request.push(promies);\r\n          });\r\n\r\n          const quizGroupsArray = await Promise.all(request);\r\n          let object = {} as SentDataRecord;\r\n          object = {\r\n            quizGroup: quizGroupsArray,\r\n            scheduledTime: record.scheduledTime,\r\n            recordCode: record.recordCode,\r\n          };\r\n          this.mapData.sentDataList.push(object as SentDataRecord);\r\n          this.mapData.sentDataList = QuizEventHandler.getSentExamData(this.quizEvent, this.mapData);\r\n        });\r\n      }\r\n      this.$store.commit('updateLoading', false);\r\n    },\r\n    getQuizEventData() {\r\n      if (this.quizEvent) {\r\n        this.scheduleSetting.allowRepeat = !this.quizEvent.onePush;\r\n        this.scheduleSetting.repeatPeriod = this.quizEvent.period;\r\n        this.scheduleSetting.weeklyScheduledDay = this.quizEvent.weekdays;\r\n\r\n        if (this.quizEvent.quizGroups\r\n            && this.quizEvent.memberGroups\r\n            && this.quizEvent.quizGroups.length === 0\r\n            && this.quizEvent.memberGroups.length === 0) {\r\n          this.scheduleSetting.allowRepeat = true;\r\n        }\r\n\r\n        if (this.quizEvent.validData) {\r\n          this.validData = this.quizEvent.validData;\r\n        }\r\n\r\n        if (this.quizEvent.frequency) {\r\n          this.scheduleSetting.repeatFrequency = this.quizEvent.frequency;\r\n        }\r\n      }\r\n    },\r\n    getTimeMapData() {\r\n      this.$store.commit('updateLoading', true);\r\n      if (this.quizEvent && this.quizEvent.timeMap) {\r\n        const result = QuizEventHandler.getMapData(this.quizEvent);\r\n        this.mapData = result.mapData;\r\n        this.scheduleSetting = result.scheduleSetting;\r\n        this.quizEvent = QuizEventHandler.getExamData(this.quizEvent);\r\n      }\r\n      this.$store.commit('updateLoading', false);\r\n    },\r\n    removeGroup() {\r\n      this.openRemoveModal();\r\n    },\r\n    openRemoveModal() {\r\n      this.$modal.show('dialog', {\r\n        title: this.$t('確定刪除嗎?'),\r\n        text: this.$t('刪掉就不會再回來囉'),\r\n        buttons: [\r\n          {\r\n            title: this.$t('取消'),\r\n            handler: () => {\r\n              this.$modal.hide('dialog');\r\n            },\r\n          },\r\n          {\r\n            title: this.$t('確定'),\r\n            handler: () => {\r\n              // remove operation\r\n              this.$modal.hide('dialog');\r\n              this.removeGroupCard();\r\n              this.$router.go(-1);\r\n            },\r\n          },\r\n        ],\r\n      });\r\n    },\r\n    async removeGroupCard() {\r\n      if (this.quizEvent) {\r\n        await WorkspaceObjectApi.remove(this.quizEvent.uuid);\r\n      }\r\n    },\r\n    toEventMaker() {\r\n      this.$router.push('/manager/quizevent-maker');\r\n    },\r\n    changeFormat(dateTime: string) {\r\n      const timestamp = Date.parse(dateTime);\r\n      const result = TimeFunction.timestampToDateStringFormat(timestamp / 1000);\r\n      return result;\r\n    },\r\n    // 轉換時間-----------------------------\r\n    displayDateFormat(date: string) {\r\n      const str = TimeFunction.getOnlyDateString(date);\r\n      return str;\r\n    },\r\n    displayTimeFormat(date: string) {\r\n      const timestamp = new Date(date).getTime();\r\n      const rescheduleDate = TimeFunction.getDateStringObject(timestamp / 1000);\r\n      return rescheduleDate.time;\r\n    },\r\n  },\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventPreview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuizEventPreview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QuizEventPreview.vue?vue&type=template&id=30418278&scoped=true&\"\nimport script from \"./QuizEventPreview.vue?vue&type=script&lang=ts&\"\nexport * from \"./QuizEventPreview.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./QuizEventPreview.vue?vue&type=style&index=0&id=30418278&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30418278\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable max-classes-per-file */\r\n// import Utils from '@/libs/utils';\r\nimport { WorkspaceObjectModel } from './WorkspaceObjectModel';\r\n\r\nexport enum State {\r\n  INIT = 'INIT',\r\n  SCHEDULED = 'SCHEDULED',\r\n  RUNNING = 'RUNNING',\r\n  DONE = 'DONE',\r\n  CANCELED = 'CANCELED',\r\n  TERMINATED = 'TERMINATED',\r\n  ERROR = 'ERROR'\r\n}\r\n\r\nexport interface StateRecord {\r\n  state: State;\r\n  datetime: string;\r\n}\r\n\r\nexport interface ValidData {\r\n  startTimeHour: number;\r\n  startTimeMin: number;\r\n  endTimeDay: number;\r\n  endTimeHour: number;\r\n}\r\n\r\nexport interface TimeMapValue {\r\n  startTime: string | null;\r\n  endTime: string | null;\r\n  scheduledTime: string | null;\r\n  duration: number;\r\n  recordCode: string | null;\r\n}\r\n\r\nexport interface MonitorMapValue {\r\n  noScreenshot: boolean;\r\n  noSwitchApp: boolean;\r\n  noPhoneCall: boolean;\r\n}\r\nexport interface PushedQuizGroupRecord{\r\n  groupId: string[];\r\n  scheduledTime: string;\r\n  recordCode: string;\r\n}\r\n\r\nexport interface SentDataRecord {\r\n  quizGroup: WorkspaceObjectModel[];\r\n  scheduledTime: string;\r\n  recordCode: string;\r\n}\r\n\r\nexport interface DayMapValue {\r\n  id: string;\r\n  date: string;\r\n}\r\n\r\nexport interface MultipleDatesAttributes {\r\n  highlight: HighlightCalendar;\r\n  dates: string;\r\n  popover: {\r\n    label: string;\r\n  };\r\n}\r\n\r\nexport interface HighlightCalendar {\r\n  color: string;\r\n  fillMode: string;\r\n}\r\n\r\nexport interface QuizEventStateModel {\r\n  stateHistory: StateRecord[] | null; // under development\r\n}\r\n\r\nexport interface UpdateQuizEventPayloadModel {\r\n  name?: string;\r\n  // startTime?: string;\r\n  // endTime?: string;\r\n  // scheduledTime?: string;\r\n  allowRetake?: boolean;\r\n  shuffle?: boolean;\r\n  quizGroupIdList?: string[];\r\n  memberGroupIdList?: string[];\r\n\r\n  timeMap?: object;\r\n\r\n  monitorMap?: object;\r\n\r\n  onePush?: boolean;\r\n\r\n  period?: string;\r\n\r\n  frequency?: number;\r\n\r\n  weekdays?: string[];\r\n\r\n  validData?: ValidData;\r\n\r\n  eyeballDetect?: boolean;\r\n}\r\n\r\nexport class UpdateQuizEventPayload implements UpdateQuizEventPayloadModel {\r\n  // startTime?: string; // 不使用了\r\n\r\n  // endTime?: string; // 不使用了\r\n\r\n  // scheduledTime?: string; // 不使用了\r\n\r\n  allowRetake?: boolean;\r\n\r\n  shuffle?: boolean;\r\n\r\n  name?: string;\r\n\r\n  quizGroupIdList?: string[];\r\n\r\n  memberGroupIdList?: string[];\r\n\r\n  timeMap?: Map<string, TimeMapValue>;\r\n\r\n  monitorMap?: Map<string, MonitorMapValue>;\r\n\r\n  onePush?: boolean;\r\n\r\n  period?: string;\r\n\r\n  frequency?: number;\r\n\r\n  weekdays?: string[];\r\n\r\n  validData?: ValidData;\r\n\r\n  eyeballDetect?: boolean;\r\n\r\n  constructor(name: string | null,\r\n    // startTime: string | null,\r\n    // endTime: string | null,\r\n    // scheduledTime: string | null,\r\n    allowRetake: boolean | null,\r\n    shuffle: boolean | null,\r\n\r\n    quizGroups: WorkspaceObjectModel[] | null,\r\n    memberGroups: WorkspaceObjectModel[] | null,\r\n    timeMap: Map<string, TimeMapValue>| null,\r\n    monitorMap: Map<string, MonitorMapValue>| null,\r\n    onePush: boolean,\r\n    eyeballDetect: boolean,\r\n    period: string,\r\n    validData: ValidData,\r\n    frequency: number,\r\n    weekdays: string[]) {\r\n    if (name) {\r\n      this.name = name;\r\n    }\r\n\r\n    if (timeMap !== null) {\r\n      this.timeMap = timeMap;\r\n    }\r\n    if (monitorMap !== null) {\r\n      this.monitorMap = monitorMap;\r\n    }\r\n    if (onePush !== null) {\r\n      this.onePush = onePush;\r\n    }\r\n    if (period !== null) {\r\n      this.period = period;\r\n    }\r\n\r\n    // if (startTime) {\r\n    //   this.startTime = startTime;\r\n    // }\r\n\r\n    // if (endTime) {\r\n    //   this.endTime = endTime;\r\n    // }\r\n\r\n    // if (scheduledTime) {\r\n    //   this.scheduledTime = scheduledTime;\r\n    // }\r\n\r\n    if (quizGroups) {\r\n      this.quizGroupIdList = [];\r\n      for (let i = 0; i < quizGroups.length; i += 1) {\r\n        this.quizGroupIdList.push(quizGroups[i].uuid);\r\n      }\r\n    }\r\n\r\n    if (memberGroups) {\r\n      this.memberGroupIdList = [];\r\n      for (let i = 0; i < memberGroups.length; i += 1) {\r\n        this.memberGroupIdList.push(memberGroups[i].uuid);\r\n      }\r\n    }\r\n    if (validData !== null) {\r\n      this.validData = validData;\r\n    }\r\n    if (frequency !== null) {\r\n      this.frequency = frequency;\r\n    }\r\n    if (weekdays !== null) {\r\n      this.weekdays = weekdays;\r\n    }\r\n\r\n    if (allowRetake !== null) {\r\n      this.allowRetake = allowRetake;\r\n    }\r\n\r\n    if (shuffle !== null) {\r\n      this.shuffle = shuffle;\r\n    }\r\n    if (eyeballDetect !== null) {\r\n      this.eyeballDetect = eyeballDetect;\r\n    }\r\n  }\r\n}\r\n\r\n// === new models for v0.4 === //\r\nexport interface QuizEventPreviewModel extends WorkspaceObjectModel {\r\n  allowRetake: boolean;\r\n  shuffle: boolean;\r\n  onePush: boolean;\r\n  eyeballDetect: boolean;\r\n\r\n  shortId: string;\r\n  scheduledTime: string;\r\n  PushedQuizGroupList: PushedQuizGroupRecord[];\r\n  TimeMap: Map<string, TimeMapValue>;\r\n  monitorMap: Map<string, MonitorMapValue>;\r\n}\r\n\r\n// TODO: rename to QuizEventModel after deleting current QuizEventModel\r\nexport interface QuizEventModelv4 extends WorkspaceObjectModel {\r\n  startTime: string | null;\r\n  endTime: string | null;\r\n  shortId: string;\r\n  scheduledTime: string | null;\r\n  stateHistory: StateRecord[] | null;\r\n  // 以上可能用不到了\r\n\r\n  allowRetake: boolean;\r\n  shuffle: boolean;\r\n  quizGroups: WorkspaceObjectModel[] | null; // cloud be quizgroup, folder, shared object\r\n  memberGroups: WorkspaceObjectModel[] | null; // cloud be membergroup, folder, shared object\r\n  timeMap: Map<string, TimeMapValue> | null;\r\n  monitorMap: Map<string, MonitorMapValue> | null;\r\n  onePush: boolean;\r\n  eyeballDetect: boolean;\r\n  period: string;\r\n  frequency: number;\r\n  weekdays: string[];\r\n  validData: ValidData;\r\n  pushedQuizGroupList: PushedQuizGroupRecord[];\r\n}\r\n","import api from '@/apis/BaseApi';\r\nimport {\r\n  QuizEventModelv4, QuizEventStateModel, UpdateQuizEventPayload,\r\n} from '@/apis/models/QuizEventModel';\r\nimport i18n from '@/i18n';\r\n\r\nexport default class QuizEventApi {\r\n  /**\r\n   * Create a new QuizEvent for a workspace\r\n   */\r\n  static async create(parentFolderId: string): Promise<QuizEventModelv4> {\r\n    const body = {\r\n      parentId: parentFolderId,\r\n      name: i18n.t('未命名測驗'),\r\n    };\r\n    const result = await api.post('workspace/quiz-events/', body);\r\n    return result.data.quizEvent;\r\n  }\r\n\r\n  /**\r\n   * Get a specific QuizEvent in a workspace\r\n   *\r\n   * @param quizEventId\r\n   */\r\n  static async getQuizEvent(quizEventId: string): Promise<QuizEventModelv4> {\r\n    const result = await api.get(`workspace/quiz-events/${quizEventId}`);\r\n    return result.data.quizEvent;\r\n  }\r\n\r\n  /**\r\n   * Get current state of a QuizEvent\r\n   *\r\n   * @param workspaceId\r\n   * @param quizEventId\r\n   */\r\n  static async getQuizEventState(quizEventId: string): Promise<QuizEventStateModel> {\r\n    const result = await api.get(`workspace/quiz-events/${quizEventId}/state`);\r\n    return result.data.quizEventState;\r\n  }\r\n\r\n  /**\r\n   * Update the data of a QuizEvent by a quizEvent object\r\n   * if some values in quizEvent are not set (null or undefined), these null values will not be updated (remind the same in backend database)\r\n   *\r\n   * When the QuizEvent is locked, only startTime, endTime and name could be updated.\r\n   * If you try to update other properties when QuizEvent is locked, you will receive \"409 Conflict\" error.\r\n   *\r\n   * @param workspaceId\r\n   * @param quizEventId\r\n   * @param quizEvent the data used to update QuizEvent specified by quizEventId\r\n   */\r\n  static async update(quizEventId: string, quizEvent: QuizEventModelv4): Promise<void> {\r\n    const {\r\n      metadata, quizGroups, allowRetake, shuffle, memberGroups, timeMap, onePush, eyeballDetect, period, validData, frequency, weekdays, monitorMap,\r\n    } = quizEvent;\r\n    const updatePayload = new UpdateQuizEventPayload(metadata.name, allowRetake, shuffle, quizGroups, memberGroups, timeMap, monitorMap, onePush, eyeballDetect, period, validData, frequency, weekdays);\r\n    const body = {\r\n      ...updatePayload,\r\n    };\r\n    await api.put(`workspace/quiz-events/${quizEventId}`, body);\r\n  }\r\n\r\n  static async sendNow(quizEventId: string): Promise<void> {\r\n    await api.post(`workspace/quiz-events/${quizEventId}/send`, {});\r\n  }\r\n}\r\n","import api from '@/apis/BaseApi';\r\nimport { WorkspaceObjectModel } from './models/WorkspaceObjectModel';\r\n\r\n// when to trigger type classification? after retrieving data or before retrieving data?\r\n/**\r\n * (I prefer this)\r\n * before retrieving data:\r\n * 0. based on object type, bind different UI, API events\r\n * 1. click an object, and trigger bind event\r\n * 2. based on the object type to interpret data (in ui, pages, or code)\r\n *\r\n * after retrieving data:\r\n * 1. click an object\r\n * 2. use a general api to retrieve object data\r\n * 3. determine the type of the retrieved data\r\n * 4. based on the object type to interpret data (in ui, pages, or code)\r\n *\r\n * (this is also good)\r\n * after retrieving data v2:\r\n * 1. click an object (i know what type the object is)\r\n * 2. use a general api to retrieve object data\r\n * 3. based on the object type to interpret data (in ui, pages, or code)\r\n */\r\n\r\nexport default class WorkspaceObjectApi {\r\n  /**\r\n   * General retrieve, get the content of a object\r\n   * you can interpret the content based on object type (included in the return value)\r\n   *\r\n   * @param objectId\r\n   * @returns content of a object\r\n   */\r\n  static async retrieve(objectId: string): Promise<WorkspaceObjectModel> {\r\n    const result = await api.get(`workspace/object/${objectId}`);\r\n    return result.data;\r\n  }\r\n\r\n  /**\r\n   * Move a object to a folder\r\n   * cannot move a object to its decendants (if exists) or into itself\r\n   *\r\n   * @param objectId\r\n   * @param destinationId the id where the object should move to, should be a folder id\r\n   */\r\n  static async move(objectId: string, destinationId: string): Promise<void> {\r\n    const body = {\r\n      destinationId,\r\n    };\r\n    return api.post(`workspace/object/${objectId}/move`, body);\r\n  }\r\n\r\n  /**\r\n   * Shadow copy a object to the same folder\r\n   * NOTE: Nested contents will not be deep-copied!\r\n   *\r\n   * @param objectId\r\n   * @param destinationId the id where the object should move to, should be a folder id\r\n   */\r\n  static async copyQuizGroup(objectId: string): Promise<WorkspaceObjectModel> {\r\n    const body = {};\r\n    const result = await api.post(`workspace/object/${objectId}/copy`, body);\r\n    return result.data.copiedObject;\r\n  }\r\n\r\n  static async copyMemberGroup(objectId: string, parentId: string, name: string): Promise<WorkspaceObjectModel> {\r\n    const body = {\r\n      parentId,\r\n      name,\r\n    };\r\n    const result = await api.post(`workspace/member-groups/${objectId}/copy`, body);\r\n    return result.data.memberGroup;\r\n  }\r\n\r\n  /**\r\n   * @todo backend not implement\r\n   * Move a object to trash, can be restored later\r\n   * @param objectId\r\n   */\r\n  static async remove(objectId: string): Promise<void> {\r\n    return api.delete(`workspace/object/${objectId}`);\r\n  }\r\n\r\n  /**\r\n   * @todo backend not implement\r\n   * Permanently delete a object, cannot be restored later\r\n   * @param objectId\r\n   */\r\n  static async delete(objectId: string): Promise<void> {\r\n    return api.delete(`workspace/object/${objectId}?permanent=true`);\r\n  }\r\n}\r\n"],"sourceRoot":""}