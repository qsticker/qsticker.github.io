(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b91cc66"],{"73cf":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",{staticClass:"register-box container"},[r("h3",[e._v(e._s(e.$t("開始使用 互動貼圖")))]),r("b-form",{staticClass:"register-form mt-5"},[r("b-form-group",{attrs:{label:e.$t("使用者名稱"),description:e.$t("僅允許輸入 a-Z、0-9 (非首位字元)")}},[r("b-form-input",{attrs:{placeholder:e.$t("您的使用者名稱"),state:e.isValidUsername},on:{input:e.checkUsername},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("b-form-invalid-feedback",{attrs:{state:e.isValidUsername}},[e._v(" "+e._s(e.usernameErrorText)+" ")])],1),r("b-form-group",{attrs:{label:"Email"}},[r("b-form-input",{attrs:{type:"email",placeholder:e.$t("您的 Email"),state:e.isValidEmail},on:{input:e.checkEmail},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("b-form-invalid-feedback",{attrs:{state:e.isValidEmail}},[e._v(" "+e._s(e.emailErrorText)+" ")])],1),r("b-form-group",{attrs:{label:e.$t("密碼"),description:e.$t("密碼長度須為 8 到 128 個字，且包含英文字母及數字。")}},[r("b-form-input",{attrs:{placeholder:e.$t("您的密碼"),type:"password",state:e.isValidPassword},on:{input:e.checkPassword},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("b-form-invalid-feedback",{attrs:{state:e.isValidPassword}},[e._v(" "+e._s(e.passwordErrorText)+" ")])],1)],1),r("div",{staticClass:"submit-btn"},[r("b-button",{attrs:{variant:"success"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("建立帳戶"))+" ")])],1)],1)])},n=[],s=(r("a4d3"),r("e01a"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),i=r("2b0e"),o=r("dade"),c=i["default"].extend({data:function(){return{form:{username:"",email:"",password:""},isValidUsername:null,usernameErrorText:this.$t("請輸入符合規則的使用者名稱"),isValidEmail:null,emailErrorText:this.$t("無效的 Email"),isValidPassword:null,passwordErrorText:this.$t("密碼不符合複雜度要求")}},methods:{handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.isValidUsername&&e.isValidEmail&&e.isValidPassword)){t.next=14;break}return t.prev=1,t.next=4,o["a"].register(e.form.username,e.form.email,e.form.password);case 4:r=t.sent,e.$cookies.set("__registerId",r),e.$router.push("/finish-register"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.handleRegisterError(t.t0);case 12:t.next=17;break;case 14:e.isValidUsername=!0===e.isValidUsername,e.isValidEmail=!0===e.isValidEmail,e.isValidPassword=!0===e.isValidPassword;case 17:case"end":return t.stop()}}),t,null,[[1,9]])})))()},handleRegisterError:function(e){if(e&&e.response&&409===e.response.status){console.log(e.response);var t=e.response.data.description;"Username has been used by an other account"===t&&(this.isValidUsername=!1,this.usernameErrorText=this.$t("此使用者名稱已經被其他使用者註冊，請換一個名稱").toString(),this.$notify({type:"error",title:this.$t("錯誤").toString(),text:this.usernameErrorText})),"Email has been used by an other account"===t&&(this.isValidEmail=!1,this.emailErrorText=this.$t("此 Email 已經被其他使用者註冊，請換一個 Email").toString(),this.$notify({type:"error",title:this.$t("錯誤").toString(),text:this.emailErrorText}))}},checkUsername:function(){var e=/^[a-zA-Z][a-zA-Z0-9]*$/;this.isValidUsername=e.test(this.form.username),this.usernameErrorText=this.$t("請輸入符合規則的使用者名稱").toString()},checkEmail:function(){var e=/^[^\s@]+@[^\s@]+$/;this.isValidEmail=e.test(this.form.email),this.emailErrorText=this.$t("無效的 Email").toString()},checkPassword:function(){var e=/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,128}$/;this.isValidPassword=e.test(this.form.password),this.passwordErrorText=this.$t("密碼不符合複雜度要求").toString()}}}),u=c,l=(r("f777"),r("2877")),d=Object(l["a"])(u,a,n,!1,null,"9030e0aa",null);t["default"]=d.exports},b480:function(e,t,r){},dade:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("96cf");var a=r("1da1"),n=r("d4ec"),s=r("bee2"),i=r("6ad1"),o=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,null,[{key:"register",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={username:t,email:r,password:a},e.next=3,i["a"].post("account/register",n);case 3:return s=e.sent,e.abrupt("return",s.data.registerId);case 5:case"end":return e.stop()}}),e)})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"verify",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={authCode:t},e.next=3,i["a"].post("account/verify",r);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRegisterInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].get("account/register/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data.registerInfo);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resend",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.next=3,i["a"].post("account/register/".concat(t),r);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={identifier:t,password:r},e.next=3,i["a"].post("account/login",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}()},e01a:function(e,t,r){"use strict";var a=r("23e7"),n=r("83ab"),s=r("da84"),i=r("5135"),o=r("861d"),c=r("9bf2").f,u=r("e893"),l=s.Symbol;if(n&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof m?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(m,l);var f=m.prototype=l.prototype;f.constructor=m;var p=f.toString,h="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=p.call(e);if(i(d,e))return"";var r=h?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:m})}},f777:function(e,t,r){"use strict";var a=r("b480"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-2b91cc66.162aba0e.js.map