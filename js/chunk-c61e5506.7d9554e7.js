(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c61e5506"],{"021b":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("99af"),r("b0c0");var n=r("5530"),a=(r("96cf"),r("1da1")),o=r("d4ec"),c=r("bee2"),u=r("6ad1"),i=r("f52b"),s=function(){function e(){Object(o["a"])(this,e)}return Object(c["a"])(e,null,[{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={name:r,parentId:t},e.next=3,u["a"].post("workspace/member-groups",JSON.stringify(n));case 3:return a=e.sent,e.abrupt("return",a.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,c,s,l,p,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("workspace/member-groups/".concat(t));case 2:for(r=e.sent,n=r.data.memberGroup.members,a=0;a<n.length;a+=1)o=n[a],c=o.uuid,s=o.name,l=o.businessDefinedId,p=o.confirmed,d=o.role,m=o.belongsTo,n[a]=new i["a"](c,s,l,p,d,m);return e.abrupt("return",r.data.memberGroup);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(n["a"])({},r),e.next=3,u["a"].put("workspace/member-groups/".concat(t),a);case 3:return o=e.sent,e.abrupt("return",o.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].delete("workspace/member-groups/".concat(t,"/members/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateMemberInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(n["a"])({},a),e.next=3,u["a"].put("workspace/member-groups/".concat(t,"/members/").concat(r),o);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateMemberRoleInMemberGroup",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(n["a"])({},a),e.next=3,u["a"].put("workspace/member-groups/".concat(t,"/set-member-role/").concat(r),o);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"updateAutoConfirm",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(n["a"])({},r),e.next=3,u["a"].put("workspace/member-groups/updateAutoConfirm/".concat(t),a);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"updateBelongsTo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("workspace/member-groups/".concat(t,"/set-member-belongsTo/").concat(r,"/").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"deleteBelongsTo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("workspace/member-groups/".concat(t,"/set-member-belongsTo/").concat(r));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSentCount",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("workspace/member-groups/send-count/".concat(t,"?start-time=").concat(r,"&end-time=").concat(n));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),e}()},"09da":function(e,t,r){"use strict";var n=r("a271"),a=r.n(n);a.a},"0ccf":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"folderList"},[r("div",{staticClass:"childrenFolder"},e._l(e.subfolders,(function(t,n){return r("button",{key:n,staticClass:"folder",class:{clickable:!e.selectModeOpen},attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:t.metadata.name},on:{dblclick:function(r){return r.preventDefault(),e.visitFolder(t)}}},[r("div",{staticClass:"selectedItem"},[r("WorkspaceObjectItem",{attrs:{"workspace-object":t,"default-selected":!1,"allow-select-many":!0,selection:e.selection,"display-mode":"workspaceSelectFolder","select-mode-open":e.selectModeOpen},on:{toggle:function(r){return e.toggleSelection(t)}}})],1)])})),0)])},a=[],o=r("2b0e"),c=r("8eb5"),u=r("bb3b"),i=o["default"].extend({components:{WorkspaceObjectItem:c["a"]},props:{selection:{type:Array,required:!0},selectModeOpen:{type:Boolean,required:!0},subfolders:{type:Array,required:!0}},data:function(){return{Permission:u["a"]}},computed:{currentFolder:function(){return this.$store.state.currentFolder}},methods:{toggleSelection:function(e){this.$emit("toggle",e)},visitFolder:function(e){var t=e.uuid;if(e.permission)if(e.permission===u["a"].EDITOR){t=e.sourceObject.uuid;var r=this.$store.state.currentFolder.uuid;t!==r&&this.$router.push({params:{folderId:t}})}else e.permission===u["a"].DETAIL_VIEWER?window.alert("權限不足"):e.permission===u["a"].GENERAL_VIEWER&&window.alert("權限不足，僅可使用");else if(!this.selectModeOpen){var n=this.$store.state.currentFolder.uuid;t!==n&&this.$router.push({params:{folderId:t}})}}}}),s=i,l=(r("3334"),r("2877")),p=Object(l["a"])(s,n,a,!1,null,"ef7618ca",null);t["a"]=p.exports},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1ffb":function(e,t,r){"use strict";var n=r("6eab"),a=r.n(n);a.a},3334:function(e,t,r){"use strict";var n=r("edd5"),a=r.n(n);a.a},4485:function(e,t,r){},6129:function(e,t,r){},"6eab":function(e,t,r){},"841c":function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),o=r("1d80"),c=r("129f"),u=r("14c3");n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=a(e),i=String(this),s=o.lastIndex;c(s,0)||(o.lastIndex=0);var l=u(o,i);return c(o.lastIndex,s)||(o.lastIndex=s),null===l?-1:l.index}]}))},a271:function(e,t,r){},add5:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{attrs:{name:e.modalName,transition:"pop-out",width:e.modalWidth,"focus-trap":!0,height:224},on:{"before-open":e.beforeOpen}},[r("div",{staticClass:"box"},[r("div",{staticClass:"partition"},[r("div",{staticClass:"partition-title"},[e._v(" "+e._s(e.$t("修改objectType名稱",{objectType:e.objectType}))+" ")]),r("div",{staticClass:"partition-form"},[r("form",{attrs:{autocomplete:"false"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.workspaceObjectName,expression:"workspaceObjectName"}],attrs:{id:"name",type:"text",placeholder:e.objectType+"名稱"},domProps:{value:e.workspaceObjectName},on:{input:function(t){t.target.composing||(e.workspaceObjectName=t.target.value)}}})]),r("p",{staticClass:"remind"},[e._v(" "+e._s(e.remind)+" ")]),r("div",{staticClass:"button-set"},[r("button",{attrs:{id:"cencel-btn"},on:{click:e.handleCancel}},[e._v(" "+e._s(e.$t("取消"))+" ")]),r("button",{attrs:{id:"create-btn"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("送出"))+" ")])])])])])])},a=[],o=(r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("841c"),r("96cf"),r("1da1")),c=r("2b0e"),u=r("021b"),i=r("f52b"),s=r("18ad"),l=r("3bb2"),p=656,d=c["default"].extend({data:function(){return{translate:s["b"],modalName:"update-workspace-object-name-modal",modalWidth:p,remind:"",workspaceObjectName:"",workspaceObject:null}},computed:{objectType:function(){return this.workspaceObject?Object(s["b"])(this.workspaceObject.metadata.type):this.$t("未知").toString()}},created:function(){this.modalWidth=window.innerWidth<p?p/2:p},methods:{beforeOpen:function(e){this.remind="",e.params.workspaceObject&&(this.workspaceObject=e.params.workspaceObject,this.workspaceObjectName=this.workspaceObject.metadata.name)},handleCancel:function(){console.log("取消"),this.$modal.hide(this.modalName)},handleSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.workspaceObject){t.next=2;break}return t.abrupt("return");case 2:t.prev=2,t.t0=e.workspaceObject.metadata.type,t.next=t.t0===s["a"].MemberGroup?6:t.t0===s["a"].Folder?18:22;break;case 6:if(r=/^[^\s_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,}$/g,console.log(e.workspaceObjectName.search(r)),0===e.workspaceObjectName.search(r)){t.next=10;break}throw new Error("只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。");case 10:return e.remind="",n=new i["c"](e.workspaceObjectName),t.next=14,u["a"].update(e.workspaceObject.uuid,n);case 14:return a=t.sent,e.workspaceObject.metadata.name=a.metadata.name,e.workspaceObject.uniqueName=a.uniqueName,t.abrupt("break",23);case 18:return o={name:e.workspaceObjectName},t.next=21,l["a"].update(e.workspaceObject.uuid,o);case 21:return t.abrupt("break",23);case 22:throw new Error("unknown object type");case 23:e.$modal.hide(e.modalName),e.$emit("submit"),t.next=31;break;case 27:t.prev=27,t.t1=t["catch"](2),e.remind="只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。",e.$notify({type:"error",text:"只允許中文、英文及數字，且至少兩個字。不允許任何空白、特殊符號(~!@#$%^&*()_/)。"});case 31:case"end":return t.stop()}}),t,null,[[2,27]])})))()}}}),m=d,f=(r("b7fd"),r("09da"),r("2877")),b=Object(f["a"])(m,n,a,!1,null,null,null);t["a"]=b.exports},b26e:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("96cf");var n=r("1da1"),a=r("d4ec"),o=r("bee2"),c=r("3bb2"),u=r("0613"),i=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,null,[{key:"loadFolder",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,u["a"].commit("updateLoading",!0),u["a"].commit("resetCurrentFolder"),e.next=5,c["a"].retrieve(t);case 5:r=e.sent,u["a"].commit("updateCurrentFolder",r);case 7:return e.prev=7,u["a"].commit("updateLoading",!1),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,,7,10]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},b7fd:function(e,t,r){"use strict";var n=r("4485"),a=r.n(n);a.a},d98b:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"empty-hint-container"},[e._v(" "+e._s(e.$t("目前尚無任何內容"))+" ")])},a=[],o=r("2b0e"),c=o["default"].extend({name:"EmptyHint"}),u=c,i=(r("f74c"),r("2877")),s=Object(i["a"])(u,n,a,!1,null,null,null);t["a"]=s.exports},dcc1:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{staticClass:"modal-container",attrs:{name:"move-position-modal",transition:"pop-out",width:"640","focus-trap":!0,height:"640"},on:{"before-open":e.beforeOpen}},[e.insideCurrentFolder&&e.outsideFolder?r("div",{staticClass:"selector"},[r("div",{staticClass:"folder-browser"},[r("div",{staticClass:"current-folder"},[r("Breadcrumb",{attrs:{path:e.insideCurrentFolder.path,situation:"objectSelector"},on:{visitFolder:e.visitFolder}}),r("div",{staticClass:"cancel-btn"},[r("i",{staticClass:"fas fa-times",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}})])],1),r("div",{staticClass:"select-items"},e._l(e.insideCurrentFolder.children,(function(t){return r("div",{key:t.uuid},[e.notAllowToShow||"WorkspaceFolder"!==t.metadata.type?e._e():r("div",{staticClass:"item",on:{click:function(r){return e.visitFolder(t.uuid)}}},[r("div",{staticClass:"folder-info"},[r("span",{staticClass:"folderIcon"},[r("i",{staticClass:"fas fa-folder"})]),r("span",[e._v(e._s(t.metadata.name))])]),r("span",{staticClass:"enter-btn"},[r("i",{staticClass:"fas fa-sign-in-alt"})])])])})),0)]),r("transition",{attrs:{name:"fade"}},[e.notAllowToShow||e.insideCurrentFolder.uuid===e.outsideFolder.uuid?e._e():r("div",{staticClass:"buttons"},[r("b-button",{on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v(" "+e._s(e.$t("移至這裡"))+" ")])],1)])],1):e._e()])},a=[],o=(r("4160"),r("d3b7"),r("25f0"),r("159b"),r("96cf"),r("1da1")),c=r("2b0e"),u=r("18ad"),i=r("010d"),s=r("3bb2"),l=c["default"].extend({components:{Breadcrumb:i["a"]},props:{selection:{type:Array,required:!0}},data:function(){return{translate:u["b"],outsideFolder:null,insideCurrentFolder:null,notAllowToShow:!1}},methods:{beforeOpen:function(e){this.outsideFolder=e.params.currentFolder,this.insideCurrentFolder=e.params.currentFolder},submit:function(){this.insideCurrentFolder&&this.$emit("submit",this.insideCurrentFolder.uuid)},cancel:function(){this.$modal.hide("move-position-modal")},visitFolder:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.notAllowToShow=!1,n=[],t.selection.forEach((function(e){"WorkspaceFolder"===e.metadata.type&&n.push(e)})),0!==n.length)for(a=0;a<n.length;a+=1)e===n[a].uuid&&(console.log(n[a].uuid),t.notAllowToShow=!0);return r.prev=4,r.next=7,s["a"].retrieve(e);case 7:t.insideCurrentFolder=r.sent,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](4),console.error(r.t0),t.$notify({type:"error",title:t.$t("錯誤").toString(),text:t.$t("讀取資料夾失敗，請稍後重試").toString()});case 14:case"end":return r.stop()}}),r,null,[[4,10]])})))()}}}),p=l,d=(r("1ffb"),r("2877")),m=Object(d["a"])(p,n,a,!1,null,"20a59777",null);t["a"]=m.exports},edd5:function(e,t,r){},f410:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r("96cf");var n=r("1da1"),a=r("d4ec"),o=r("bee2"),c=r("6ad1"),u=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,null,[{key:"retrieve",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get("workspace/object/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={destinationId:r},e.abrupt("return",c["a"].post("workspace/object/".concat(t,"/move"),n));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"copyQuizGroup",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.next=3,c["a"].post("workspace/object/".concat(t,"/copy"),r);case 3:return n=e.sent,e.abrupt("return",n.data.copiedObject);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"copyMemberGroup",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={parentId:r,name:n},e.next=3,c["a"].post("workspace/member-groups/".concat(t,"/copy"),a);case 3:return o=e.sent,e.abrupt("return",o.data.memberGroup);case 5:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].delete("workspace/object/".concat(t)));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].delete("workspace/object/".concat(t,"?permanent=true")));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},f52b:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return i}));r("b0c0");var n=r("d4ec"),a=function e(t,r,a,o,c,u){Object(n["a"])(this,e),this.openEdit=!1,this.uuid=t,this.name=r,this.businessDefinedId=a,this.confirmed=o,this.role=c,this.belongsTo=u||t},o=function e(t){Object(n["a"])(this,e),this.confirmed=t},c=function e(t){Object(n["a"])(this,e),this.role=t},u=function e(t){Object(n["a"])(this,e),this.name=t},i=function e(t){Object(n["a"])(this,e),this.autoConfirm=t}},f74c:function(e,t,r){"use strict";var n=r("6129"),a=r.n(n);a.a}}]);
//# sourceMappingURL=chunk-c61e5506.7d9554e7.js.map