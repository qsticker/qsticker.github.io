(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-100cdea2"],{"008c":function(e,t,i){},"010d":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"breadcrumb-area",class:{workspaceBrower:"workspaceBrower"===e.situation,objectSelector:"objectSelector"===e.situation}},[i("b-breadcrumb",e._l(e.path,(function(t,s){return i("b-breadcrumb-item",{key:s,attrs:{active:s===e.path.length-1}},[i("div",{on:{click:function(i){return i.preventDefault(),e.visitFolder(t.uuid)}}},["event-local"===t.name?i("span",[e._v(e._s(e.$t("我的測驗")))]):e._e(),"event-share"===t.name?i("span",[e._v(e._s(e.$t("與我共用")))]):e._e(),"member-local"===t.name?i("span",[e._v(e._s(e.$t("我的班級")))]):e._e(),"member-share"===t.name?i("span",[e._v(e._s(e.$t("與我共用")))]):e._e(),"quiz-local"===t.name?i("span",[e._v(e._s(e.$t("我的題庫")))]):e._e(),"quiz-share"===t.name?i("span",[e._v(e._s(e.$t("與我共用")))]):e._e(),"event-local"!==t.name&&"event-share"!==t.name&&"member-local"!==t.name&&"member-share"!==t.name&&"quiz-local"!==t.name&&"quiz-share"!==t.name?i("span",[e._v(" "+e._s(t.name)+" ")]):e._e()])])})),1)],1)},a=[],n=i("2b0e"),r=n["default"].extend({components:{},props:{path:{type:Array,required:!0},situation:{type:String,default:"workspaceBrower"}},methods:{visitFolder:function(e){this.$emit("visitFolder",e)}}}),o=r,c=(i("c461"),i("2877")),u=Object(c["a"])(o,s,a,!1,null,"544c9154",null);t["a"]=u.exports},"0dd8":function(e,t,i){},"18ad":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n}));i("d3b7"),i("25f0");var s,a=i("88c3");(function(e){e["Folder"]="WorkspaceFolder",e["QuizGroup"]="WorkspaceQuizGroup",e["MemberGroup"]="WorkspaceMemberGroup",e["QuizEvent"]="WorkspaceQuizEvent",e["SoftLink"]="WorkspaceSoftLink"})(s||(s={}));var n=function(e){switch(e){case s.Folder:return a["a"].t("資料夾").toString();case s.QuizGroup:return a["a"].t("題組").toString();case s.MemberGroup:return a["a"].t("班級").toString();case s.QuizEvent:return a["a"].t("測驗").toString();default:return a["a"].t("其他文件").toString()}}},"2a20":function(e,t,i){},"2f0a":function(e,t,i){},"32fc":function(e,t,i){},"3bb2":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("96cf");var s=i("1da1"),a=i("d4ec"),n=i("bee2"),r=i("6ad1"),o=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,null,[{key:"retrieve",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].get("workspace/folders/".concat(t));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,i){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={name:t,parentId:i},e.next=3,r["a"].post("workspace/folders",s);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",r["a"].post("workspace/folders/".concat(t),i));case 1:case"end":return e.stop()}}),e)})));function t(t,i){return e.apply(this,arguments)}return t}()}]),e}()},4564:function(e,t,i){"use strict";var s=i("2f0a"),a=i.n(s);a.a},"498a":function(e,t,i){"use strict";var s=i("23e7"),a=i("58a8").trim,n=i("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return a(this)}})},"4a6b":function(e,t,i){"use strict";var s=i("2a20"),a=i.n(s);a.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var s=i("1d80"),a=i("5899"),n="["+a+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(e){return function(t){var i=String(s(t));return 1&e&&(i=i.replace(r,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},"65ec":function(e,t,i){"use strict";var s=i("0dd8"),a=i.n(s);a.a},7629:function(e,t,i){},"80da":function(e,t,i){"use strict";var s=i("81a1"),a=i.n(s);a.a},"81a1":function(e,t,i){},"8b11":function(e,t,i){},"8eb5":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item",class:{"pointer-cursor":"default"===e.displayMode&&!e.isFolder,"pointer-cursor-a":"default"!==e.displayMode&&e.selectModeOpen,workspaceSelectFile:"workspaceSelectFile"===e.displayMode,workspaceSelectFolder:"workspaceSelectFolder"===e.displayMode,"now-position":e.isQuizUnitOn&&e.workspaceObject.uuid===e.quizGroupId},on:{dblclick:function(t){return t.preventDefault(),e.visit(t)},click:function(t){return t.preventDefault(),e.clickItemToggle(t)}}},[i("div",{staticClass:"item-name"},[e.isFolder?i("span",{staticClass:"folderIcon"},[i("i",{staticClass:"fas fa-folder"})]):i("span",[i("i",{staticClass:"fas fa-file"})]),i("span",{staticClass:"displayName"},[e._v(" "+e._s(e.displayName)+" ")]),"workspaceSelectFolder"===e.displayMode?i("div",{staticClass:"buttons-workspace-folder"},[e.selectModeOpen?i("div",{staticClass:"btn"},[e.selected?i("i",{staticClass:"fas fa-check-circle",staticStyle:{color:"green"}}):i("i",{staticClass:"far fa-circle"})]):e._e()]):e._e()]),"workspaceSelectFile"===e.displayMode?i("div",{staticClass:"workspace-card"},[i("WorkspaceCard",{attrs:{"workspace-object":e.workspaceObject,"select-mode-open":e.selectModeOpen,index:e.index},on:{removeMe:e.removeGroupCard,copyGroupCard:function(t){return e.$emit("copyGroupCard")},copyMemberGroupCard:function(t){return e.$emit("copyMemberGroupCard")}}})],1):e._e(),!e.allowSelectMany||e.isFolder||e.isFile?e._e():i("div",{staticClass:"buttons"},[e.selectModeOpen?i("div",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.clickFolderToggle(t)}}},[e.selected?i("i",{staticClass:"fas fa-check-circle",staticStyle:{color:"green"}}):i("i",{staticClass:"far fa-circle"})]):e._e()]),e.isFolder?i("div",{staticClass:"buttons"},[i("div",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.visit(t)}}},[i("i",{staticClass:"fas fa-sign-in-alt"})])]):e._e(),e.isFile&&e.workspaceObject.uuid!==e.quizGroupId?i("div",{staticClass:"buttons"},[i("div",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.visit(t)}}},[i("i",{staticClass:"fas fa-sign-in-alt"})])]):e._e(),e.isQuizUnitOn&&e.workspaceObject.uuid===e.quizGroupId?i("div",{staticClass:"buttons"},[i("div",{},[e._v(" 現在位置 ")])]):e._e()])},a=[],n=(i("a9e3"),i("18ad")),r=i("b47d"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"selectedCard"},[i("div",[e.workspaceObject.metadata.type===e.WorkspaceObjectType.QuizGroup?i("QuizGroupCard",{attrs:{group:e.workspaceObject,"select-mode-open":e.selectModeOpen,index:e.index},on:{removeMe:function(t){return e.removeMe()},copyGroupCard:function(t){return e.$emit("copyGroupCard")}}}):e._e(),e.workspaceObject.metadata.type===e.WorkspaceObjectType.MemberGroup?i("MemberGroupCard",{attrs:{group:e.workspaceObject,"select-mode-open":e.selectModeOpen,index:e.index},on:{removeMe:function(t){return e.removeMe()},copyMemberGroupCard:function(t){return e.$emit("copyMemberGroupCard")}}}):e._e(),e.workspaceObject.metadata.type===e.WorkspaceObjectType.QuizEvent?i("QuizEventCard",{attrs:{group:e.workspaceObject,"select-mode-open":e.selectModeOpen,index:e.index},on:{removeMe:function(t){return e.removeMe()}}}):e._e(),e.workspaceObject.metadata.type===e.WorkspaceObjectType.SoftLink?i("SharedObjectCard",{attrs:{"shared-object":e.workspaceObject,"select-mode-open":e.selectModeOpen,index:e.index},on:{removeMe:function(t){return e.removeMe()}}}):e._e()],1)])},c=[],u=i("2b0e"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"group-card"},["list-mode"===e.cardDisplayMode?i("div",{staticClass:"index"},[e._v(" "+e._s(e.index)+" ")]):e._e(),i("div",{class:{"pic-mode":"pic-mode"===e.cardDisplayMode,"list-mode":"list-mode"===e.cardDisplayMode},on:{dblclick:e.checkEnterGroup}},[i("div",{staticClass:"pic"},[i("img",{class:{"contain-img":e.previewImage!==e.defaultThumbnial},attrs:{src:e.previewImage}}),i("h2",[e._v(e._s(e.$tc("n題",e.group.quizNumber,{n:e.group.quizNumber})))])]),i("div",{staticClass:"content"},[i("h1",{staticClass:"group-title"},[e._v(" "+e._s(e.group.metadata.name)+" ")]),"pic-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("刪除")},on:{click:e.removeGroup}},[i("i",{staticClass:"fas fa-trash"})])]),i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("編輯")},on:{click:e.enterGroup}},[i("i",{staticClass:"fas fa-pen"})])]),i("div",{staticClass:"ui-btn-right"},[i("div",[i("b-dropdown",{staticClass:"action-menu",attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!1,792808849)},[i("b-dropdown-item",{on:{click:e.enterGroup}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),i("b-dropdown-item",{on:{click:function(t){return e.$emit("copyGroupCard")}}},[e._v(" "+e._s(e.$t("複製"))+" ")]),i("b-dropdown-item",{on:{click:e.openShareMappingModal}},[e._v(" "+e._s(e.$t("共用"))+" ")]),i("b-dropdown-item",{on:{click:e.openStatistic}},[e._v(" "+e._s(e.$t("統計資料"))+" ")]),i("b-dropdown-divider"),i("b-dropdown-item",{on:{click:e.removeGroup}},[e._v(" "+e._s(e.$t("移除"))+" ")])],1)],1)])]):e._e(),"list-mode"===e.cardDisplayMode?i("div",{staticClass:"member-count"},[i("div",{staticClass:"value"},[e._v(" "+e._s(e.$tc("n題",e.group.quizNumber,{n:e.group.quizNumber}))+" ")])]):e._e()]),"list-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn-right"},[i("div",[i("b-dropdown",{staticClass:"action-menu",attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.selectModeOpen?e._e():i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!1,2035416240)},[i("b-dropdown-item",{on:{click:e.enterGroup}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),i("b-dropdown-item",{on:{click:function(t){return e.$emit("copyGroupCard")}}},[e._v(" "+e._s(e.$t("複製"))+" ")]),i("b-dropdown-item",{on:{click:e.openShareMappingModal}},[e._v(" "+e._s(e.$t("共用"))+" ")]),i("b-dropdown-item",{on:{click:e.openStatistic}},[e._v(" "+e._s(e.$t("統計資料"))+" ")]),i("b-dropdown-divider"),i("b-dropdown-item",{on:{click:e.removeGroup}},[e._v(" "+e._s(e.$t("移除"))+" ")])],1)],1)])]):e._e()])])},l=[],p=u["default"].extend({name:"QuizGroupCard",components:{},props:{group:{type:Object,required:!1,default:null},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0}},data:function(){return{defaultThumbnial:"https://images.unsplash.com/photo-1605522220576-f5566d005f1c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",copyMessageDisplay:!1,copyMessageTimeoutId:0}},computed:{previewImage:function(){return this.group.previewImageUrl?"".concat(this.group.previewImageUrl,"/240"):this.defaultThumbnial},cardDisplayMode:function(){return this.$store.state.cardDisplayMode}},methods:{enterGroup:function(){this.$store.commit("updateEditPermission",!0),this.$store.commit("changeQuizGroup",this.group),this.$router.push("/manager/quizgroup-preview")},checkEnterGroup:function(){this.selectModeOpen||this.enterGroup()},removeGroup:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:this.$t("確定刪除嗎?"),text:this.$t("刪掉就不會再回來囉"),buttons:[{title:this.$t("取消"),handler:function(){e.$modal.hide("dialog")}},{title:this.$t("確定"),handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})},openStatistic:function(){var e="https://qsticker.github.io/result-viewer/#/";window.open("".concat(e,"?quizGroupId=").concat(this.group.uuid))},openShareMappingModal:function(){this.$modal.show("manage-share-mapping-modal",{sourceObjectId:this.group.uuid})}}}),m=p,f=(i("baa3"),i("80da"),i("2877")),h=Object(f["a"])(m,d,l,!1,null,"81067330",null),b=h.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"group-card"},["list-mode"===e.cardDisplayMode?i("div",{staticClass:"index"},[e._v(" "+e._s(e.index)+" ")]):e._e(),i("div",{class:{"pic-mode":"pic-mode"===e.cardDisplayMode,"list-mode":"list-mode"===e.cardDisplayMode},on:{dblclick:e.checkEnterGroup}},["pic-mode"===e.cardDisplayMode?i("div",{staticClass:"pic"},[i("img",{attrs:{src:e.previewImage}}),i("h2",[e._v(" "+e._s(e.$tc("n人",e.group.memberCount,{n:e.group.memberCount}))+" ")])]):e._e(),i("div",{staticClass:"content"},[i("div",{staticClass:"group-title"},[e._v(" "+e._s(e.group.uniqueName)+" ")]),e.group.autoConfirm?i("div",{staticClass:"auto-confirm"},[i("i",{staticClass:"fas fa-check"})]):e._e(),"pic-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("刪除")},on:{click:e.removeGroup}},[i("i",{staticClass:"fas fa-trash"})])]),i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("編輯")},on:{click:e.enterGroup}},[i("i",{staticClass:"fas fa-pen"})])]),i("div",{staticClass:"ui-btn-right"},[i("div",{staticClass:"action-menu"},[i("b-dropdown",{attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!1,792808849)},[i("b-dropdown-item",{on:{click:e.enterGroup}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),i("b-dropdown-item",{on:{click:function(t){return e.$emit("copyMemberGroupCard")}}},[e._v(" "+e._s(e.$t("複製"))+" ")]),i("b-dropdown-item",{on:{click:e.openShareMappingModal}},[e._v(" "+e._s(e.$t("共用"))+" ")]),i("b-dropdown-divider"),i("b-dropdown-item",{on:{click:e.removeGroup}},[e._v(" "+e._s(e.$t("移除"))+" ")])],1)],1)])]):e._e(),"list-mode"===e.cardDisplayMode?i("div",{staticClass:"member-count"},[e.group.members?e._e():i("div",{staticClass:"value"},[e._v(" "+e._s(e.$tc("n人",e.group.memberCount,{n:e.group.memberCount}))+" ")]),e.group.members?i("div",{staticClass:"value"},[e._v(" "+e._s(e.$tc("n人",e.group.members.length,{n:e.group.members.length}))+" ")]):e._e()]):e._e()]),"list-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn-right"},[i("div",[i("b-dropdown",{staticClass:"action-menu",attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.selectModeOpen?e._e():i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!1,2035416240)},[i("b-dropdown-item",{on:{click:e.enterGroup}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),i("b-dropdown-item",{on:{click:function(t){return e.$emit("copyMemberGroupCard")}}},[e._v(" "+e._s(e.$t("複製"))+" ")]),i("b-dropdown-item",{on:{click:e.openShareMappingModal}},[e._v(" "+e._s(e.$t("共用"))+" ")]),i("b-dropdown-divider"),i("b-dropdown-item",{on:{click:e.removeGroup}},[e._v(" "+e._s(e.$t("移除"))+" ")])],1)],1)])]):e._e()])])},g=[],_=u["default"].extend({name:"MemberGroupCard",components:{},props:{group:{type:Object,required:!1,default:null},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0}},data:function(){return{defaultThumbnial:"https://images.unsplash.com/photo-1565057748808-18c797216b0c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1489&q=80"}},computed:{previewImage:function(){return this.defaultThumbnial?"".concat(this.defaultThumbnial,"/240"):this.defaultThumbnial},dialogId:function(){return this.group.uuid},cardDisplayMode:function(){return this.$store.state.cardDisplayMode}},mounted:function(){},methods:{enterGroup:function(){this.$store.commit("updateEditPermission",!0),this.$store.commit("changeMemberGroup",this.group),this.$router.push("/manager/membergroup-preview")},checkEnterGroup:function(){this.selectModeOpen||this.enterGroup()},removeGroup:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:this.$t("確定刪除嗎?"),text:this.$t("刪掉就不會再回來囉"),buttons:[{title:this.$t("取消"),handler:function(){e.$modal.hide("dialog")}},{title:this.$t("確定"),handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})},openShareMappingModal:function(){this.$modal.show("manage-share-mapping-modal",{sourceObjectId:this.group.uuid})}}}),y=_,w=(i("db56"),i("c796"),Object(f["a"])(y,v,g,!1,null,"7a812f4b",null)),C=w.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"group-card"},["list-mode"===e.cardDisplayMode?i("div",{staticClass:"index"},[e._v(" "+e._s(e.index)+" ")]):e._e(),i("div",{class:{"pic-mode":"pic-mode"===e.cardDisplayMode,"list-mode":"list-mode"===e.cardDisplayMode},on:{dblclick:e.checkEnterGroup}},["list-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn-right"},[i("div",[i("b-dropdown",{staticClass:"action-menu",attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.selectModeOpen?e._e():i("div",{staticClass:"icon-btn"},[i("i",{staticClass:"fas fa-ellipsis-v"})])]},proxy:!0}],null,!1,2035416240)},[i("b-dropdown-item",{on:{click:e.enterGroup}},[e._v(" "+e._s(e.$t("編輯"))+" ")]),i("b-dropdown-divider"),i("b-dropdown-item",{on:{click:e.removeGroup}},[e._v(" "+e._s(e.$t("刪除"))+" ")])],1)],1)])]):e._e(),i("div",{staticClass:"state"},[i("img",{attrs:{src:e.previewImage}}),0===e.unsendNum&&0!==e.sentNum?i("div",[i("h2",{staticClass:"stateDone"},[e._v(" "+e._s(e.changeFormat(e.group.PushedQuizGroupList[e.group.PushedQuizGroupList.length-1].scheduledTime))+" ")])]):e._e(),0===e.unsendNum&&0===e.sentNum?i("div",[i("h2",{staticClass:"stateNone"},[e._v(" "+e._s(e.$t("尚未安排"))+" ")])]):e._e(),0===e.unsendNum||e.group.scheduledTime?e._e():i("div",[i("h2",{staticClass:"stateNone"},[e._v(" "+e._s(e.$t("暫存/未安排"))+" ")])]),0!==e.unsendNum&&e.group.scheduledTime?i("div",[i("h2",{staticClass:"stateIng"},[e._v(" "+e._s(e.changeFormat(e.group.scheduledTime))+" ")])]):e._e()]),i("div",{staticClass:"content"},[i("h1",{staticClass:"group-title"},[e._v(" "+e._s(e.group.metadata.name)+" ")]),i("div",{staticClass:"section"},[e.group&&e.group.onePush&&0!==e.unsendNum?i("div",{staticClass:"onePush-status"},[i("i",{staticClass:"fas fa-check"})]):e._e(),i("div",{staticClass:"sending-status"},[e.group&&e.group.quizGroups&&!e.group.scheduledTime&&0===e.sentNum?i("div",{staticClass:"value stateNone"},[e._v(" 0/"+e._s(e.group.quizGroups.length)+" ")]):i("div",{staticClass:"value",class:{stateDone:e.sentNum===e.unsendNum+e.sentNum,stateNone:0===e.sentNum&&e.unsendNum+e.sentNum===0}},[e._v(" "+e._s(e.sentNum)+"/"+e._s(e.unsendNum+e.sentNum)+" ")])]),"pic-mode"===e.cardDisplayMode?i("div",{staticClass:"btn-area"},[i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("刪除")},on:{click:e.removeGroup}},[i("i",{staticClass:"fas fa-trash"})])]),i("div",{staticClass:"ui-btn"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("編輯")},on:{click:e.enterGroup}},[i("i",{staticClass:"fas fa-pen"})])]),i("div",{staticClass:"ui-btn-right"},[i("div",{staticClass:"icon-btn",attrs:{title:e.$t("複製測驗代碼")},on:{click:function(t){return e.copyGroupCode()}}},[i("i",{staticClass:"fas fa-copy"})]),i("transition",{attrs:{name:"fade"}},[!0===e.copyMessageDisplay?i("p",{staticClass:"copy-message"},[e._v(" "+e._s(e.$t("已複製測驗代碼"))+" ")]):e._e()])],1)]):e._e()])])])])},k=[],M=(i("96cf"),i("1da1")),$=i("9741"),j=i("4523"),G=u["default"].extend({name:"QuizEventCard",components:{},props:{group:{type:Object,required:!0},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0}},data:function(){return{defaultThumbnial:"https://images.unsplash.com/photo-1606326608606-aa0b62935f2b?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",copyMessageDisplay:!1,copyMessageTimeoutId:0}},computed:{previewImage:function(){return this.defaultThumbnial?"".concat(this.defaultThumbnial,"/240"):this.defaultThumbnial},dialogId:function(){return this.group.uuid},cardDisplayMode:function(){return this.$store.state.cardDisplayMode},sentNum:function(){return this.group&&this.group.PushedQuizGroupList?this.group.PushedQuizGroupList.length:0},unsendNum:function(){return this.group&&this.group.TimeMap?j["a"].getUnsendNum(this.group.TimeMap):0}},mounted:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r["b"].$on("clear-copied-message",e.clearCopyMessageTimeout),console.log(e.group);case 2:case"end":return t.stop()}}),t)})))()},methods:{checkEnterGroup:function(){this.selectModeOpen||this.enterGroup()},changeFormat:function(e){var t=Date.parse(e),i=$["a"].timestampToDateStringFormat(t/1e3);return i},enterGroup:function(){this.$store.commit("changeQuizEvent",this.group),this.$router.push("/manager/quizevent-preview")},removeGroup:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:this.$t("確定刪除嗎?"),text:this.$t("刪掉就不會再回來囉"),buttons:[{title:this.$t("取消"),handler:function(){e.$modal.hide("dialog")}},{title:this.$t("確定"),handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})},copyGroupCode:function(){var e=this;r["b"].$emit("clear-copied-message"),console.log("copyText:",this.group.shortId),this.$copyText("".concat(this.group.shortId)).then((function(){e.copyMessageDisplay=!0,e.copyMessageTimeoutId=setTimeout(e.clearCopyMessage,1500)}),(function(e){console.error("複製失败",e.text)}))},clearCopyMessage:function(){this.copyMessageDisplay=!1},clearCopyMessageTimeout:function(){this.clearCopyMessage(),clearTimeout(this.copyMessageTimeoutId)}}}),x=G,E=(i("65ec"),Object(f["a"])(x,O,k,!1,null,"3309def9",null)),I=E.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shared-resource-card"},["list-mode"===e.cardDisplayMode?i("div",{staticClass:"index"},[e._v(" "+e._s(e.index)+" ")]):e._e(),i("div",{class:{"pic-mode":"pic-mode"===e.cardDisplayMode,"list-mode":"list-mode"===e.cardDisplayMode},on:{dblclick:e.checkEnterGroup}},[i("div",{staticClass:"content-container"},[i("h1",{staticClass:"name"},[e._v(" "+e._s(e.displayNameText)+" ")]),e.isValidSoftLink?i("div",{staticClass:"info"},[i("b-badge",{staticClass:"item permission",class:{heightest:e.sharedObject.permission===e.Permission.EDITOR,middle:e.sharedObject.permission===e.Permission.DETAIL_VIEWER,lowest:e.sharedObject.permission===e.Permission.GENERAL_VIEWER}},[e._v(" "+e._s(e.permissionText)+" ")]),e.infoText?i("b-badge",{staticClass:"item count value"},[e._v(" "+e._s(e.infoText)+" ")]):e._e(),i("b-badge",{staticClass:"item onwer value"},[e._v(" "+e._s(e.onwerText)+" ")])],1):i("div",[i("b-badge",{staticClass:"item",attrs:{variant:"danger"}},[e._v(" "+e._s(e.$t("無法存取"))+" ")])],1)]),i("div",{staticClass:"ui-icon-btn"},[i("div",{staticClass:"action-menu"},[i("b-dropdown",{attrs:{variant:"none","no-caret":"","toggle-class":"text-decoration-none",boundary:"window",dropright:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[i("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[e.canViewDetail?i("b-dropdown-item",{on:{click:function(t){return t.preventDefault(),e.viewDetail(t)}}},[e._v(" "+e._s(e.$t("檢視"))+" ")]):e._e(),e.canEdit?i("b-dropdown-item",{on:{click:function(t){return t.preventDefault(),e.goEdit(t)}}},[e._v(" "+e._s(e.$t("編輯"))+" ")]):e._e(),e.canViewDetail||e.canEdit?i("b-dropdown-divider"):e._e(),i("b-dropdown-item",{on:{click:function(t){return t.preventDefault(),e.remove(t)}}},[e._v(" "+e._s(e.$t("移除"))+" ")])],1)],1)])])])},S=[],D=(i("b0c0"),i("d3b7"),i("25f0"),i("bb3b")),T=u["default"].extend({name:"SharedObjectCard",components:{},props:{sharedObject:{type:Object,required:!0},displayName:{type:String,required:!1,default:""},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0}},data:function(){return{Permission:D["a"]}},computed:{isValidSoftLink:function(){return Boolean(this.sharedObject.sourceObject)},cardDisplayMode:function(){return this.$store.state.cardDisplayMode},permissionText:function(){if(this.sharedObject)switch(this.sharedObject.permission){case D["a"].EDITOR:return this.$t("可編輯").toString();case D["a"].DETAIL_VIEWER:return this.$t("可檢視").toString();case D["a"].GENERAL_VIEWER:return this.$t("僅可使用").toString();default:return this.$t("無權限").toString()}return this.$t("無權限").toString()},onwerText:function(){return this.sharedObject&&this.sharedObject.sourceObject?this.sharedObject.sourceObject.metadata.owner.username:this.$t("未知").toString()},infoText:function(){var e=this.sharedObject.sourceObject;if(!e)return"";switch(e.metadata.type){case n["a"].QuizGroup:return this.$tc("n題",e.quizNumber,{n:e.quizNumber}).toString();case n["a"].MemberGroup:return this.$tc("n人",e.memberCount,{n:e.memberCount}).toString();default:return""}},displayNameText:function(){if(this.displayName)return this.displayName;var e=this.sharedObject.sourceObject;if(!e)return"";switch(e.metadata.type){case n["a"].QuizGroup:case n["a"].Folder:case n["a"].QuizEvent:return e.metadata.name;case n["a"].MemberGroup:return e.uniqueName;default:return""}},canViewDetail:function(){return this.sharedObject.permission===D["a"].EDITOR||this.sharedObject.permission===D["a"].DETAIL_VIEWER},canEdit:function(){return this.sharedObject.permission===D["a"].EDITOR}},methods:{viewDetail:function(){this.enterGroup()},checkEnterGroup:function(){this.selectModeOpen||this.enterGroup()},goEdit:function(){"WorkspaceQuizGroup"===this.sharedObject.sourceObject.metadata.type?(this.$store.commit("changeQuizGroup",this.sharedObject.sourceObject),this.$router.push("/manager/quizgroup-maker")):"WorkspaceMemberGroup"===this.sharedObject.sourceObject.metadata.type&&(this.$store.commit("changeMemberGroup",this.sharedObject.sourceObject),this.$router.push("/manager/membergroup-maker"))},enterGroup:function(){this.canEdit?this.$store.commit("updateEditPermission",!0):this.$store.commit("updateEditPermission",!1),this.sharedObject.permission===D["a"].GENERAL_VIEWER?window.alert("權限不足，僅可使用"):"WorkspaceQuizGroup"===this.sharedObject.sourceObject.metadata.type?(this.$store.commit("changeQuizGroup",this.sharedObject.sourceObject),this.$router.push("/manager/quizgroup-preview")):"WorkspaceMemberGroup"===this.sharedObject.sourceObject.metadata.type&&(this.$store.commit("changeMemberGroup",this.sharedObject.sourceObject),this.$router.push("/manager/membergroup-preview"))},remove:function(){this.openRemoveModal()},openRemoveModal:function(){var e=this;this.$modal.show("dialog",{title:this.$t("確定刪除嗎?"),text:this.$t("刪掉就不會再回來囉"),buttons:[{title:this.$t("取消"),handler:function(){e.$modal.hide("dialog")}},{title:this.$t("確定"),handler:function(){e.$modal.hide("dialog"),e.$emit("removeMe")}}]})}}}),z=T,F=(i("bf8e"),i("4a6b"),Object(f["a"])(z,N,S,!1,null,"6da68f56",null)),R=F.exports,q=u["default"].extend({components:{QuizGroupCard:b,MemberGroupCard:C,QuizEventCard:I,SharedObjectCard:R},props:{workspaceObject:{type:Object,required:!0},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0}},data:function(){return{WorkspaceObjectType:n["a"]}},methods:{removeMe:function(){this.$emit("removeMe")}}}),Q=q,W=Object(f["a"])(Q,o,c,!1,null,null,null),A=W.exports,L=i("d4ec"),V=i("bee2"),B=function(){function e(){Object(L["a"])(this,e)}return Object(V["a"])(e,null,[{key:"getObjectName",value:function(e){var t=e;switch(t.metadata.type===n["a"].SoftLink&&(t=t.sourceObject),t.metadata.type){case n["a"].QuizGroup:case n["a"].Folder:case n["a"].QuizEvent:return t.metadata.name;case n["a"].MemberGroup:return t.uniqueName;default:return""}}}]),e}(),P=u["default"].extend({components:{WorkspaceCard:A},props:{workspaceObject:{type:Object,required:!0},defaultSelected:{type:Boolean,required:!0},displayMode:{type:String,default:"default"},allowSelectMany:{type:Boolean,default:!1},selection:{type:Array,required:!0},selectModeOpen:{type:Boolean,default:!1},index:{type:Number,default:0},isQuizUnitOn:{type:Boolean,default:!1}},data:function(){return{WorkspaceObjectType:n["a"],selected:!1}},computed:{isFolder:function(){var e=this.workspaceObject.metadata.type;return e===n["a"].SoftLink&&(e=this.workspaceObject.sourceObject.metadata.type),e===n["a"].Folder},isFile:function(){var e=this.workspaceObject.metadata.type;return e===n["a"].SoftLink&&(e=this.workspaceObject.sourceObject.metadata.type),!!this.isQuizUnitOn&&e===n["a"].QuizGroup},displayName:function(){return B.getObjectName(this.workspaceObject)},quizGroupId:function(){return this.$store.state.currentQuizGroup.uuid}},watch:{selectModeOpen:function(){this.init()}},mounted:function(){var e=this;this.selected=this.defaultSelected,r["c"].$on("reset",(function(){e.selected=e.defaultSelected}))},methods:{init:function(){!1===this.selectModeOpen&&(this.selected=!1)},removeGroupCard:function(){this.$emit("removeMe")},visit:function(){if(this.workspaceObject.uuid!==this.quizGroupId)if(this.isFolder){var e=this.workspaceObject.uuid;this.workspaceObject.metadata.type===n["a"].SoftLink&&(e=this.workspaceObject.sourceObject.uuid),this.$emit("visitFolder",e)}else if(this.isFile){var t=this.workspaceObject.uuid;this.workspaceObject.metadata.type===n["a"].SoftLink&&(t=this.workspaceObject.sourceObject.uuid),console.log(t),this.$emit("visitFile",t)}},clickItemToggle:function(){this.selectModeOpen&&!this.isQuizUnitOn&&(this.isFolder&&"workspaceSelectFolder"!==this.displayMode||(this.selected=!this.selected,this.$emit("toggle")))},clickFolderToggle:function(){this.selectModeOpen&&this.isFolder&&(this.selected=!this.selected,this.$emit("toggle"))}}}),U=P,H=(i("4564"),Object(f["a"])(U,s,a,!1,null,"0780fd38",null));t["a"]=H.exports},"9c7b":function(e,t,i){},a9e3:function(e,t,i){"use strict";var s=i("83ab"),a=i("da84"),n=i("94ca"),r=i("6eeb"),o=i("5135"),c=i("c6b6"),u=i("7156"),d=i("c04e"),l=i("d039"),p=i("7c73"),m=i("241c").f,f=i("06cf").f,h=i("9bf2").f,b=i("58a8").trim,v="Number",g=a[v],_=g.prototype,y=c(p(_))==v,w=function(e){var t,i,s,a,n,r,o,c,u=d(e,!1);if("string"==typeof u&&u.length>2)if(u=b(u),t=u.charCodeAt(0),43===t||45===t){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+u}for(n=u.slice(2),r=n.length,o=0;o<r;o++)if(c=n.charCodeAt(o),c<48||c>a)return NaN;return parseInt(n,s)}return+u};if(n(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,O=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof O&&(y?l((function(){_.valueOf.call(i)})):c(i)!=v)?u(new g(w(t)),i,O):w(t)},k=s?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;k.length>M;M++)o(g,C=k[M])&&!o(O,C)&&h(O,C,f(g,C));O.prototype=_,_.constructor=O,r(a,v,O)}},b47d:function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return o}));var s=i("2b0e"),a=new s["default"],n=new s["default"],r=(new s["default"],new s["default"]),o=new s["default"]},baa3:function(e,t,i){"use strict";var s=i("008c"),a=i.n(s);a.a},bb3b:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n}));var s,a=i("d4ec");(function(e){e["EDITOR"]="EDITOR",e["DETAIL_VIEWER"]="DETAIL_VIEWER",e["GENERAL_VIEWER"]="GENERAL_VIEWER"})(s||(s={}));var n=function e(t){Object(a["a"])(this,e),this.permission=t}},bf8e:function(e,t,i){"use strict";var s=i("32fc"),a=i.n(s);a.a},c461:function(e,t,i){"use strict";var s=i("7629"),a=i.n(s);a.a},c740:function(e,t,i){"use strict";var s=i("23e7"),a=i("b727").findIndex,n=i("44d2"),r=i("ae40"),o="findIndex",c=!0,u=r(o);o in[]&&Array(1)[o]((function(){c=!1})),s({target:"Array",proto:!0,forced:c||!u},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(o)},c796:function(e,t,i){"use strict";var s=i("9c7b"),a=i.n(s);a.a},c8d2:function(e,t,i){var s=i("d039"),a=i("5899"),n="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||n[e]()!=n||a[e].name!==e}))}},c975:function(e,t,i){"use strict";var s=i("23e7"),a=i("4d64").indexOf,n=i("a640"),r=i("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=n("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!u||!d},{indexOf:function(e){return c?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},db56:function(e,t,i){"use strict";var s=i("8b11"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-100cdea2.3c30f0dd.js.map